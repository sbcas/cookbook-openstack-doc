<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>Cookbook OpenStack Documentation</title>
  <meta name="description" content="Documentation for OpenStack cookbooks generated from the source ReadMe and attribute files.
">

  <link rel="stylesheet" href="http://kramvan1.github.io/cookbook-openstack-doc/css/main.css">
  <link rel="canonical" href="http://www.openstack.orghttp://kramvan1.github.io/cookbook-openstack-doc/">
  <link rel="alternate" type="application/rss+xml" title="Cookbook OpenStack Documentation" href="http://www.openstack.orghttp://kramvan1.github.io/cookbook-openstack-doc/feed.xml" />
</head>


  <body>

    <header class="site-header">

  <div class="wrapper">

    <a class="site-title" href="http://kramvan1.github.io/cookbook-openstack-doc/">Cookbook OpenStack Documentation</a>

    <nav class="site-nav">
      <a href="#" class="menu-icon">
        <svg viewBox="0 0 18 15">
          <path fill="#424242" d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.031C17.335,0,18,0.665,18,1.484L18,1.484z"/>
          <path fill="#424242" d="M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0c0-0.82,0.665-1.484,1.484-1.484 h15.031C17.335,6.031,18,6.696,18,7.516L18,7.516z"/>
          <path fill="#424242" d="M18,13.516C18,14.335,17.335,15,16.516,15H1.484C0.665,15,0,14.335,0,13.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.031C17.335,12.031,18,12.696,18,13.516L18,13.516z"/>
        </svg>
      </a>

      <div class="trigger">
        
          
        
          
        
      </div>
    </nav>

  </div>

</header>


    <div class="page-content">
      <div class="wrapper">
        <div class="home">

  <h1 class="page-heading">Attribute Information</h1>

  <div class="page">
    
    <h1 id="openstack-cookbook-attributes">OpenStack Cookbook Attributes</h1>

<h2 id="contents">Contents</h2>

<ul>
  <li><a href="#cookbook-openstack-commonattributesdatabase">cookbook-openstack-common_attributes_database</a></li>
  <li><a href="#cookbook-openstack-commonattributesdefault">cookbook-openstack-common_attributes_default</a></li>
  <li><a href="#cookbook-openstack-commonattributesmessaging">cookbook-openstack-common_attributes_messaging</a></li>
  <li><a href="#cookbook-openstack-bare-metalattributesdefault">cookbook-openstack-bare-metal_attributes_default</a></li>
  <li><a href="#cookbook-openstack-block-storageattributesdefault">cookbook-openstack-block-storage_attributes_default</a></li>
  <li><a href="#cookbook-openstack-clientattributesdefault">cookbook-openstack-client_attributes_default</a></li>
  <li><a href="#cookbook-openstack-computeattributesdefault">cookbook-openstack-compute_attributes_default</a></li>
  <li><a href="#cookbook-openstack-dashboardattributesdefault">cookbook-openstack-dashboard_attributes_default</a></li>
  <li><a href="#cookbook-openstack-databaseattributesdefault">cookbook-openstack-database_attributes_default</a></li>
  <li><a href="#cookbook-openstack-identityattributesdefault">cookbook-openstack-identity_attributes_default</a></li>
  <li><a href="#cookbook-openstack-imageattributesdefault">cookbook-openstack-image_attributes_default</a></li>
  <li><a href="#cookbook-openstack-networkattributesdefault">cookbook-openstack-network_attributes_default</a></li>
  <li><a href="#cookbook-openstack-object-storageattributesdefault">cookbook-openstack-object-storage_attributes_default</a></li>
  <li><a href="#cookbook-openstack-ops-databaseattributesdefault">cookbook-openstack-ops-database_attributes_default</a></li>
  <li><a href="#cookbook-openstack-ops-databaseattributesmysql">cookbook-openstack-ops-database_attributes_mysql</a></li>
  <li><a href="#cookbook-openstack-ops-messagingattributesdefault">cookbook-openstack-ops-messaging_attributes_default</a></li>
  <li><a href="#cookbook-openstack-orchestrationattributesdefault">cookbook-openstack-orchestration_attributes_default</a></li>
  <li><a href="#cookbook-openstack-telemetryattributesdefault">cookbook-openstack-telemetry_attributes_default</a></li>
</ul>

<hr />

<h2 id="cookbook-openstack-commonattributesdatabase">cookbook-openstack-common_attributes_database</h2>

<p><a href="#contents">back to top</a></p>

<p>======================== OpenStack DB Support ================================</p>

<p>This section of node attributes stores information about the database hosts
used in an OpenStack deployment.</p>

<p>There is no ‘scheme’ key. Instead, there is a ‘service_type’ key that should
contain one of ‘sqlite’, ‘mysql’, ‘db2’ or ‘postgresql’</p>

<p>The ::Openstack::db(<service_name>) library routine allows a lookup from any recipe
to this array, returning the host information for the server that contains
the database for <service_name>, where <service_name> is one of 'compute' (Nova),
'image' (Glance), 'identity' (Keystone), 'network' (Neutron), or 'volume' (Cinder)</service_name></service_name></service_name></p>

<p>The ::Openstack::db_connection(<service_name>, <user>, <password>) library routine
returns the SQLAlchemy DB URI for <service_name>, with the supplied user and password
that a calling service might be using when connecting to the database.</service_name></password></user></service_name></p>

<p>For example, let’s assume that the database that is used by the OpenStack Identity
service (Keystone) is configured as follows:</p>

<p>host: 192.168.0.3
port: 3306
service_type: mysql
db_name: keystone</p>

<p>Further suppose that a node running the OpenStack Identity API service needs to
connect to the above identity database server. It has the following in it’s node
attributes:</p>

<p>node[‘openstack’][‘db’][‘identity’][‘username’] = ‘keystone’</p>

<p>In a ‘keystone’ recipe, you might find the following code:</p>

<p>user = node[‘openstack’][‘db’][‘identity’][‘username’]
pass = get_password ‘db’, ‘keystone’</p>

<p>sql_connection = ::Openstack::db_uri(‘identity’, user, pass)</p>

<p>The sql_connection variable would then be set to “mysql://keystone:password@192.168.0.3:keystone”
and could then be written to the keystone.conf file in a template.</p>

<p>Database Migrations:</p>

<p>node[‘openstack’][‘db’][<service_name>]['migrate']</service_name></p>

<p>The above attribute causes database migrations to be executed for the given
service.  There are cases where migrations should not be executed.  For
example when upgrading a zone, and the image or identity database are replicated
across many zones.</p>

<p><strong>**</strong><strong>**</strong><strong>**</strong>** Database Endpoint <strong>**</strong><strong>**</strong><strong>**</strong><strong>**</strong><strong>**</strong><strong>**</strong>**</p>

<p><code>
default['openstack']['endpoints']['db']['host'] = '127.0.0.1'    
default['openstack']['endpoints']['db']['scheme'] = nil    
default['openstack']['endpoints']['db']['port'] = '3306'    
default['openstack']['endpoints']['db']['path'] = nil    
default['openstack']['endpoints']['db']['bind_interface'] = nil    
</code></p>

<p>Default database attributes</p>

<p><code>
default['openstack']['db']['server_role'] = 'os-ops-database'    
# Database charset during create database    
default['openstack']['db']['charset'] = {    
  mysql: 'utf8',    
  'percona-cluster' =&gt; 'utf8',    
  mariadb: 'utf8',    
  postgresql: nil,    
  pgsql: nil,    
  sqlite: nil,    
  db2: 'utf8',    
  nosql: nil,    
  galera: 'utf8'    
}    
</code></p>

<p>Database connection options. Should include starting ‘?’</p>

<p><code>
default['openstack']['db']['options'] = {    
  mysql: "?charset=#{node['openstack']['db']['charset']['mysql']}",    
  'percona-cluster' =&gt; "?charset=#{node['openstack']['db']['charset']['percona-cluster']}",    
  mariadb: "?charset=#{node['openstack']['db']['charset']['mariadb']}",    
  postgresql: '',    
  sqlite: '',    
  db2: "?charset=#{node['openstack']['db']['charset']['db2']}",    
  nosql: '',    
  galera: "?charset=#{node['openstack']['db']['charset']['galera']}"    
}    
</code></p>

<p>platform and DBMS-specific python client packages</p>

<p><code>
default['openstack']['db']['python_packages'] = {    
  postgresql: ['python-psycopg2'],    
  sqlite: []    
}    
case node['platform_family']    
when 'rhel'    
  default['openstack']['db']['service_type'] = 'mariadb'    
  default['openstack']['db']['python_packages']['mysql'] = ['MySQL-python']    
  default['openstack']['db']['python_packages']['mariadb'] = ['MySQL-python']    
  default['openstack']['db']['python_packages']['percona-cluster'] = ['MySQL-python']    
  default['openstack']['db']['python_packages']['db2'] = ['python-ibm-db', 'python-ibm-db-sa']    
  default['openstack']['db']['python_packages']['galera'] = ['MySQL-python']    
when 'suse'    
  default['openstack']['db']['service_type'] = 'mysql'    
  default['openstack']['db']['python_packages']['mysql'] = ['python-mysql']    
  default['openstack']['db']['python_packages']['mariadb'] = ['python-mysql']    
  default['openstack']['db']['python_packages']['galera'] = ['python-mysql']    
  default['openstack']['db']['python_packages']['percona-cluster'] = ['python-mysql']    
when 'debian'    
  default['openstack']['db']['service_type'] = 'mysql'    
  default['openstack']['db']['python_packages']['mysql'] = ['python-mysqldb']    
  default['openstack']['db']['python_packages']['mariadb'] = ['python-mysqldb']    
  default['openstack']['db']['python_packages']['percona-cluster'] = ['python-mysqldb']    
  default['openstack']['db']['python_packages']['db2'] = ['ibm-db', 'ibm-db-sa']    
  default['openstack']['db']['python_packages']['galera'] = ['python-mysqldb']    
end    
</code></p>

<p>Database used by the OpenStack services</p>

<p><code>
node['openstack']['common']['services'].each do |service, project|    
  default['openstack']['db'][service]['service_type'] = node['openstack']['db']['service_type']    
  default['openstack']['db'][service]['host'] = node['openstack']['endpoints']['db']['host']    
  default['openstack']['db'][service]['port'] = node['openstack']['endpoints']['db']['port']    
  default['openstack']['db'][service]['db_name'] = project    
  default['openstack']['db'][service]['username'] = project    
  default['openstack']['db'][service]['options'] = node['openstack']['db']['options']    
</code></p>

<p><code>
  case service    
  when 'dashboard'    
    default['openstack']['db'][service]['migrate'] = true    
  when 'identity'    
    default['openstack']['db'][service]['migrate'] = true    
  when 'image'    
    default['openstack']['db'][service]['migrate'] = true    
  when 'network'    
    # The SQLAlchemy connection string used to connect to the slave database    
    default['openstack']['db'][service]['slave_connection'] = ''    
</code></p>

<p><code>
    # Database reconnection retry times - in event connectivity is lost    
    default['openstack']['db'][service]['max_retries'] = 10    
</code></p>

<p><code>
    # Database reconnection interval in seconds - if the initial connection to the database fails    
    default['openstack']['db'][service]['retry_interval'] = 10    
</code></p>

<p><code>
    # Minimum number of SQL connections to keep open in a pool    
    default['openstack']['db'][service]['min_pool_size'] = 1    
</code></p>

<p><code>
    # Maximum number of SQL connections to keep open in a pool    
    default['openstack']['db'][service]['max_pool_size'] = 10    
</code></p>

<p><code>
    # Timeout in seconds before idle sql connections are reaped    
    default['openstack']['db'][service]['idle_timeout'] = 3600    
</code></p>

<p><code>
    # If set, use this value for max_overflow with sqlalchemy    
    default['openstack']['db'][service]['max_overflow'] = 20    
</code></p>

<p><code>
    # Verbosity of SQL debugging information. 0=None, 100=Everything    
    default['openstack']['db'][service]['connection_debug'] = 0    
</code></p>

<p><code>
    # Add python stack traces to SQL as comment strings    
    default['openstack']['db'][service]['connection_trace'] = false    
</code></p>

<p><code>
    # If set, use this value for pool_timeout with sqlalchemy    
    default['openstack']['db'][service]['pool_timeout'] = 10    
  when 'telemetry'    
    default['openstack']['db'][service]['nosql']['used'] = false    
    default['openstack']['db'][service]['nosql']['port'] = '27017'    
  end    
end    
</code></p>

<p>DB key to the get_password library routine</p>

<p><code>
default['openstack']['db']['root_user_key'] = 'mysqlroot'    
</code></p>

<hr />

<h2 id="cookbook-openstack-commonattributesdefault">cookbook-openstack-common_attributes_default</h2>

<p><a href="#contents">back to top</a></p>

<p>Set to some text value if you want templated config files
to contain a custom banner at the top of the written file</p>

<p><code>
default['openstack']['common']['custom_template_banner'] = '    
# This file autogenerated by Chef    
# Do not edit, changes will be overwritten    
'    
</code></p>

<p>OpenStack services and their project names</p>

<p><code>
default['openstack']['common']['services'] = {    
  'bare-metal' =&gt; 'ironic',    
  'block-storage' =&gt; 'cinder',    
  'compute' =&gt; 'nova',    
  'dashboard' =&gt; 'horizon',    
  'database' =&gt; 'trove',    
  'identity' =&gt; 'keystone',    
  'image' =&gt; 'glance',    
  'network' =&gt; 'neutron',    
  'object-storage' =&gt; 'swift',    
  'orchestration' =&gt; 'heat',    
  'telemetry' =&gt; 'ceilometer'    
}    
</code></p>

<p>Setting this to True means that database passwords and service user
passwords for Keystone will be easy-to-remember values – they will be
the same value as the key. For instance, if a cookbook calls the
::Openstack::secret routine like so:</p>

<p>pass = secret “passwords”, “nova”</p>

<p>The value of pass will be “nova”</p>

<p>Use data bags for storing passwords
Set this to false in order to get the passwords from attributes like:
node[‘openstack’][‘secret’][key][type]</p>

<p><code>
default['openstack']['use_databags'] = true    
</code></p>

<p>Set databag type
acceptable values ‘encrypted’, ‘standard’, ‘vault’
Set this to ‘standard’ in order to use regular databags.
this is not recommended for anything other than dev/CI
type environments.  Storing real secrets in plaintext = craycray.
In addition to the encrypted data_bags which are an included
feature of the official chef project, you can use ‘vault’ to
encrypt your secrets with the method provided in the chef-vault gem.</p>

<p><code>
default['openstack']['databag_type'] = 'encrypted'    
default['openstack']['vault_gem_version'] = '~&gt; 2.3'    
</code></p>

<p>Default attributes when not using data bags (use_databags = false)</p>

<p><code>
node['openstack']['common']['services'].each_key do |service|    
  %w(user service db token).each do |type|    
    default['openstack']['secret'][service][type] = "#{service}-#{type}"    
  end    
end    
</code></p>

<p>The type of token signing to use (uuid or pki)</p>

<p><code>
default['openstack']['auth']['strategy'] = 'pki'    
</code></p>

<p>Set to true where using self-signed certs (in testing environments)</p>

<p><code>
default['openstack']['auth']['validate_certs'] = true    
</code></p>

<p>========================= Encrypted Databag Setup ===========================</p>

<p>The openstack-common cookbook’s default library contains a <code>secret</code>
routine that looks up the value of encrypted databag values. This routine
uses the secret key file located at the following location to decrypt the
values in the data bag.</p>

<p><code>
default['openstack']['secret']['key_path'] = '/etc/chef/openstack_data_bag_secret'    
</code></p>

<p>The name of the encrypted data bag that stores openstack secrets</p>

<p><code>
default['openstack']['secret']['secrets_data_bag'] = 'secrets'    
</code></p>

<p>The name of the encrypted data bag that stores service user passwords, with
each key in the data bag corresponding to a named OpenStack service, like
“nova”, “cinder”, etc.</p>

<p><code>
default['openstack']['secret']['service_passwords_data_bag'] = 'service_passwords'    
</code></p>

<p>The name of the encrypted data bag that stores DB passwords, with
each key in the data bag corresponding to a named OpenStack database, like
“nova”, “cinder”, etc.</p>

<p><code>
default['openstack']['secret']['db_passwords_data_bag'] = 'db_passwords'    
</code></p>

<p>The name of the encrypted data bag that stores Keystone user passwords, with
each key in the data bag corresponding to a user (Keystone or otherwise).</p>

<p><code>
default['openstack']['secret']['user_passwords_data_bag'] = 'user_passwords'    
</code></p>

<p>========================= Package and Repository Setup ======================</p>

<p>Various Linux distributions provide OpenStack packages and repositories.
The provide some sensible defaults, but feel free to override per your
needs.
The coordinated release of OpenStack codename</p>

<p><code>
default['openstack']['release'] = 'kilo'    
</code></p>

<p>The Ubuntu Cloud Archive has packages for multiple Ubuntu releases. For
more information, see: https://wiki.ubuntu.com/ServerTeam/CloudArchive.
In the component strings, %codename% will be replaced by the value of
the node[‘lsb’][‘codename’] Ohai value and %release% will be replaced
by the value of node[‘openstack’][‘release’]</p>

<p>Change [‘openstack’][‘apt’][‘update_apt_cache’] to true if you would like
have the cache automaticly updated</p>

<p><code>
default['openstack']['apt']['update_apt_cache'] = false    
default['openstack']['apt']['live_updates_enabled'] = true    
default['openstack']['apt']['uri'] = 'http://ubuntu-cloud.archive.canonical.com/ubuntu'    
default['openstack']['apt']['components'] = ["#{node['lsb']['codename']}-updates/#{node['openstack']['release']}", 'main']    
# For the SRU packaging, use this:    
# default['openstack']['apt']['components'] = [ '%codename%-proposed/%release%', 'main' ]    
</code></p>

<p><code>
default['openstack']['zypp']['repo-key'] = 'd85f9316'  # 32 bit key ID    
default['openstack']['zypp']['uri'] = 'http://download.opensuse.org/repositories/Cloud:/OpenStack:/%release%/%suse-release%/'    
</code></p>

<p>```
default[‘openstack’][‘yum’][‘rdo_enabled’] = true  <br />
default[‘openstack’][‘yum’][‘rdo_delorean_enabled’] = false  <br />
default[‘openstack’][‘yum’][‘uri’] = ‘http://repos.fedorapeople.org/repos/openstack/openstack-kilo/el7’  <br />
default[‘openstack’][‘yum’][‘repo-key’] = ‘https://raw.githubusercontent.com/redhat-openstack/rdo-release/master/RPM-GPG-KEY-RDO-kilo’  <br />
# Enforcing GnuPG signature check for RDO repo. Set this to false if you want to disable the check.  <br />
default[‘openstack’][‘yum’][‘gpgcheck’] = true</p>

<p>======================== OpenStack Endpoints ================================</p>

<p>OpenStack recipes often need information about the various service
endpoints in the deployment. For instance, the cookbook that deploys
the Nova API service will need to set the glance_api_servers configuration
option in the nova.conf, and the cookbook setting up the Glance image
service might need information on the Swift proxy endpoint, etc. Having
all of this related OpenStack endpoint information in a single set of
common attributes in the openstack-common cookbook attributes means that
instead of doing funky role-based lookups, a deployment zone’s OpenStack
endpoint information can simply be accessed by having the
openstack-common::default recipe added to some base role definition file
that all OpenStack nodes add to their run list.</p>

<p>node[‘openstack’][‘endpoints’] is a hash of hashes, where each value hash
contains one of more of the following keys:</p>

<ul>
  <li>scheme</li>
  <li>uri</li>
  <li>host</li>
  <li>port</li>
  <li>path</li>
  <li>bind_interface</li>
</ul>

<p>If the uri key is set, its value is used as the full URI for the endpoint.
If the uri key is not set, the endpoint’s full URI is constructed from the
component parts. This allows setups that use some standardized DNS names for
OpenStack service endpoints in a deployment zone as well as setups that
instead assign IP addresses (for an actual node or a load balanced virtual
IP) in a network to a particular OpenStack service endpoint. If the
bind_interface is set, it will set the host IP in the
set_endpoints_by_interface recipe.</p>

<p>If you wish to use different values for the admin, public, and internal
URIs for a service, you can easily do so by putting that service’s
information within the node[‘openstack’][‘endpoints’][type][service] hash
(where type is one of ‘admin’, ‘public’, or ‘internal’).
For example, to use a special public URI for compute-api, it could be
specified within…
node[‘openstack’][‘endpoints’][‘public’][‘compute-api’] = …</p>

<p>If you have no need for separate URIs for any of the admin, public, or
internal endpoints for compute-api, then you could just set the general
service endpoint within…
node[‘openstack’][‘endpoints’][‘compute-api’] = …
<strong>**</strong><strong>**</strong><strong>**</strong>** OpenStack Identity Endpoints <strong>**</strong><strong>**</strong><strong>**</strong><strong>**</strong>***</p>

<p><code>
default['openstack']['endpoints']['host'] = '127.0.0.1'    
default['openstack']['endpoints']['family'] = 'inet'    
default['openstack']['endpoints']['scheme'] = 'http'    
</code></p>

<p>Note: The [‘<service-name>-bind'] for each service exist so that a user can
have a service bind to a local IP per API node, that is different to the
actual endpoint for that service, which may be a load balanced IP.</service-name></p>

<p><code>
default['openstack']['endpoints']['bind-host'] = '127.0.0.1'    
# Also allow a common bind interface for easier configuration.    
default['openstack']['endpoints']['bind_interface'] = nil    
</code></p>

<p>The OpenStack Identity (Keystone) API endpoint. This is commonly called
the Keystone Service endpoint…
NOTE(mancdaz): There is a single ‘identity-bind’ mash that is used
by the identity cookbook, for both service and admin endpoint binds.
This is because keystone presents two ports but only a single service,
that can only be bound to a single IP.</p>

<p><code>
default['openstack']['endpoints']['identity-bind']['host'] = node['openstack']['endpoints']['bind-host']    
default['openstack']['endpoints']['identity-bind']['bind_interface'] = node['openstack']['endpoints']['bind_interface']    
</code></p>

<p><code>
default['openstack']['endpoints']['identity-api']['host'] = node['openstack']['endpoints']['host']    
default['openstack']['endpoints']['identity-api']['scheme'] = node['openstack']['endpoints']['scheme']    
default['openstack']['endpoints']['identity-api']['port'] = '5000'    
default['openstack']['endpoints']['identity-api']['path'] = '/v2.0'    
default['openstack']['endpoints']['identity-api']['bind_interface'] = nil    
</code></p>

<p>The OpenStack Identity (Keystone) Internal API endpoint
For a reference architecture this is a sensable default, however with a more
complex network setup the public endpoint may not be reachable by internal
systems, thus the ability to set this to something different must be present.
Even if the public endpoint is reachable there may be other reasons to send
interal communications to a different endpoint, for security or auditing
purposes for example.
Generally this listens on the same IP as the admin interface, but with the
public pipeline(5000) instead of the admin pipeline(35357).</p>

<p><code>
default['openstack']['endpoints']['identity-internal']['host'] = node['openstack']['endpoints']['host']    
default['openstack']['endpoints']['identity-internal']['scheme'] = node['openstack']['endpoints']['scheme']    
default['openstack']['endpoints']['identity-internal']['port'] = '5000'    
default['openstack']['endpoints']['identity-internal']['path'] = '/v2.0'    
default['openstack']['endpoints']['identity-internal']['bind_interface'] = nil    
</code></p>

<p>The OpenStack Identity (Keystone) Admin API endpoint</p>

<p><code>
default['openstack']['endpoints']['identity-admin-bind']['host'] = node['openstack']['endpoints']['bind-host']    
default['openstack']['endpoints']['identity-admin-bind']['port'] = '35357'    
default['openstack']['endpoints']['identity-admin-bind']['bind_interface'] = node['openstack']['endpoints']['bind_interface']    
</code></p>

<p><code>
default['openstack']['endpoints']['identity-admin']['host'] = node['openstack']['endpoints']['host']    
default['openstack']['endpoints']['identity-admin']['scheme'] = node['openstack']['endpoints']['scheme']    
default['openstack']['endpoints']['identity-admin']['port'] = '35357'    
default['openstack']['endpoints']['identity-admin']['path'] = '/v2.0'    
default['openstack']['endpoints']['identity-admin']['bind_interface'] = nil    
</code></p>

<p><strong>**</strong><strong>**</strong><strong>**</strong> OpenStack Compute Endpoints <strong>**</strong><strong>**</strong><strong>**</strong><strong>**</strong><strong>**</strong>
The OpenStack Compute (Nova) Native API endpoint</p>

<p><code>
default['openstack']['endpoints']['compute-api-bind']['host'] = node['openstack']['endpoints']['bind-host']    
default['openstack']['endpoints']['compute-api-bind']['port'] = '8774'    
default['openstack']['endpoints']['compute-api-bind']['bind_interface'] = node['openstack']['endpoints']['bind_interface']    
</code></p>

<p><code>
default['openstack']['endpoints']['compute-api']['host'] = node['openstack']['endpoints']['host']    
default['openstack']['endpoints']['compute-api']['scheme'] = node['openstack']['endpoints']['scheme']    
default['openstack']['endpoints']['compute-api']['port'] = '8774'    
default['openstack']['endpoints']['compute-api']['path'] = '/v2/%(tenant_id)s'    
default['openstack']['endpoints']['compute-api']['bind_interface'] = nil    
</code></p>

<p>The OpenStack Compute (Nova) EC2 API endpoint</p>

<p><code>
default['openstack']['endpoints']['compute-ec2-api-bind']['host'] = node['openstack']['endpoints']['bind-host']    
default['openstack']['endpoints']['compute-ec2-api-bind']['port'] = '8773'    
default['openstack']['endpoints']['compute-ec2-api-bind']['bind_interface'] = node['openstack']['endpoints']['bind_interface']    
</code></p>

<p><code>
default['openstack']['endpoints']['compute-ec2-api']['host'] = node['openstack']['endpoints']['host']    
default['openstack']['endpoints']['compute-ec2-api']['scheme'] = node['openstack']['endpoints']['scheme']    
default['openstack']['endpoints']['compute-ec2-api']['port'] = '8773'    
default['openstack']['endpoints']['compute-ec2-api']['path'] = '/services/Cloud'    
default['openstack']['endpoints']['compute-ec2-api']['bind_interface'] = nil    
</code></p>

<p>The OpenStack Compute (Nova) EC2 Admin API endpoint</p>

<p><code>
default['openstack']['endpoints']['compute-ec2-admin-bind']['host'] = node['openstack']['endpoints']['bind-host']    
default['openstack']['endpoints']['compute-ec2-admin-bind']['port'] = '8773'    
default['openstack']['endpoints']['compute-ec2-admin-bind']['bind_interface'] = node['openstack']['endpoints']['bind_interface']    
</code></p>

<p><code>
default['openstack']['endpoints']['compute-ec2-admin']['host'] = node['openstack']['endpoints']['host']    
default['openstack']['endpoints']['compute-ec2-admin']['scheme'] = node['openstack']['endpoints']['scheme']    
default['openstack']['endpoints']['compute-ec2-admin']['port'] = '8773'    
default['openstack']['endpoints']['compute-ec2-admin']['path'] = '/services/Admin'    
default['openstack']['endpoints']['compute-ec2-admin']['bind_interface'] = nil    
</code></p>

<p>The OpenStack Compute (Nova) XVPvnc endpoint</p>

<p><code>
default['openstack']['endpoints']['compute-xvpvnc-bind']['host'] = node['openstack']['endpoints']['bind-host']    
default['openstack']['endpoints']['compute-xvpvnc-bind']['port'] = '6081'    
default['openstack']['endpoints']['compute-xvpvnc-bind']['bind_interface'] = node['openstack']['endpoints']['bind_interface']    
</code></p>

<p><code>
default['openstack']['endpoints']['compute-xvpvnc']['host'] = node['openstack']['endpoints']['host']    
default['openstack']['endpoints']['compute-xvpvnc']['scheme'] = node['openstack']['endpoints']['scheme']    
default['openstack']['endpoints']['compute-xvpvnc']['port'] = '6081'    
default['openstack']['endpoints']['compute-xvpvnc']['path'] = '/console'    
default['openstack']['endpoints']['compute-xvpvnc']['bind_interface'] = nil    
</code></p>

<p>The OpenStack Compute (Nova) novnc endpoint</p>

<p><code>
default['openstack']['endpoints']['compute-novnc-bind']['host'] = node['openstack']['endpoints']['bind-host']    
default['openstack']['endpoints']['compute-novnc-bind']['port'] = '6080'    
default['openstack']['endpoints']['compute-novnc-bind']['bind_interface'] = node['openstack']['endpoints']['bind_interface']    
</code></p>

<p><code>
default['openstack']['endpoints']['compute-novnc']['host'] = node['openstack']['endpoints']['host']    
default['openstack']['endpoints']['compute-novnc']['scheme'] = node['openstack']['endpoints']['scheme']    
default['openstack']['endpoints']['compute-novnc']['port'] = '6080'    
default['openstack']['endpoints']['compute-novnc']['path'] = '/vnc_auto.html'    
default['openstack']['endpoints']['compute-novnc']['bind_interface'] = nil    
</code></p>

<p>The OpenStack Compute (Nova) vnc endpoint</p>

<p><code>
default['openstack']['endpoints']['compute-vnc-bind']['host'] = node['openstack']['endpoints']['bind-host']    
default['openstack']['endpoints']['compute-vnc-bind']['bind_interface'] = node['openstack']['endpoints']['bind_interface']    
</code></p>

<p><code>
default['openstack']['endpoints']['compute-vnc']['host'] = node['openstack']['endpoints']['host']    
default['openstack']['endpoints']['compute-vnc']['scheme'] = nil    
default['openstack']['endpoints']['compute-vnc']['port'] = nil    
default['openstack']['endpoints']['compute-vnc']['path'] = nil    
default['openstack']['endpoints']['compute-vnc']['bind_interface'] = nil    
</code></p>

<p>The OpenStack Compute (Nova) vnc proxy endpoint</p>

<p><code>
default['openstack']['endpoints']['compute-vnc-proxy-bind']['host'] = node['openstack']['endpoints']['compute-vnc-bind']['host']    
default['openstack']['endpoints']['compute-vnc-proxy-bind']['bind_interface'] = node['openstack']['endpoints']['compute-vnc-bind']['bind_interface']    
</code></p>

<p>The OpenStack Compute (Nova) metadata API endpoint</p>

<p><code>
default['openstack']['endpoints']['compute-metadata-api-bind']['host'] = node['openstack']['endpoints']['bind-host']    
default['openstack']['endpoints']['compute-metadata-api-bind']['port'] = '8775'    
default['openstack']['endpoints']['compute-metadata-api-bind']['bind_interface'] = node['openstack']['endpoints']['bind_interface']    
</code></p>

<p><code>
default['openstack']['endpoints']['compute-metadata-api']['host'] = node['openstack']['endpoints']['host']    
default['openstack']['endpoints']['compute-metadata-api']['scheme'] = node['openstack']['endpoints']['scheme']    
default['openstack']['endpoints']['compute-metadata-api']['port'] = '8775'    
default['openstack']['endpoints']['compute-metadata-api']['path'] = nil    
default['openstack']['endpoints']['compute-metadata-api']['bind_interface'] = nil    
</code></p>

<p>The OpenStack Compute (Nova) serial console endpoint</p>

<p><code>
default['openstack']['endpoints']['compute-serial-console-bind']['host'] = node['openstack']['endpoints']['bind-host']    
default['openstack']['endpoints']['compute-serial-console-bind']['bind_interface'] = node['openstack']['endpoints']['bind_interface']    
</code></p>

<p>The OpenStack Compute (Nova) serial proxy endpoint</p>

<p><code>
default['openstack']['endpoints']['compute-serial-proxy']['host'] = node['openstack']['endpoints']['host']    
default['openstack']['endpoints']['compute-serial-proxy']['scheme'] = 'ws'    
default['openstack']['endpoints']['compute-serial-proxy']['port'] = '6083'    
default['openstack']['endpoints']['compute-serial-proxy']['path'] = '/'    
default['openstack']['endpoints']['compute-serial-proxy']['bind_interface'] = nil    
</code></p>

<p><strong>**</strong><strong>**</strong><strong>**</strong>** OpenStack Network Endpoints <strong>**</strong><strong>**</strong><strong>**</strong><strong>**</strong><em>**</em>
The OpenStack Network (Neutron) API endpoint.</p>

<p><code>
default['openstack']['endpoints']['network-api-bind']['host'] = node['openstack']['endpoints']['bind-host']    
default['openstack']['endpoints']['network-api-bind']['port'] = '9696'    
default['openstack']['endpoints']['network-api-bind']['bind_interface'] = node['openstack']['endpoints']['bind_interface']    
</code></p>

<p><code>
default['openstack']['endpoints']['network-api']['host'] = node['openstack']['endpoints']['host']    
default['openstack']['endpoints']['network-api']['scheme'] = node['openstack']['endpoints']['scheme']    
default['openstack']['endpoints']['network-api']['port'] = '9696'    
# neutronclient appends the protocol version to the endpoint URL, so the    
# path needs to be empty    
default['openstack']['endpoints']['network-api']['path'] = ''    
default['openstack']['endpoints']['network-api']['bind_interface'] = nil    
</code></p>

<p>The OpenStack Network Linux Bridge endpoint</p>

<p><code>
default['openstack']['endpoints']['network-linuxbridge']['host'] = node['openstack']['endpoints']['host']    
default['openstack']['endpoints']['network-linuxbridge']['scheme'] = nil    
default['openstack']['endpoints']['network-linuxbridge']['port'] = nil    
default['openstack']['endpoints']['network-linuxbridge']['path'] = nil    
default['openstack']['endpoints']['network-linuxbridge']['bind_interface'] = nil    
</code></p>

<p>The OpenStack Network Open vSwitch endpoint</p>

<p><code>
default['openstack']['endpoints']['network-openvswitch']['host'] = node['openstack']['endpoints']['host']    
default['openstack']['endpoints']['network-openvswitch']['scheme'] = nil    
default['openstack']['endpoints']['network-openvswitch']['port'] = nil    
default['openstack']['endpoints']['network-openvswitch']['path'] = nil    
default['openstack']['endpoints']['network-openvswitch']['bind_interface'] = nil    
</code></p>

<p><strong>**</strong><strong>**</strong><strong>**</strong>** OpenStack Image Endpoints <strong>**</strong><strong>**</strong><strong>**</strong><strong>**</strong><strong>**</strong>
The OpenStack Image (Glance) API endpoint</p>

<p><code>
default['openstack']['endpoints']['image-api-bind']['host'] = node['openstack']['endpoints']['bind-host']    
default['openstack']['endpoints']['image-api-bind']['port'] = '9292'    
default['openstack']['endpoints']['image-api-bind']['bind_interface'] = node['openstack']['endpoints']['bind_interface']    
</code></p>

<p><code>
default['openstack']['endpoints']['image-api']['host'] = node['openstack']['endpoints']['host']    
default['openstack']['endpoints']['image-api']['scheme'] = node['openstack']['endpoints']['scheme']    
default['openstack']['endpoints']['image-api']['port'] = '9292'    
# The glance client appends the protocol version to the endpoint URL,    
# so the path needs to be empty    
default['openstack']['endpoints']['image-api']['path'] = ''    
default['openstack']['endpoints']['image-api']['bind_interface'] = nil    
</code></p>

<p>The OpenStack Image (Glance) Registry API endpoint</p>

<p><code>
default['openstack']['endpoints']['image-registry-bind']['host'] = node['openstack']['endpoints']['bind-host']    
default['openstack']['endpoints']['image-registry-bind']['port'] = '9191'    
default['openstack']['endpoints']['image-registry-bind']['bind_interface'] = node['openstack']['endpoints']['bind_interface']    
</code></p>

<p><code>
default['openstack']['endpoints']['image-registry']['host'] = node['openstack']['endpoints']['host']    
default['openstack']['endpoints']['image-registry']['scheme'] = node['openstack']['endpoints']['scheme']    
default['openstack']['endpoints']['image-registry']['port'] = '9191'    
default['openstack']['endpoints']['image-registry']['path'] = '/v2'    
default['openstack']['endpoints']['image-registry']['bind_interface'] = nil    
</code></p>

<p><strong>**</strong><strong>**</strong><strong>**</strong>** OpenStack Volume Endpoints <strong>**</strong><strong>**</strong><strong>**</strong><strong>**</strong>*****
The OpenStack Volume (Cinder) API endpoint</p>

<p><code>
default['openstack']['endpoints']['block-storage-api-bind']['host'] = node['openstack']['endpoints']['bind-host']    
default['openstack']['endpoints']['block-storage-api-bind']['port'] = '8776'    
default['openstack']['endpoints']['block-storage-api-bind']['bind_interface'] = node['openstack']['endpoints']['bind_interface']    
</code></p>

<p><code>
default['openstack']['endpoints']['block-storage-api']['host'] = node['openstack']['endpoints']['host']    
default['openstack']['endpoints']['block-storage-api']['scheme'] = node['openstack']['endpoints']['scheme']    
default['openstack']['endpoints']['block-storage-api']['port'] = '8776'    
default['openstack']['endpoints']['block-storage-api']['path'] = '/v2/%(tenant_id)s'    
default['openstack']['endpoints']['block-storage-api']['bind_interface'] = nil    
</code></p>

<p><strong>**</strong><strong>**</strong><strong>**</strong>** OpenStack Object Storage Endpoint <strong>**</strong><strong>**</strong><strong>**</strong><strong>**</strong>*****
The OpenStack Object Storage (Swift) API endpoint</p>

<p><code>
default['openstack']['endpoints']['object-storage-api-bind']['host'] = node['openstack']['endpoints']['bind-host']    
default['openstack']['endpoints']['object-storage-api-bind']['port'] = '8080'    
default['openstack']['endpoints']['object-storage-api-bind']['bind_interface'] = node['openstack']['endpoints']['bind_interface']    
</code></p>

<p><code>
default['openstack']['endpoints']['object-storage-api']['host'] = node['openstack']['endpoints']['host']    
default['openstack']['endpoints']['object-storage-api']['scheme'] = node['openstack']['endpoints']['scheme']    
default['openstack']['endpoints']['object-storage-api']['port'] = '8080'    
default['openstack']['endpoints']['object-storage-api']['path'] = '/v1/AUTH_%(tenant_id)s'    
default['openstack']['endpoints']['object-storage-api']['bind_interface'] = nil    
</code></p>

<p><strong>**</strong><strong>**</strong><strong>**</strong>** OpenStack Metering Endpoints <strong>**</strong><strong>**</strong><strong>**</strong><strong>**</strong>***
The OpenStack Metering (Ceilometer) API endpoint</p>

<p><code>
default['openstack']['endpoints']['telemetry-api-bind']['host'] = node['openstack']['endpoints']['bind-host']    
default['openstack']['endpoints']['telemetry-api-bind']['port'] = '8777'    
default['openstack']['endpoints']['telemetry-api-bind']['bind_interface'] = node['openstack']['endpoints']['bind_interface']    
</code></p>

<p><code>
default['openstack']['endpoints']['telemetry-api']['host'] = node['openstack']['endpoints']['host']    
default['openstack']['endpoints']['telemetry-api']['scheme'] = node['openstack']['endpoints']['scheme']    
default['openstack']['endpoints']['telemetry-api']['port'] = '8777'    
# The ceilometer client appends the protocol version to the endpoint URL,    
# so the path needs to be empty    
default['openstack']['endpoints']['telemetry-api']['path'] = ''    
default['openstack']['endpoints']['telemetry-api']['bind_interface'] = nil    
</code></p>

<p><strong>**</strong><strong>**</strong><strong>**</strong>** OpenStack Orchestration Endpoints <strong>**</strong><strong>**</strong><strong>**</strong><strong>**</strong>***
The OpenStack Orchestration (Heat) API endpoint</p>

<p><code>
default['openstack']['endpoints']['orchestration-api-bind']['host'] = node['openstack']['endpoints']['bind-host']    
default['openstack']['endpoints']['orchestration-api-bind']['port'] = '8004'    
default['openstack']['endpoints']['orchestration-api-bind']['bind_interface'] = node['openstack']['endpoints']['bind_interface']    
</code></p>

<p><code>
default['openstack']['endpoints']['orchestration-api']['host'] = node['openstack']['endpoints']['host']    
default['openstack']['endpoints']['orchestration-api']['scheme'] = node['openstack']['endpoints']['scheme']    
default['openstack']['endpoints']['orchestration-api']['port'] = '8004'    
default['openstack']['endpoints']['orchestration-api']['path'] = '/v1/%(tenant_id)s'    
default['openstack']['endpoints']['orchestration-api']['bind_interface'] = nil    
</code></p>

<p>The OpenStack Orchestration (Heat) CloudFormation API endpoint</p>

<p><code>
default['openstack']['endpoints']['orchestration-api-cfn-bind']['host'] = node['openstack']['endpoints']['bind-host']    
default['openstack']['endpoints']['orchestration-api-cfn-bind']['port'] = '8000'    
default['openstack']['endpoints']['orchestration-api-cfn-bind']['bind_interface'] = node['openstack']['endpoints']['bind_interface']    
</code></p>

<p><code>
default['openstack']['endpoints']['orchestration-api-cfn']['host'] = node['openstack']['endpoints']['host']    
default['openstack']['endpoints']['orchestration-api-cfn']['scheme'] = node['openstack']['endpoints']['scheme']    
default['openstack']['endpoints']['orchestration-api-cfn']['port'] = '8000'    
default['openstack']['endpoints']['orchestration-api-cfn']['path'] = '/v1'    
default['openstack']['endpoints']['orchestration-api-cfn']['bind_interface'] = nil    
</code></p>

<p>The OpenStack Orchestration (Heat) CloudWatch API endpoint</p>

<p><code>
default['openstack']['endpoints']['orchestration-api-cloudwatch-bind']['host'] = node['openstack']['endpoints']['bind-host']    
default['openstack']['endpoints']['orchestration-api-cloudwatch-bind']['port'] = '8003'    
default['openstack']['endpoints']['orchestration-api-cloudwatch-bind']['bind_interface'] = node['openstack']['endpoints']['bind_interface']    
</code></p>

<p><code>
default['openstack']['endpoints']['orchestration-api-cloudwatch']['host'] = node['openstack']['endpoints']['host']    
default['openstack']['endpoints']['orchestration-api-cloudwatch']['scheme'] = node['openstack']['endpoints']['scheme']    
default['openstack']['endpoints']['orchestration-api-cloudwatch']['port'] = '8003'    
default['openstack']['endpoints']['orchestration-api-cloudwatch']['path'] = '/v1'    
default['openstack']['endpoints']['orchestration-api-cloudwatch']['bind_interface'] = nil    
</code></p>

<p><strong>**</strong><strong>**</strong><strong>**</strong>** OpenStack Database Endpoints <strong>**</strong><strong>**</strong><strong>**</strong><strong>**</strong>***
The OpenStack Database (Trove) API endpoint</p>

<p><code>
default['openstack']['endpoints']['database-api-bind']['host'] = node['openstack']['endpoints']['bind-host']    
default['openstack']['endpoints']['database-api-bind']['port'] = '8779'    
default['openstack']['endpoints']['database-api-bind']['bind_interface'] = node['openstack']['endpoints']['bind_interface']    
</code></p>

<p><code>
default['openstack']['endpoints']['database-api']['host'] = node['openstack']['endpoints']['host']    
default['openstack']['endpoints']['database-api']['scheme'] = node['openstack']['endpoints']['scheme']    
default['openstack']['endpoints']['database-api']['port'] = '8779'    
default['openstack']['endpoints']['database-api']['path'] = '/v1.0/%(tenant_id)s'    
default['openstack']['endpoints']['database-api']['bind_interface'] = nil    
</code></p>

<p><strong>**</strong><strong>**</strong><strong>**</strong>** OpenStack Bare Metal Endpoints <strong>**</strong><strong>**</strong><strong>**</strong><strong>**</strong>*****
The OpenStack Bare Metal (Ironic) API endpoint</p>

<p><code>
default['openstack']['endpoints']['bare-metal-api-bind']['host'] = node['openstack']['endpoints']['bind-host']    
default['openstack']['endpoints']['bare-metal-api-bind']['port'] = '6385'    
default['openstack']['endpoints']['bare-metal-api-bind']['bind_interface'] = node['openstack']['endpoints']['bind_interface']    
</code></p>

<p><code>
default['openstack']['endpoints']['bare-metal-api']['host'] = node['openstack']['endpoints']['host']    
default['openstack']['endpoints']['bare-metal-api']['scheme'] = node['openstack']['endpoints']['scheme']    
default['openstack']['endpoints']['bare-metal-api']['port'] = '6385'    
default['openstack']['endpoints']['bare-metal-api']['path'] = ''    
default['openstack']['endpoints']['bare-metal-api']['bind_interface'] = nil    
</code></p>

<p><strong>**</strong><strong>**</strong><strong>**</strong> OpenStack Dashboard Endpoints <strong>**</strong><strong>**</strong><strong>**</strong><strong>**</strong><strong>**</strong>
The OpenStack Dashboard non-SSL endpoint</p>

<p><code>
default['openstack']['endpoints']['dashboard-http-bind']['host'] = node['openstack']['endpoints']['bind-host']    
default['openstack']['endpoints']['dashboard-http-bind']['port'] = '80'    
default['openstack']['endpoints']['dashboard-http-bind']['bind_interface'] = node['openstack']['endpoints']['bind_interface']    
</code></p>

<p>The OpenStack Dashboard SSL endpoint</p>

<p><code>
default['openstack']['endpoints']['dashboard-https-bind']['host'] = node['openstack']['endpoints']['bind-host']    
default['openstack']['endpoints']['dashboard-https-bind']['port'] = '443'    
default['openstack']['endpoints']['dashboard-https-bind']['bind_interface'] = node['openstack']['endpoints']['bind_interface']    
</code></p>

<hr />
<p>Alternately, if you used some standardized DNS naming scheme, you could
do something like this, which would override any part-wise specifications above.</p>

<p>default[‘openstack’][‘endpoints’][‘identity-api’][‘uri’]         = ‘https://identity.example.com:35357/v2.0’
default[‘openstack’][‘endpoints’][‘identity-admin’][‘uri’]       = ‘https://identity.example.com:5000/v2.0’
default[‘openstack’][‘endpoints’][‘compute-api’][‘uri’]          = ‘https://compute.example.com:8774/v2/%(tenant_id)s’
default[‘openstack’][‘endpoints’][‘compute-ec2-api’][‘uri’]      = ‘https://ec2.example.com:8773/services/Cloud’
default[‘openstack’][‘endpoints’][‘compute-ec2-admin’][‘uri’]    = ‘https://ec2.example.com:8773/services/Admin’
default[‘openstack’][‘endpoints’][‘compute-xvpvnc’][‘uri’]       = ‘https://xvpvnc.example.com:6081/console’
default[‘openstack’][‘endpoints’][‘compute-novnc’][‘uri’]        = ‘https://novnc.example.com:6080/vnc_auto.html’
default[‘openstack’][‘endpoints’][‘image-api’][‘uri’]            = ‘https://image.example.com:9292/v2’
default[‘openstack’][‘endpoints’][‘image-registry’][‘uri’]       = ‘https://image.example.com:9191/v2’
default[‘openstack’][‘endpoints’][‘block-storage-api’][‘uri’]           = ‘https://volume.example.com:8776/v1/%(tenant_id)s’
default[‘openstack’][‘endpoints’][‘telemetry-api’][‘uri’]        = ‘https://telemetry.example.com:9000/v1’
default[‘openstack’][‘endpoints’][‘orchestration-api’][‘uri’]               = ‘https://orchestration.example.com:8004//v1/%(tenant_id)s’
default[‘openstack’][‘endpoints’][‘orchestration-api-cfn’][‘uri’]           = ‘https://orchestration.example.com:8000/v1’
default[‘openstack’][‘endpoints’][‘orchestration-api-cloudwatch’][‘uri’]    = ‘https://orchestration.example.com:8003/v1’
Set a default region that other regions are set to - such that changing the region for all services can be done in one place</p>

<p><code>
default['openstack']['region'] = 'RegionOne'    
</code></p>

<p>Set a default auth api version that other components use to interact with identity service.
Allowed auth API versions: v2.0 or v3.0. By default, it is set to v2.0.</p>

<p><code>
default['openstack']['api']['auth']['version'] = 'v2.0'    
</code></p>

<p>Allow configured loggers in logging.conf</p>

<p><code>
default['openstack']['logging']['loggers'] = {    
  'root' =&gt; {    
    'level' =&gt; 'NOTSET',    
    'handlers' =&gt; 'devel'    
  },    
  'ceilometer' =&gt; {    
    'level' =&gt; 'DEBUG',    
    'handlers' =&gt; 'prod,debug',    
    'qualname' =&gt; 'ceilometer'    
  },    
  'cinder' =&gt; {    
    'level' =&gt; 'DEBUG',    
    'handlers' =&gt; 'prod,debug',    
    'qualname' =&gt; 'cinder'    
  },    
  'glance' =&gt; {    
    'level' =&gt; 'DEBUG',    
    'handlers' =&gt; 'prod,debug',    
    'qualname' =&gt; 'glance'    
  },    
  'horizon' =&gt; {    
    'level' =&gt; 'DEBUG',    
    'handlers' =&gt; 'prod,debug',    
    'qualname' =&gt; 'horizon'    
  },    
  'keystone' =&gt; {    
    'level' =&gt; 'DEBUG',    
    'handlers' =&gt; 'prod,debug',    
    'qualname' =&gt; 'keystone'    
  },    
  'nova' =&gt; {    
    'level' =&gt; 'DEBUG',    
    'handlers' =&gt; 'prod,debug',    
    'qualname' =&gt; 'nova'    
  },    
  'neutron' =&gt; {    
    'level' =&gt; 'DEBUG',    
    'handlers' =&gt; 'prod,debug',    
    'qualname' =&gt; 'neutron'    
  },    
  'trove' =&gt; {    
    'level' =&gt; 'DEBUG',    
    'handlers' =&gt; 'prod,debug',    
    'qualname' =&gt; 'trove'    
  },    
  'amqplib' =&gt; {    
    'level' =&gt; 'WARNING',    
    'handlers' =&gt; 'stderr',    
    'qualname' =&gt; 'amqplib'    
  },    
  'sqlalchemy' =&gt; {    
    'level' =&gt; 'WARNING',    
    # "level' =&gt; 'INFO" logs SQL queries.    
    # "level' =&gt; 'DEBUG" logs SQL queries and results.    
    # "level' =&gt; 'WARNING" logs neither.  (Recommended for production systems.)    
    'handlers' =&gt; 'stderr',    
    'qualname' =&gt; 'sqlalchemy'    
  },    
  'boto' =&gt; {    
    'level' =&gt; 'WARNING',    
    'handlers' =&gt; 'stderr',    
    'qualname' =&gt; 'boto'    
  },    
  'suds' =&gt; {    
    'level' =&gt; 'INFO',    
    'handlers' =&gt; 'stderr',    
    'qualname' =&gt; 'suds'    
  },    
  'eventletwsgi' =&gt; {    
    'level' =&gt; 'WARNING',    
    'handlers' =&gt; 'stderr',    
    'qualname' =&gt; 'eventlet.wsgi.server'    
  },    
  'nova_api_openstack_wsgi' =&gt; {    
    'level' =&gt; 'WARNING',    
    'handlers' =&gt; 'prod,debug',    
    'qualname' =&gt; 'nova.api.openstack.wsgi'    
  },    
  'nova_osapi_compute_wsgi_server' =&gt; {    
    'level' =&gt; 'WARNING',    
    'handlers' =&gt; 'prod,debug',    
    'qualname' =&gt; 'nova.osapi_compute.wsgi.server'    
  }    
}    
</code></p>

<p>Allow configured formatters in logging.conf</p>

<p><code>
default['openstack']['logging']['formatters'] = {    
  'normal' =&gt; {    
    'format' =&gt; '%(asctime)s %(levelname)s %(message)s'    
  },    
  'normal_with_name' =&gt; {    
    'format' =&gt; '[%(name)s]: %(asctime)s %(levelname)s %(message)s'    
  },    
  'debug' =&gt; {    
    'format' =&gt; '[%(name)s]: %(asctime)s %(levelname)s %(module)s.%(funcName)s %(message)s'    
  },    
  'syslog_with_name' =&gt; {    
    'format' =&gt; '%(name)s: %(levelname)s %(message)s'    
  },    
  'syslog_debug' =&gt; {    
    'format' =&gt; '%(name)s: %(levelname)s %(module)s.%(funcName)s %(message)s'    
  }    
}    
</code></p>

<p>Allow configured logging handlers in logging.conf</p>

<p><code>
default['openstack']['logging']['handlers'] = {    
  'stderr' =&gt; {    
    'args' =&gt; '(sys.stderr,)',    
    'class' =&gt; 'StreamHandler',    
    'formatter' =&gt; 'debug'    
  },    
  'devel' =&gt; {    
    'args' =&gt; '(sys.stdout,)',    
    'class' =&gt; 'StreamHandler',    
    'formatter' =&gt; 'debug',    
    'level' =&gt; 'NOTSET'    
  },    
  'prod' =&gt; {    
    'args' =&gt; '((\'/dev/log\'), handlers.SysLogHandler.LOG_LOCAL0)',    
    'class' =&gt; 'handlers.SysLogHandler',    
    'formatter' =&gt; 'syslog_with_name',    
    'level' =&gt; 'INFO'    
  },    
  'debug' =&gt; {    
    'args' =&gt; '((\'/dev/log\'), handlers.SysLogHandler.LOG_LOCAL1)',    
    'class' =&gt; 'handlers.SysLogHandler',    
    'formatter' =&gt; 'syslog_debug',    
    'level' =&gt; 'DEBUG'    
  }    
}    
</code></p>

<p><code>
default['openstack']['memcached_servers'] = nil    
</code></p>

<p>Default sysctl settings</p>

<p><code>
default['openstack']['sysctl']['net.ipv4.conf.all.rp_filter'] = 0    
default['openstack']['sysctl']['net.ipv4.conf.default.rp_filter'] = 0    
</code></p>

<p>Default OpenStack Network Type: nova (optional: neutron)</p>

<p><code>
default['openstack']['compute']['network']['service_type'] = 'nova'    
</code></p>

<p><code>
case node['platform_family']    
when 'rhel', 'suse'    
  default['openstack']['common']['platform'] = {    
    'common_client_packages' =&gt; ['python-openstackclient'],    
    'package_overrides' =&gt; ''    
  }    
when 'debian'    
  default['openstack']['common']['platform'] = {    
    'common_client_packages' =&gt; ['python-openstackclient'],    
    'package_overrides' =&gt; "-o Dpkg::Options::='--force-confold' -o Dpkg::Options::='--force-confdef'"    
  }    
end    
</code></p>

<p>The name of the Chef role that installs the Keystone Service API</p>

<p><code>
default['openstack']['identity_service_chef_role'] = 'os-identity'    
</code></p>

<p>The name of the Chef role that sets up the compute worker</p>

<p><code>
default['openstack']['compute_worker_chef_role'] = 'os-compute-worker'    
</code></p>

<p>Array of bare options for openrc (e.g. ‘option=value’)</p>

<p><code>
default['openstack']['misc_openrc'] = nil    
</code></p>

<p>openrc location and owner</p>

<p><code>
default['openstack']['openrc']['path'] = '/root'    
default['openstack']['openrc']['file'] = 'openrc'    
default['openstack']['openrc']['user'] = 'root'    
default['openstack']['openrc']['group'] = 'root'    
default['openstack']['openrc']['file_mode'] = '0600'    
default['openstack']['openrc']['path_mode'] = '0700'    
</code></p>

<hr />

<h2 id="cookbook-openstack-commonattributesmessaging">cookbook-openstack-common_attributes_messaging</h2>

<p><a href="#contents">back to top</a></p>

<p><strong>**</strong><strong>**</strong><strong>**</strong>** RabbitMQ Endpoint <strong>**</strong><strong>**</strong><strong>**</strong><strong>**</strong><strong>**</strong><strong>**</strong>**</p>

<p><code>
default['openstack']['endpoints']['mq']['host'] = '127.0.0.1'    
default['openstack']['endpoints']['mq']['scheme'] = nil    
default['openstack']['endpoints']['mq']['port'] = '5672'    
default['openstack']['endpoints']['mq']['path'] = nil    
default['openstack']['endpoints']['mq']['bind_interface'] = nil    
</code></p>

<p>Services to assign mq attributes for</p>

<p><code>
services = %w(bare-metal block-storage compute database image    
              identity telemetry network orchestration)    
</code></p>

<p>Generic default attributes</p>

<p><code>
default['openstack']['mq']['server_role'] = 'os-ops-messaging'    
default['openstack']['mq']['service_type'] = 'rabbitmq'    
default['openstack']['mq']['user'] = 'guest'    
default['openstack']['mq']['vhost'] = '/'    
</code></p>

<p>defined in oslo/messaging/_drivers/amqp.py</p>

<p><code>
default['openstack']['mq']['durable_queues'] = false    
default['openstack']['mq']['auto_delete'] = false    
</code></p>

<p>Default qpid and rabbit values (for attribute assignment below)</p>

<p><code>
default['openstack']['mq']['qpid']['protocol'] = 'tcp'    
# global switch for handling rabbit ssl    
default['openstack']['mq']['rabbitmq']['use_ssl'] = false    
# SSL version to use (valid only if SSL enabled)    
default['openstack']['mq']['rabbitmq']['kombu_ssl_version'] = nil    
# SSL key file (valid only if SSL enabled)    
default['openstack']['mq']['rabbitmq']['kombu_ssl_keyfile'] = nil    
# SSL cert file (valid only if SSL enabled)    
default['openstack']['mq']['rabbitmq']['kombu_ssl_certfile'] = nil    
# SSL certification authority file (valid only if SSL enabled)    
default['openstack']['mq']['rabbitmq']['kombu_ssl_ca_certs'] = nil    
# How long to wait before reconnecting in response to an AMQP consumer cancel notification    
default['openstack']['mq']['rabbitmq']['kombu_reconnect_delay'] = 1.0    
# How long to wait before considering a reconnect attempt to have failed.    
# This value should not be longer than rpc_response_timeout    
default['openstack']['mq']['rabbitmq']['kombu_reconnect_timeout'] = 60    
# global switch for handling rabbit ha    
default['openstack']['mq']['rabbitmq']['ha'] = false    
# global switch for number of seconds after which the Rabbit broker is considered down if heartbeat's keep-alive fails (0 disable the heartbeat)    
default['openstack']['mq']['rabbitmq']['heartbeat_timeout_threshold'] = 0    
# global switch for how often times during the heartbeat_timeout_threshold we check the heartbeat    
default['openstack']['mq']['rabbitmq']['heartbeat_rate'] = 2    
</code></p>

<p>defined in oslo/messaging/_drivers/impl_qpid.py</p>

<p><code>
default['openstack']['mq']['qpid']['topology_version'] = 1    
qpid_defaults = {    
  username: node['openstack']['mq']['user'],    
  sasl_mechanisms: '',    
  reconnect: true,    
  reconnect_timeout: 0,    
  reconnect_limit: 0,    
  reconnect_interval_min: 0,    
  reconnect_interval_max: 0,    
  reconnect_interval: 0,    
  heartbeat: 60,    
  protocol: node['openstack']['mq']['qpid']['protocol'],    
  tcp_nodelay: true,    
  host: node['openstack']['endpoints']['mq']['host'],    
  port: node['openstack']['endpoints']['mq']['port'],    
  qpid_hosts: ["#{node['openstack']['endpoints']['mq']['host']}:#{node['openstack']['endpoints']['mq']['port']}"],    
  topology_version: node['openstack']['mq']['qpid']['topology_version']    
}    
</code></p>

<p><code>
rabbit_defaults = {    
  rabbit_max_retries: 0,    
  rabbit_retry_interval: 1,    
  userid: node['openstack']['mq']['user'],    
  vhost: node['openstack']['mq']['vhost'],    
  port: node['openstack']['endpoints']['mq']['port'],    
  host: node['openstack']['endpoints']['mq']['host'],    
  ha: node['openstack']['mq']['rabbitmq']['ha'],    
  heartbeat_timeout_threshold: node['openstack']['mq']['rabbitmq']['heartbeat_timeout_threshold'],    
  heartbeat_rate: node['openstack']['mq']['rabbitmq']['heartbeat_rate'],    
  use_ssl: node['openstack']['mq']['rabbitmq']['use_ssl'],    
  kombu_ssl_version: node['openstack']['mq']['rabbitmq']['kombu_ssl_version'],    
  kombu_ssl_keyfile: node['openstack']['mq']['rabbitmq']['kombu_ssl_keyfile'],    
  kombu_ssl_certfile: node['openstack']['mq']['rabbitmq']['kombu_ssl_certfile'],    
  kombu_ssl_ca_certs: node['openstack']['mq']['rabbitmq']['kombu_ssl_ca_certs'],    
  kombu_reconnect_delay: node['openstack']['mq']['rabbitmq']['kombu_reconnect_delay'],    
  kombu_reconnect_timeout: node['openstack']['mq']['rabbitmq']['kombu_reconnect_timeout']    
}    
</code></p>

<p>Assign default mq attributes for every service</p>

<p><code>
services.each do |svc|    
  default['openstack']['mq'][svc]['service_type'] = node['openstack']['mq']['service_type']    
  default['openstack']['mq'][svc]['notification_topic'] = 'notifications'    
</code></p>

<p><code>
  default['openstack']['mq'][svc]['durable_queues'] =    
    node['openstack']['mq']['durable_queues']    
  default['openstack']['mq'][svc]['auto_delete'] =    
    node['openstack']['mq']['auto_delete']    
</code></p>

<p><code>
  case node['openstack']['mq'][svc]['service_type']    
  when 'qpid'    
    qpid_defaults.each do |key, val|    
      default['openstack']['mq'][svc]['qpid'][key.to_s] = val    
    end    
  when 'rabbitmq'    
    rabbit_defaults.each do |key, val|    
      default['openstack']['mq'][svc]['rabbit'][key.to_s] = val    
    end    
  end    
end    
</code></p>

<p>Overrides and additional attributes for individual services</p>

<p>bare-metal</p>

<p><code>
default['openstack']['mq']['bare-metal']['qpid']['notification_topic'] =    
  node['openstack']['mq']['bare-metal']['notification_topic']    
default['openstack']['mq']['bare-metal']['rabbit']['notification_topic'] =    
  node['openstack']['mq']['bare-metal']['notification_topic']    
default['openstack']['mq']['bare-metal']['control_exchange'] = 'ironic'    
</code></p>

<p>block-storage</p>

<p><code>
default['openstack']['mq']['block-storage']['qpid']['notification_topic'] =    
  node['openstack']['mq']['block-storage']['notification_topic']    
default['openstack']['mq']['block-storage']['rabbit']['notification_topic'] =    
  node['openstack']['mq']['block-storage']['notification_topic']    
default['openstack']['mq']['block-storage']['control_exchange'] = 'cinder'    
</code></p>

<p>image</p>

<p><code>
default['openstack']['mq']['image']['notifier_strategy'] = 'noop'    
default['openstack']['mq']['image']['notification_topic'] = 'glance_notifications'    
default['openstack']['mq']['image']['qpid']['notification_topic'] =    
  node['openstack']['mq']['image']['notification_topic']    
default['openstack']['mq']['image']['rabbit']['notification_topic'] =    
  node['openstack']['mq']['image']['notification_topic']    
default['openstack']['mq']['image']['control_exchange'] = 'glance'    
</code></p>

<p>identity
AMQP topics used for openstack notifications, can be comma-separated values</p>

<p><code>
default['openstack']['mq']['identity']['notification_topics'] = 'notifications'    
default['openstack']['mq']['identity']['control_exchange'] = 'identity'    
</code></p>

<p>network
AMQP topics used for openstack notifications, can be comma-separated values</p>

<p><code>
default['openstack']['mq']['network']['notification_topics'] = 'notifications'    
default['openstack']['mq']['network']['control_exchange'] = 'neutron'    
</code></p>

<p>compute</p>

<p><code>
default['openstack']['mq']['compute']['control_exchange'] = 'nova'    
</code></p>

<p>orchestration</p>

<p><code>
default['openstack']['mq']['orchestration']['control_exchange'] = 'heat'    
</code></p>

<p>telemetry</p>

<p><code>
default['openstack']['mq']['telemetry']['control_exchange'] = 'ceilometer'    
</code></p>

<hr />

<h2 id="cookbook-openstack-bare-metalattributesdefault">cookbook-openstack-bare-metal_attributes_default</h2>

<p><a href="#contents">back to top</a></p>

<p>Set to some text value if you want templated config files
to contain a custom banner at the top of the written file</p>

<p><code>
default['openstack']['bare-metal']['custom_template_banner'] = "    
# This file autogenerated by Chef    
# Do not edit, changes will be overwritten    
"    
</code></p>

<p><code>
default['openstack']['bare-metal']['verbose'] = 'false'    
default['openstack']['bare-metal']['debug'] = 'false'    
</code></p>

<p>Maximum number of worker threads that can be started
simultaneously by a periodic task. Should be less than RPC
thread pool size. (integer value)</p>

<p><code>
default['openstack']['bare-metal']['conductor']['periodic_max_workers'] = 8    
</code></p>

<p>The size of the workers greenthread pool. (integer value)</p>

<p><code>
default['openstack']['bare-metal']['conductor']['workers_pool_size'] = 100    
</code></p>

<p>Common rpc definitions</p>

<p><code>
default['openstack']['bare-metal']['rpc_thread_pool_size'] = 64    
default['openstack']['bare-metal']['rpc_conn_pool_size'] = 30    
default['openstack']['bare-metal']['rpc_response_timeout'] = 60    
</code></p>

<p>The name of the Chef role that knows about the message queue server
that Ironic uses</p>

<p><code>
default['openstack']['bare-metal']['rabbit_server_chef_role'] = 'os-ops-messaging'    
</code></p>

<p><code>
case node['openstack']['mq']['service_type']    
when 'rabbitmq'    
  default['openstack']['bare-metal']['rpc_backend'] = 'rabbit'    
when 'qpid'    
  default['openstack']['bare-metal']['rpc_backend'] = 'qpid'    
end    
</code></p>

<p>The AMQP exchange to connect to if using RabbitMQ or Qpid</p>

<p><code>
default['openstack']['bare-metal']['control_exchange'] =  node['openstack']['mq']['bare-metal']['control_exchange']    
</code></p>

<p>Logging stuff</p>

<p><code>
default['openstack']['bare-metal']['log_dir'] = '/var/log/ironic'    
</code></p>

<p><code>
default['openstack']['bare-metal']['syslog']['use'] = false    
default['openstack']['bare-metal']['syslog']['facility'] = 'LOG_LOCAL1'    
default['openstack']['bare-metal']['syslog']['config_facility'] = 'local1'    
</code></p>

<p><code>
default['openstack']['bare-metal']['region'] = node['openstack']['region']    
</code></p>

<p>Keystone settings</p>

<p><code>
default['openstack']['bare-metal']['api']['auth_strategy'] = 'keystone'    
</code></p>

<p><code>
default['openstack']['bare-metal']['api']['auth']['version'] = node['openstack']['api']['auth']['version']    
</code></p>

<p>Whether to allow the client to perform insecure SSL (https) requests</p>

<p><code>
default['openstack']['bare-metal']['api']['auth']['insecure'] = false    
</code></p>

<p>Keystone PKI signing directories</p>

<p><code>
default['openstack']['bare-metal']['api']['auth']['cache_dir'] = '/var/cache/ironic/api'    
</code></p>

<p><code>
default['openstack']['bare-metal']['service_tenant_name'] = 'service'    
default['openstack']['bare-metal']['service_user'] = 'ironic'    
default['openstack']['bare-metal']['service_role'] = 'admin'    
</code></p>

<p><code>
default['openstack']['bare-metal']['user'] = 'ironic'    
default['openstack']['bare-metal']['group'] = 'ironic'    
</code></p>

<p>Setup the tftp variables</p>

<p><code>
default['openstack']['bare-metal']['tftp']['enabled'] = false    
# IP address of Ironic compute node's tftp server    
default['openstack']['bare-metal']['tftp']['server'] = '127.0.0.1'    
# Ironic compute node's tftp root path    
default['openstack']['bare-metal']['tftp']['root_path'] = '/var/lib/tftpboot'    
# Directory where master tftp images are stored on disk    
default['openstack']['bare-metal']['tftp']['master_path'] = "#{node['openstack']['bare-metal']['tftp']['root_path']}/master_images"    
</code></p>

<p>rootwrap.conf</p>

<p><code>
default['openstack']['bare-metal']['rootwrap']['filters_path'] = '/etc/ironic/rootwrap.d,/usr/share/ironic/rootwrap'    
default['openstack']['bare-metal']['rootwrap']['exec_dirs'] = '/sbin,/usr/sbin,/bin,/usr/bin'    
default['openstack']['bare-metal']['rootwrap']['use_syslog'] = false    
default['openstack']['bare-metal']['rootwrap']['syslog_log_facility'] = 'syslog'    
default['openstack']['bare-metal']['rootwrap']['syslog_log_level'] = 'ERROR'    
</code></p>

<p><code>
case platform_family    
when 'fedora', 'rhel'    
  default['openstack']['bare-metal']['platform'] = {    
    'ironic_api_packages' =&gt; ['openstack-ironic-api'],    
    'ironic_api_service' =&gt; 'openstack-ironic-api',    
    'ironic_conductor_packages' =&gt; ['openstack-ironic-conductor', 'shellinabox', 'ipmitool'],    
    'ironic_conductor_service' =&gt; 'openstack-ironic-conductor',    
    'ironic_common_packages' =&gt; ['openstack-ironic-common', 'python-ironicclient']    
  }    
when 'debian'    
  default['openstack']['bare-metal']['platform'] = {    
    'ironic_api_packages' =&gt; ['ironic-api'],    
    'ironic_api_service' =&gt; 'ironic-api',    
    'ironic_conductor_packages' =&gt; ['ironic-conductor', 'shellinabox', 'ipmitool'],    
    'ironic_conductor_service' =&gt; 'ironic-conductor',    
    'ironic_common_packages' =&gt; ['python-ironicclient', 'ironic-common']    
  }    
end    
</code></p>

<hr />

<h2 id="cookbook-openstack-block-storageattributesdefault">cookbook-openstack-block-storage_attributes_default</h2>

<p><a href="#contents">back to top</a></p>

<p>Toggles - These can be overridden at the environment level</p>

<p><code>
default['developer_mode'] = false  # we want secure passwords by default    
########################################################################    
</code></p>

<p>Set to some text value if you want templated config files
to contain a custom banner at the top of the written file</p>

<p><code>
default['openstack']['block-storage']['custom_template_banner'] = '    
# This file autogenerated by Chef    
# Do not edit, changes will be overwritten    
'    
</code></p>

<p><code>
default['openstack']['block-storage']['verbose'] = 'False'    
default['openstack']['block-storage']['debug'] = 'False'    
</code></p>

<p>Name of this node.  This can be an opaque identifier.  It is
not necessarily a hostname, FQDN, or IP address. (StrOpt)</p>

<p><code>
default['openstack']['block-storage']['host'] = nil    
</code></p>

<p>Specify policy.json remote file to import</p>

<p><code>
default['openstack']['block-storage']['policyfile_url'] = nil    
</code></p>

<p>Default notification_driver and control exchange</p>

<p><code>
default['openstack']['block-storage']['notification_driver'] = 'cinder.openstack.common.notifier.rpc_notifier'    
default['openstack']['block-storage']['control_exchange'] = 'cinder'    
# Availability zone/region for the OpenStack Block-Storage service    
default['openstack']['block-storage']['region'] = node['openstack']['region']    
default['openstack']['block-storage']['scheduler_role'] = 'os-block-storage-scheduler'    
</code></p>

<p>Number of workers for OpenStack Volume API service. The
default is equal to the number of CPUs available. (integer
value)</p>

<p><code>
default['openstack']['block-storage']['osapi_volume_workers'] = [8, node['cpu']['total'].to_i].min    
</code></p>

<p>Template strings to be used to generate resource names</p>

<p><code>
default['openstack']['block-storage']['volume_name_template'] = 'volume-%s'    
default['openstack']['block-storage']['snapshot_name_template'] = 'snapshot-%s'    
</code></p>

<p>The name of the Chef role that knows about the message queue server
that Cinder uses</p>

<p><code>
default['openstack']['block-storage']['rabbit_server_chef_role'] = 'os-ops-messaging'    
</code></p>

<p>This is the name of the Chef role that will install the Keystone Service API</p>

<p><code>
default['openstack']['block-storage']['keystone_service_chef_role'] = 'keystone'    
</code></p>

<p>Whether to enable cinder-backup service or not</p>

<p><code>
default['openstack']['block-storage']['backup']['enabled'] = false    
</code></p>

<p>Keystone PKI signing directory</p>

<p><code>
default['openstack']['block-storage']['api']['auth']['cache_dir'] = '/var/cache/cinder/api'    
</code></p>

<p><code>
default['openstack']['block-storage']['api']['auth']['version'] = node['openstack']['api']['auth']['version']    
</code></p>

<p>A list of memcached server(s) to use for caching</p>

<p><code>
default['openstack']['block-storage']['api']['auth']['memcached_servers'] = nil    
</code></p>

<p>Whether token data should be authenticated or authenticated and encrypted. Acceptable values are MAC or ENCRYPT</p>

<p><code>
default['openstack']['block-storage']['api']['auth']['memcache_security_strategy'] = nil    
</code></p>

<p>This string is used for key derivation</p>

<p><code>
default['openstack']['block-storage']['api']['auth']['memcache_secret_key'] = nil    
</code></p>

<p>Hash algorithms to use for hashing PKI tokens</p>

<p><code>
default['openstack']['block-storage']['api']['auth']['hash_algorithms'] = 'md5'    
</code></p>

<p>A PEM encoded Certificate Authority to use when verifying HTTPs connections</p>

<p><code>
default['openstack']['block-storage']['api']['auth']['cafile'] = nil    
</code></p>

<p>Verify HTTPS connections</p>

<p><code>
default['openstack']['block-storage']['api']['auth']['insecure'] = false    
</code></p>

<p>If True, this indicates that glance-api allows the client to perform
insecure SSL(https) requests; this should be the same as the setting
in the glance-api service.</p>

<p><code>
default['openstack']['block-storage']['image']['glance_api_insecure'] = false    
</code></p>

<p>Location of ca certificates file to use for glance client requests</p>

<p><code>
default['openstack']['block-storage']['image']['glance_ca_certificates_file'] = nil    
</code></p>

<p>Which version of the glance API cinder should use when talking to glance.</p>

<p><code>
default['openstack']['block-storage']['image']['glance_api_version'] = 1    
</code></p>

<p>Maximum allocatable gigabytes
Should equal total backend storage, default is 10TB</p>

<p><code>
default['openstack']['block-storage']['max_gigabytes'] = '10000'    
</code></p>

<p>Storage availability zone
Default is nova</p>

<p><code>
default['openstack']['block-storage']['storage_availability_zone'] = 'nova'    
</code></p>

<p>Quota definitions</p>

<p><code>
default['openstack']['block-storage']['quota_volumes'] = '10'    
default['openstack']['block-storage']['quota_gigabytes'] = '1000'    
default['openstack']['block-storage']['quota_driver'] = 'cinder.quota.DbQuotaDriver'    
default['openstack']['block-storage']['quota_snapshots'] = 10    
default['openstack']['block-storage']['no_snapshot_gb_quota'] = false    
default['openstack']['block-storage']['use_default_quota_class'] = true    
</code></p>

<p>Common rpc definitions</p>

<p><code>
default['openstack']['block-storage']['rpc_thread_pool_size'] = 64    
default['openstack']['block-storage']['rpc_conn_pool_size'] = 30    
default['openstack']['block-storage']['rpc_response_timeout'] = 60    
case node['openstack']['mq']['service_type']    
when 'rabbitmq'    
  default['openstack']['block_storage']['rpc_backend'] = 'cinder.openstack.common.rpc.impl_kombu'    
when 'qpid'    
  default['openstack']['block_storage']['rpc_backend'] = 'cinder.openstack.common.rpc.impl_qpid'    
end    
</code></p>

<p><code>
default['openstack']['block-storage']['service_tenant_name'] = 'service'    
default['openstack']['block-storage']['service_user'] = 'cinder'    
default['openstack']['block-storage']['service_role'] = 'service'    
default['openstack']['block-storage']['service_name'] = 'cinderv2'    
default['openstack']['block-storage']['service_type'] = 'volumev2'    
</code></p>

<p>SAN Support</p>

<p><code>
default['openstack']['block-storage']['san']['san_ip'] = '127.0.0.1'    
default['openstack']['block-storage']['san']['san_login'] = 'admin'    
default['openstack']['block-storage']['san']['san_private_key'] = '/v7000_rsa'    
# The location(URL) of the san_private_key. This value may also specify HTTP(http://), FTP("ftp://"), or local(file://), if the san private key is in the local, you should also specify this attribute using(file://)    
default['openstack']['block-storage']['san']['san_private_key_url'] = nil    
</code></p>

<p>NFS support</p>

<p><code>
default['openstack']['block-storage']['nfs']['nas_ip'] = '127.0.0.1'    
default['openstack']['block-storage']['nfs']['nas_login'] = 'admin'    
default['openstack']['block-storage']['nfs']['nas_ssh_port'] = '22'    
</code></p>

<p>Netapp support</p>

<p><code>
default['openstack']['block-storage']['netapp']['protocol'] = 'http'    
default['openstack']['block-storage']['netapp']['dfm_hostname'] = nil    
default['openstack']['block-storage']['netapp']['dfm_login'] = nil    
default['openstack']['block-storage']['netapp']['dfm_password'] = nil    
default['openstack']['block-storage']['netapp']['dfm_port'] = '8088'    
default['openstack']['block-storage']['netapp']['dfm_web_port'] = '8080'    
default['openstack']['block-storage']['netapp']['storage_service'] = 'storage_service'    
</code></p>

<p>Netapp direct NFS</p>

<p><code>
default['openstack']['block-storage']['netapp']['netapp_server_port'] = '80'    
default['openstack']['block-storage']['netapp']['netapp_server_hostname'] = nil    
default['openstack']['block-storage']['netapp']['netapp_server_password'] = nil    
default['openstack']['block-storage']['netapp']['netapp_server_login'] = nil    
default['openstack']['block-storage']['netapp']['export'] = nil    
default['openstack']['block-storage']['nfs']['shares_config'] = '/etc/cinder/shares.conf'    
default['openstack']['block-storage']['nfs']['mount_point_base'] = '/mnt/cinder-volumes'    
default['openstack']['block-storage']['nfs']['nfs_disk_util'] = 'df'    
default['openstack']['block-storage']['nfs']['nfs_sparsed_volumes'] = 'true'    
</code></p>

<p>Storwize/SVC Support</p>

<p><code>
default['openstack']['block-storage']['storwize']['san_ip'] = node['openstack']['block-storage']['san']['san_ip']    
default['openstack']['block-storage']['storwize']['san_login'] = node['openstack']['block-storage']['san']['san_login']    
# If the key is set to nil, the san_login and san_password will be used.    
default['openstack']['block-storage']['storwize']['san_private_key'] = node['openstack']['block-storage']['san']['san_private_key']    
default['openstack']['block-storage']['storwize']['san_private_key_url'] = node['openstack']['block-storage']['san']['san_private_key_url']    
default['openstack']['block-storage']['storwize']['storwize_svc_volpool_name'] = 'volpool'    
default['openstack']['block-storage']['storwize']['storwize_svc_vol_rsize'] = 2    
default['openstack']['block-storage']['storwize']['storwize_svc_vol_warning'] = 0    
default['openstack']['block-storage']['storwize']['storwize_svc_vol_autoexpand'] = true    
default['openstack']['block-storage']['storwize']['storwize_svc_vol_grainsize'] = 256    
default['openstack']['block-storage']['storwize']['storwize_svc_vol_compression'] = false    
default['openstack']['block-storage']['storwize']['storwize_svc_vol_easytier'] = true    
default['openstack']['block-storage']['storwize']['storwize_svc_flashcopy_timeout'] = 120    
default['openstack']['block-storage']['storwize']['storwize_svc_vol_iogrp'] = 0    
default['openstack']['block-storage']['storwize']['storwize_svc_connection_protocol'] = 'iSCSI'    
default['openstack']['block-storage']['storwize']['storwize_svc_iscsi_chap_enabled'] = true    
default['openstack']['block-storage']['storwize']['storwize_svc_multipath_enabled'] = false    
default['openstack']['block-storage']['storwize']['storwize_svc_multihostmap_enabled'] = true    
default['openstack']['block-storage']['storwize']['storwize_svc_allow_tenant_qos'] = false    
default['openstack']['block-storage']['storwize']['storwize_svc_stretched_cluster_partner'] = nil    
</code></p>

<p>SolidFire Support</p>

<p><code>
default['openstack']['block-storage']['solidfire']['san_ip'] = node['openstack']['block-storage']['san']['san_ip']    
default['openstack']['block-storage']['solidfire']['san_login'] = node['openstack']['block-storage']['san']['san_login']    
default['openstack']['block-storage']['solidfire']['sf_emulate'] = 'False'    
default['openstack']['block-storage']['solidfire']['iscsi_ip_prefix'] = nil    
</code></p>

<p>FlashSystem Support</p>

<p><code>
default['openstack']['block-storage']['flashsystem']['san_ip'] = node['openstack']['block-storage']['san']['san_ip']    
default['openstack']['block-storage']['flashsystem']['san_login'] = node['openstack']['block-storage']['san']['san_login']    
# The connection protocol for FlashSystem data path (FC only, will introduce iSCSI in Liberty)    
default['openstack']['block-storage']['flashsystem']['flashsystem_connection_protocol'] = 'FC'    
# The multipath enablement flag (FC only, iSCSI multipath will be controlled by Nova)    
default['openstack']['block-storage']['flashsystem']['flashsystem_multipath_enabled'] = false    
# Enable vdisk to multi-host mapping    
default['openstack']['block-storage']['flashsystem']['flashsystem_multihostmap_enabled'] = true    
</code></p>

<p>EMC VMAX/VNX tSupport
The EmcUserName user’s password is stored in an encrypted databag and
accessed with openstack-common cookbook library’s “get_password” routeine. You
are expected to create the user and pass in a wrapper cookbook.</p>

<p><code>
default['openstack']['block-storage']['emc']['iscsi_target_prefix'] = 'iqn.1992-04.com.emc'    
default['openstack']['block-storage']['emc']['cinder_emc_config_file'] = '/etc/cinder/cinder_emc_config.xml'    
default['openstack']['block-storage']['emc']['StorageType'] = 0    
default['openstack']['block-storage']['emc']['EcomServerIP'] = '127.0.0.1'    
default['openstack']['block-storage']['emc']['EcomServerPort'] = '5988'    
default['openstack']['block-storage']['emc']['EcomUserName'] = 'admin'    
default['openstack']['block-storage']['emc']['MaskingView'] = nil    
</code></p>

<p>VMware Support</p>

<p><code>
default['openstack']['block-storage']['vmware']['secret_name'] = 'openstack_vmware_secret_name'    
default['openstack']['block-storage']['vmware']['vmware_host_ip'] = ''    
default['openstack']['block-storage']['vmware']['vmware_host_username'] = ''    
default['openstack']['block-storage']['vmware']['vmware_wsdl_location'] = nil    
default['openstack']['block-storage']['vmware']['vmware_api_retry_count'] = 10    
default['openstack']['block-storage']['vmware']['vmware_task_poll_interval'] = 5    
default['openstack']['block-storage']['vmware']['vmware_volume_folder'] = 'cinder-volumes'    
default['openstack']['block-storage']['vmware']['vmware_image_transfer_timeout_secs'] = 7200    
default['openstack']['block-storage']['vmware']['vmware_max_objects_retrieval'] = 100    
</code></p>

<p>IBM GPFS Support</p>

<p><code>
default['openstack']['block-storage']['gpfs']['gpfs_mount_point_base'] = node['openstack']['block-storage']['gpfs']['gpfs_mount_point_base']    
default['openstack']['block-storage']['gpfs']['gpfs_images_dir'] = node['openstack']['block-storage']['gpfs']['gpfs_images_dir']    
default['openstack']['block-storage']['gpfs']['gpfs_images_share_mode'] = 'copy_on_write'    
default['openstack']['block-storage']['gpfs']['gpfs_sparse_volumes'] = true    
default['openstack']['block-storage']['gpfs']['gpfs_max_clone_depth'] = 8    
default['openstack']['block-storage']['gpfs']['gpfs_storage_pool'] = 'system'    
</code></p>

<p>IBMNAS (SONAS, Storwize V7000 Unified) Support
The attribute “nas_password” is stored in databag and
accessed with openstack-common cookbook library’s “get_password” routeine.</p>

<p><code>
default['openstack']['block-storage']['ibmnas']['nas_ip'] = node['openstack']['block-storage']['nfs']['nas_ip']    
default['openstack']['block-storage']['ibmnas']['nas_login'] = node['openstack']['block-storage']['nfs']['nas_login']    
default['openstack']['block-storage']['ibmnas']['nas_ssh_port'] = node['openstack']['block-storage']['nfs']['nas_ssh_port']    
default['openstack']['block-storage']['ibmnas']['shares_config'] = '/etc/cinder/nfs_shares.conf'    
default['openstack']['block-storage']['ibmnas']['mount_point_base'] = '/mnt/cinder-volumes'    
default['openstack']['block-storage']['ibmnas']['nfs_sparsed_volumes'] = 'true'    
default['openstack']['block-storage']['ibmnas']['nas_access_ip'] = nil    
default['openstack']['block-storage']['ibmnas']['export'] = nil    
# Platform type to be used as backend storage, valid values are:    
# 'v7ku : for using IBM Storwize V7000 Unified    
# 'sonas : for using IBM Scale Out NAS    
# 'gpfs-nas : for using NFS based IBM GPFS deployments    
default['openstack']['block-storage']['ibmnas']['ibmnas_platform_type'] = 'v7ku'    
</code></p>

<p>logging attribute</p>

<p><code>
default['openstack']['block-storage']['syslog']['use'] = false    
default['openstack']['block-storage']['syslog']['facility'] = 'LOG_LOCAL2'    
default['openstack']['block-storage']['syslog']['config_facility'] = 'local2'    
</code></p>

<p><code>
default['openstack']['block-storage']['api']['ratelimit'] = 'True'    
default['openstack']['block-storage']['cron']['minute'] = '00'    
default['openstack']['block-storage']['cron']['audit_logfile'] = '/var/log/cinder/audit.log'    
</code></p>

<p><code>
default['openstack']['block-storage']['volume']['state_path'] = '/var/lib/cinder'    
default['openstack']['block-storage']['volume']['volumes_dir'] = '/var/lib/cinder/volumes'    
default['openstack']['block-storage']['volume']['driver'] = 'cinder.volume.drivers.lvm.LVMVolumeDriver'    
default['openstack']['block-storage']['volume']['volume_group'] = 'cinder-volumes'    
default['openstack']['block-storage']['volume']['volume_group_size'] = 40    
default['openstack']['block-storage']['volume']['volume_clear_size'] = 0    
default['openstack']['block-storage']['volume']['volume_clear'] = 'zero'    
</code></p>

<p><code>
default['openstack']['block-storage']['volume']['create_volume_group'] = false    
# Type of volume group to create:    
# - 'file' for basic 40g file for testing    
# - 'block_devices' for using block devices, specified in block_devices attribute    
default['openstack']['block-storage']['volume']['create_volume_group_type'] = 'file'    
# String of local disk device paths    
# Examples: '/dev/sdx /dev/sdx1' or '/dev/sd[k-m]1'    
default['openstack']['block-storage']['volume']['block_devices'] = nil    
</code></p>

<p><code>
default['openstack']['block-storage']['volume']['iscsi_helper'] = 'tgtadm'    
default['openstack']['block-storage']['volume']['iscsi_ip_address'] = node['ipaddress']    
default['openstack']['block-storage']['volume']['iscsi_port'] = '3260'    
</code></p>

<p>Ceph/RADOS options</p>

<p><code>
default['openstack']['block-storage']['rbd']['cinder']['pool'] = 'volumes'    
default['openstack']['block-storage']['rbd']['glance']['pool'] = 'images'    
default['openstack']['block-storage']['rbd']['nova']['pool'] = 'instances'    
default['openstack']['block-storage']['rbd']['user'] = 'cinder'    
default['openstack']['block-storage']['rbd']['secret_uuid'] = '00000000-0000-0000-0000-000000000000'    
default['openstack']['block-storage']['rbd']['flatten_volume'] = false    
default['openstack']['block-storage']['rbd']['max_clone_depth'] = 5    
default['openstack']['block-storage']['rbd']['chunk_size'] = 4    
default['openstack']['block-storage']['rbd']['rados_timeout'] = '-1'    
default['openstack']['block-storage']['rbd']['conf_dir'] = '/etc/ceph/ceph.conf'    
</code></p>

<p>Multiple backend support
Allow multiple backends configured in cinder.conf
For example: {
‘lvm1’ =&gt; {
‘volume_driver’: ‘cinder.volume.drivers.lvm.LVMISCSIDriver’,
‘volume_backend_name’: ‘lvm-backend-1’
}
‘lvm2’ =&gt; {
‘volume_driver’: ‘cinder.volume.drivers.lvm.LVMISCSIDriver’,
‘volume_backend_name’: ‘lvm-backend-2’
}
}</p>

<p><code>
default['openstack']['block-storage']['volume']['multi_backend'] = nil    
</code></p>

<p>Default volume-type for volumes to be created as when client does not request
a specific type.  Volume types are configured from cinder-client and
will reference the backend name.</p>

<p><code>
default['openstack']['block-storage']['volume']['default_volume_type'] = nil    
</code></p>

<p>Misc option support
Allow additional strings to be added to cinder.conf
For example: [’# Comment’, ‘key=value’]</p>

<p><code>
default['openstack']['block-storage']['misc_cinder'] = []    
</code></p>

<p>Default lock_path
The lock_path normally uses /var/lock/cinder, but it’s does not work
in cases like systemd, so setting lock_path to $state_path/lock like
in nova and neutron.</p>

<p><code>
default['openstack']['block-storage']['lock_path'] =    
  "#{node['openstack']['block-storage']['volume']['state_path']}/lock"    
</code></p>

<p>Whether to enable cinder v1 api or not</p>

<p><code>
default['openstack']['block-storage']['enable_v1_api'] = 'False'    
</code></p>

<p>Whether to enable cinder v2 api or not</p>

<p><code>
default['openstack']['block-storage']['enable_v2_api'] = 'True'    
</code></p>

<p>The full class name of the key manager api class</p>

<p><code>
default['openstack']['block-storage']['keymgr']['api_class'] = 'cinder.keymgr.conf_key_mgr.ConfKeyManager'    
</code></p>

<p>Fixed key returned by key manager, specified in hex</p>

<p><code>
default['openstack']['block-storage']['keymgr']['fixed_key'] = nil    
</code></p>

<p><code>
case platform_family    
when 'fedora', 'rhel' # :pragma-foodcritic: ~FC024 - won't fix this    
  # operating system user and group names    
  default['openstack']['block-storage']['user'] = 'cinder'    
  default['openstack']['block-storage']['group'] = 'cinder'    
  default['openstack']['block-storage']['volume']['iscsi_helper'] = 'lioadm'    
</code></p>

<p><code>
  default['openstack']['block-storage']['platform'] = {    
    'cinder_common_packages' =&gt; ['openstack-cinder'],    
    'cinder_api_packages' =&gt; ['python-cinderclient'],    
    'cinder_api_service' =&gt; 'openstack-cinder-api',    
    'cinder_client_packages' =&gt; ['python-cinderclient'],    
    'cinder_volume_packages' =&gt; ['qemu-img'],    
    'cinder_volume_service' =&gt; 'openstack-cinder-volume',    
    'cinder_scheduler_packages' =&gt; [],    
    'cinder_scheduler_service' =&gt; 'openstack-cinder-scheduler',    
    'cinder_backup_packages' =&gt; [],    
    'cinder_backup_service' =&gt; 'openstack-cinder-backup',    
    'cinder_iscsitarget_packages' =&gt; ['targetcli'],    
    'cinder_iscsitarget_service' =&gt; 'target',    
    'cinder_ceph_packages' =&gt; ['python-ceph', 'ceph-common'],    
    'cinder_nfs_packages' =&gt; ['nfs-utils', 'nfs-utils-lib'],    
    'cinder_emc_packages' =&gt; ['pywbem'],    
    'cinder_svc_packages' =&gt; ['sysfsutils'],    
    'cinder_lvm_packages' =&gt; ['lvm2'],    
    'cinder_flashsystem_packages' =&gt; ['sysfsutils'],    
    'package_overrides' =&gt; ''    
  }    
when 'suse'    
  # operating system user and group names    
  default['openstack']['block-storage']['user'] = 'openstack-cinder'    
  default['openstack']['block-storage']['group'] = 'openstack-cinder'    
  default['openstack']['block-storage']['platform'] = {    
    'cinder_common_packages' =&gt; ['openstack-cinder'],    
    'cinder_api_packages' =&gt; ['openstack-cinder-api'],    
    'cinder_api_service' =&gt; 'openstack-cinder-api',    
    'cinder_client_packages' =&gt; ['python-cinderclient'],    
    'cinder_scheduler_packages' =&gt; ['openstack-cinder-scheduler'],    
    'cinder_scheduler_service' =&gt; 'openstack-cinder-scheduler',    
    'cinder_backup_packages' =&gt; ['openstack-cinder-backup'],    
    'cinder_backup_service' =&gt; 'openstack-cinder-backup',    
    'cinder_volume_packages' =&gt; ['openstack-cinder-volume', 'qemu-img'],    
    'cinder_volume_service' =&gt; 'openstack-cinder-volume',    
    'cinder_ceph_packages' =&gt; ['python-ceph', 'ceph-common'],    
    'cinder_iscsitarget_packages' =&gt; ['tgt'],    
    'cinder_iscsitarget_service' =&gt; 'tgtd',    
    'cinder_nfs_packages' =&gt; ['nfs-utils'],    
    'cinder_emc_packages' =&gt; ['python-pywbem'],    
    'cinder_svc_packages' =&gt; ['sysfsutils'],    
    'cinder_lvm_packages' =&gt; ['lvm2'],    
    'cinder_flashsystem_packages' =&gt; ['sysfsutils']    
  }    
when 'debian'    
  # operating system user and group names    
  default['openstack']['block-storage']['user'] = 'cinder'    
  default['openstack']['block-storage']['group'] = 'cinder'    
  default['openstack']['block-storage']['platform'] = {    
    'cinder_common_packages' =&gt; ['cinder-common'],    
    'cinder_api_packages' =&gt; ['cinder-api', 'python-cinderclient'],    
    'cinder_api_service' =&gt; 'cinder-api',    
    'cinder_client_packages' =&gt; ['python-cinderclient'],    
    'cinder_volume_packages' =&gt; ['cinder-volume', 'qemu-utils'],    
    'cinder_volume_service' =&gt; 'cinder-volume',    
    'cinder_scheduler_packages' =&gt; ['cinder-scheduler'],    
    'cinder_scheduler_service' =&gt; 'cinder-scheduler',    
    'cinder_backup_packages' =&gt; ['cinder-backup'],    
    'cinder_backup_service' =&gt; 'cinder-backup',    
    'cinder_ceph_packages' =&gt; ['python-ceph', 'ceph-common'],    
    'cinder_iscsitarget_packages' =&gt; ['tgt'],    
    'cinder_iscsitarget_service' =&gt; 'tgt',    
    'cinder_nfs_packages' =&gt; ['nfs-common'],    
    'cinder_emc_packages' =&gt; ['python-pywbem'],    
    'cinder_svc_packages' =&gt; ['sysfsutils'],    
    'cinder_lvm_packages' =&gt; ['lvm2'],    
    'cinder_flashsystem_packages' =&gt; ['sysfsutils'],    
    'package_overrides' =&gt; "-o Dpkg::Options::='--force-confold' -o Dpkg::Options::='--force-confdef'"    
  }    
end    
</code></p>

<p>Attributes for cinder-backup service</p>

<p><code>
default['openstack']['block-storage']['backup']['driver'] = 'cinder.backup.drivers.swift'    
</code></p>

<p>Swift support
The URL of Swift endpoint (string value)</p>

<p><code>
default['openstack']['block-storage']['backup']['swift']['url'] = nil    
# Info to match when looking for swift in the service catalog    
default['openstack']['block-storage']['backup']['swift']['catalog_info'] = 'object-store:swift:publicURL'    
# Swift authentication mechanism (string value)    
default['openstack']['block-storage']['backup']['swift']['auth'] = 'per_user'    
# Swift authentication version    
default['openstack']['block-storage']['backup']['swift']['auth_version'] = 1    
# Swift user name    
default['openstack']['block-storage']['backup']['swift']['user'] = nil    
# Swift tenant/account name. Required when connecting    
default['openstack']['block-storage']['backup']['swift']['tenant'] = nil    
# Swift key for authentication (string value)    
default['openstack']['block-storage']['backup']['swift']['key'] = nil    
# The default Swift container to use    
default['openstack']['block-storage']['backup']['swift']['container'] = 'volumebackups'    
# The size in bytes of Swift backup objects    
default['openstack']['block-storage']['backup']['swift']['object_size'] = 52428800    
# The size in bytes that changes are tracked for incremental backups    
default['openstack']['block-storage']['backup']['swift']['block_size'] = 32768    
# The number of retries to make for Swift operations    
default['openstack']['block-storage']['backup']['swift']['retry_attempts'] = 3    
# The backoff time in seconds between Swift retries    
default['openstack']['block-storage']['backup']['swift']['retry_backoff'] = 2    
# Enable or Disable the timer to send the periodic progress notifications to Ceilometer when backing up the volume to the Swift backend storage.    
default['openstack']['block-storage']['backup']['swift']['enable_progress_timer'] = 'True'    
</code></p>

<hr />

<h2 id="cookbook-openstack-clientattributesdefault">cookbook-openstack-client_attributes_default</h2>

<p><a href="#contents">back to top</a></p>

<p>Dependencies and versions</p>

<p><code>
default['openstack_client']['fog_version']      = '~&gt; 1.23.0'    
default['openstack_client']['nokogiri_version'] = '~&gt; 1.6.2.1'    
</code></p>

<hr />

<h2 id="cookbook-openstack-computeattributesdefault">cookbook-openstack-compute_attributes_default</h2>

<p><a href="#contents">back to top</a></p>

<p><code>
default['enable_monit'] = false  # OS provides packages    
########################################################################    
</code></p>

<p>Set to some text value if you want templated config files
to contain a custom banner at the top of the written file</p>

<p><code>
default['openstack']['compute']['custom_template_banner'] = '    
# This file autogenerated by Chef    
# Do not edit, changes will be overwritten    
'    
</code></p>

<p>The name of the Chef role that knows about the message queue server
that Nova uses</p>

<p><code>
default['openstack']['compute']['rabbit_server_chef_role'] = 'os-ops-messaging'    
</code></p>

<p><code>
default['openstack']['compute']['verbose'] = 'False'    
default['openstack']['compute']['debug'] = 'False'    
</code></p>

<p><code>
default['openstack']['compute']['state_path'] = '/var/lib/nova'    
default['openstack']['compute']['instances_path'] =    
  "#{node['openstack']['compute']['state_path']}/instances"    
default['openstack']['compute']['network_allocate_retries'] = 0    
default['openstack']['compute']['instance_name_template'] = 'instance-%08x'    
</code></p>

<p>The lock_path normally uses /var/lock/nova, but it’s not allowed in openSUSE,
so setting lock_path to $state_path/lock like in Neutron.</p>

<p><code>
default['openstack']['compute']['lock_path'] =    
  "#{node['openstack']['compute']['state_path']}/lock"    
</code></p>

<p>Workers
nova will default to number of cpus</p>

<p><code>
default['openstack']['compute']['ec2_workers'] = nil    
default['openstack']['compute']['osapi_compute_workers'] = nil    
default['openstack']['compute']['metadata_workers'] = nil    
</code></p>

<p>Set dbsync command timeout value</p>

<p><code>
default['openstack']['compute']['dbsync_timeout'] = 3600    
</code></p>

<p>The name of the Chef role that sets up the Keystone Service API</p>

<p><code>
default['openstack']['compute']['identity_service_chef_role'] = 'os-identity'    
</code></p>

<p>The dnsmasq config file path</p>

<p><code>
default['openstack']['compute']['dnsmasq_config_file'] = ''    
</code></p>

<p>Disallow non-encrypted connections</p>

<p><code>
default['openstack']['compute']['ssl_only'] = false    
</code></p>

<p>SSL certificate file</p>

<p><code>
default['openstack']['compute']['cert'] = 'self.pem'    
</code></p>

<p>SSL key file (if separate from cert)</p>

<p><code>
default['openstack']['compute']['key'] = ''    
</code></p>

<p>Common rpc definitions</p>

<p><code>
default['openstack']['compute']['rpc_thread_pool_size'] = 64    
default['openstack']['compute']['rpc_conn_pool_size'] = 30    
default['openstack']['compute']['rpc_response_timeout'] = 60    
case node['openstack']['mq']['service_type']    
when 'rabbitmq'    
  default['openstack']['compute']['rpc_backend'] = 'nova.openstack.common.rpc.impl_kombu'    
when 'qpid'    
  default['openstack']['compute']['rpc_backend'] = 'nova.openstack.common.rpc.impl_qpid'    
end    
</code></p>

<p><code>
default['openstack']['compute']['service_tenant_name'] = 'service'    
default['openstack']['compute']['service_user'] = 'nova'    
default['openstack']['compute']['service_role'] = 'admin'    
</code></p>

<p><code>
case platform_family    
when 'fedora', 'rhel', 'debian'    
  default['openstack']['compute']['user'] = 'nova'    
  default['openstack']['compute']['group'] = 'nova'    
when 'suse'    
  default['openstack']['compute']['user'] = 'openstack-nova'    
  default['openstack']['compute']['group'] = 'openstack-nova'    
end    
</code></p>

<p>Logging stuff</p>

<p><code>
default['openstack']['compute']['log_dir'] = '/var/log/nova'    
</code></p>

<p><code>
default['openstack']['compute']['syslog']['use'] = false    
default['openstack']['compute']['syslog']['facility'] = 'LOG_LOCAL1'    
default['openstack']['compute']['syslog']['config_facility'] = 'local1'    
</code></p>

<p><code>
default['openstack']['compute']['region'] = node['openstack']['region']    
</code></p>

<p><code>
default['openstack']['compute']['floating_cmd'] = '/usr/local/bin/add_floaters.py'    
</code></p>

<p>Support multiple network types.  Default network type is ‘nova’
with the other option supported being ‘neutron’</p>

<p><code>
default['openstack']['compute']['network']['service_type'] = 'nova'    
</code></p>

<p>if the network type is not nova, we will load the following
plugins from openstack-network</p>

<p><code>
default['openstack']['compute']['network']['plugins'] = ['openvswitch']    
</code></p>

<p>Enable guestfs debug</p>

<p><code>
default['openstack']['compute']['guestfs']['debug'] = false    
</code></p>

<p>rootwrap.conf</p>

<p><code>
default['openstack']['compute']['rootwrap']['filters_path'] = '/etc/nova/rootwrap.d,/usr/share/nova/rootwrap'    
default['openstack']['compute']['rootwrap']['exec_dirs'] = '/sbin,/usr/sbin,/bin,/usr/bin'    
default['openstack']['compute']['rootwrap']['use_syslog'] = 'False'    
default['openstack']['compute']['rootwrap']['syslog_log_facility'] = 'syslog'    
default['openstack']['compute']['rootwrap']['syslog_log_level'] = 'ERROR'    
</code></p>

<p>If True, this indicates that glance-api allows the client to perform
insecure SSL(https) requests; this should be the same as the setting
in the glance-api service.</p>

<p><code>
default['openstack']['compute']['image']['glance_insecure'] = false    
</code></p>

<p>CA certificate file to use to verify connecting clients</p>

<p><code>
default['openstack']['compute']['image']['ssl']['ca_file'] = nil    
</code></p>

<p>Certificate file to use when starting the server securely</p>

<p><code>
default['openstack']['compute']['image']['ssl']['cert_file'] = nil    
</code></p>

<p>Private key file to use when starting the server securely</p>

<p><code>
default['openstack']['compute']['image']['ssl']['key_file'] = nil    
</code></p>

<p>A list of url scheme that can be downloaded directly
via the direct_url.  Currently supported schemes: [file].</p>

<p><code>
default['openstack']['compute']['image']['allowed_direct_url_schemes'] = []    
</code></p>

<p>Image file url support
For each entry in the filesystem list a new configuration section must be
added with the following format:</p>

<p>filesystem name:</p>

<p>id:
An opaque string.  In order for this module to know that the remote
FS is the same one that is mounted locally it must share information
with the glance deployment.  Both glance and nova-compute must be
configured with a unique matching string.  This ensures that the
file:// advertised URL is describing a file system that is known
to nova-compute
mountpoint:
The location at which the file system is locally mounted.  Glance
may mount a shared file system on a different path than nova-compute.
This value will be compared against the metadata advertised with
glance and paths will be adjusted to ensure that the correct file
is copied.</p>

<p>For example: {
‘some_fs’ =&gt; {
‘id’ =&gt; ‘00000000-0000-0000-0000-000000000000’,
‘mountpoint’ =&gt; ‘/mount/some_fs/images’
},
‘another_fs’ =&gt; {
‘id’ =&gt; ‘1111111-1111-1111-1111-1111111111111’,
‘mountpoint’ =&gt; ‘/mount/another_fs/images’
}
}</p>

<p>This will produce the following in nova.conf</p>

<p>[image_file_url]
filesystems=some_fs,another_fs
[image_file_url:some_fs]
id=00000000-0000-0000-0000-000000000000
mountpoint=/mount/some_fs/images
[image_file_url:another_fs]
id=1111111-1111-1111-1111-1111111111111
mountpoint=/mount/another_fs/images</p>

<p><code>
default['openstack']['compute']['image']['filesystems'] = nil    
</code></p>

<p>Neutron options
If True, this indicates that neutron api allows the client to perform
insecure SSL (https) requests. This should be the same as the setting
in the neutron api service.</p>

<p><code>
default['openstack']['compute']['network']['neutron']['insecure'] = false    
default['openstack']['compute']['network']['neutron']['network_api_class'] = 'nova.network.neutronv2.api.API'    
default['openstack']['compute']['network']['neutron']['auth_strategy'] = 'keystone'    
default['openstack']['compute']['network']['neutron']['admin_tenant_name'] = 'service'    
default['openstack']['compute']['network']['neutron']['admin_username'] = 'neutron'    
default['openstack']['compute']['network']['neutron']['libvirt_vif_driver'] = 'nova.virt.libvirt.vif.LibvirtGenericVIFDriver'    
default['openstack']['compute']['network']['neutron']['linuxnet_interface_driver'] = 'nova.network.linux_net.LinuxOVSInterfaceDriver'    
default['openstack']['compute']['network']['neutron']['security_group_api'] = 'neutron'    
default['openstack']['compute']['network']['neutron']['service_neutron_metadata_proxy'] = true    
default['openstack']['compute']['network']['neutron']['metadata_secret_name'] = 'neutron_metadata_shared_secret'    
default['openstack']['compute']['network']['neutron']['public_network_name'] = 'public'    
default['openstack']['compute']['network']['neutron']['dns_server'] = '8.8.8.8'    
# Timeout value for connecting to neutron in seconds    
default['openstack']['compute']['network']['neutron']['timeout'] = 30    
# Region name for connecting to neutron in admin context    
default['openstack']['compute']['network']['neutron']['region_name'] = nil    
# Name of Integration Bridge used by Open vSwitch    
default['openstack']['compute']['network']['neutron']['ovs_bridge'] = 'br-int'    
# Number of seconds before querying neutron for extensions    
default['openstack']['compute']['network']['neutron']['extension_sync_interval'] = 600    
# Location of CA certificates file to use for neutron client requests    
default['openstack']['compute']['network']['neutron']['cafile'] = nil    
</code></p>

<p>TODO(shep): This should probably be [‘openstack’][‘compute’][‘network’][‘fixed’]</p>

<p><code>
default['openstack']['compute']['networks'] = [    
  {    
    'label' =&gt; 'public',    
    'ipv4_cidr' =&gt; '192.168.100.0/24',    
    'num_networks' =&gt; '1',    
    'network_size' =&gt; '255',    
    'bridge' =&gt; 'br100',    
    'bridge_dev' =&gt; 'eth2',    
    'dns1' =&gt; '8.8.8.8',    
    'dns2' =&gt; '8.8.4.4',    
    'multi_host' =&gt; 'T'    
  },    
  {    
    'label' =&gt; 'private',    
    'ipv4_cidr' =&gt; '192.168.200.0/24',    
    'num_networks' =&gt; '1',    
    'network_size' =&gt; '255',    
    'bridge' =&gt; 'br200',    
    'bridge_dev' =&gt; 'eth3',    
    'dns1' =&gt; '8.8.8.8',    
    'dns2' =&gt; '8.8.4.4',    
    'multi_host' =&gt; 'T'    
  }    
]    
</code></p>

<p>For VLAN Networking, do the following:</p>

<p>default[‘openstack’][‘compute’][‘network’][‘network_manager’] = ‘nova.network.manager.VlanManager’
default[‘openstack’][‘compute’][‘network’][‘vlan_interface’] = ‘eth1’  # Or ‘eth2’, ‘bond1’, etc…</p>

<p>In addition to the above, you typically either want to do one of the following:</p>

<p>1) Set default[‘openstack’][‘compute’][‘networks’] to an empty Array ([]) and create your
VLAN networks (using nova-manage network create) <strong>when you create a tenant</strong>.</p>

<p>2) Set default[‘openstack’][‘compute’][‘networks’] to an Array of VLAN networks that get created
<strong>without a tenant assignment</strong> for tenants to use when they are created later.
Such an array might look like this:</p>

<p>default[‘openstack’][‘compute’][‘networks’] = [
{
‘label’: ‘vlan100’,
‘vlan’: ‘100’,
‘ipv4_cidr’: ‘10.0.100.0/24’
},
{
‘label’: ‘vlan101’,
‘vlan’: ‘101’,
‘ipv4_cidr’: ‘10.0.101.0/24’
},
{
‘label’: ‘vlan102’,
‘vlan’: ‘102’,
‘ipv4_cidr’: ‘10.0.102.0/24’
},
]</p>

<p><code>
default['openstack']['compute']['network']['multi_host'] = false    
# DMZ CIDR is a range of IP addresses that should not    
# have their addresses SNAT'ed by the nova network controller    
default['openstack']['compute']['network']['dmz_cidr'] = '10.128.0.0/24'    
default['openstack']['compute']['network']['network_manager'] = 'nova.network.manager.FlatDHCPManager'    
default['openstack']['compute']['network']['public_interface'] = 'eth0'    
default['openstack']['compute']['network']['vlan_interface'] = 'eth0'    
</code></p>

<p>Options for floating ips for Nova</p>

<p><code>
default['openstack']['compute']['network']['auto_assign_floating_ip'] = false    
# The following two attributes can be used to enabled floating ip addresses.    
# For nova networking, you can use either the cidr or the range.    
# For neutron networking, you can use the cidr and not the range.    
# Example of valid cidr and range values.    
# ['openstack']['compute']['network']['floating']['ipv4_cidr'] = '10.10.10.0/24'    
# ['openstack']['compute']['network']['floating']['ipv4_range'] = '10.10.10.1,10.10.10.5'    
</code></p>

<p>https://bugs.launchpad.net/nova/+bug/1075859</p>

<p><code>
default['openstack']['compute']['network']['use_single_default_gateway'] = false    
default['openstack']['compute']['network']['use_ipv6'] = false    
</code></p>

<p><code>
default['openstack']['compute']['scheduler']['scheduler_manager'] = 'nova.scheduler.manager.SchedulerManager'    
default['openstack']['compute']['scheduler']['scheduler_driver'] = 'nova.scheduler.filter_scheduler.FilterScheduler'    
default['openstack']['compute']['scheduler']['scheduler_host_manager'] = 'nova.scheduler.host_manager.HostManager'    
default['openstack']['compute']['scheduler']['available_filters'] = 'nova.scheduler.filters.all_filters'    
default['openstack']['compute']['scheduler']['default_filters'] = %w(    
  RetryFilter    
  AvailabilityZoneFilter    
  RamFilter    
  ComputeFilter    
  ComputeCapabilitiesFilter    
  ImagePropertiesFilter    
  ServerGroupAntiAffinityFilter    
  ServerGroupAffinityFilter)    
</code></p>

<p><code>
default['openstack']['compute']['driver'] = 'libvirt.LibvirtDriver'    
default['openstack']['compute']['manager'] = 'nova.compute.manager.ComputeManager'    
default['openstack']['compute']['default_ephemeral_format'] = nil    
default['openstack']['compute']['preallocate_images'] = 'none'    
default['openstack']['compute']['use_cow_images'] = true    
default['openstack']['compute']['vif_plugging_is_fatal'] = true    
default['openstack']['compute']['vif_plugging_timeout'] = 300    
</code></p>

<p><code>
default['openstack']['compute']['libvirt']['virt_type'] = 'kvm'    
default['openstack']['compute']['libvirt']['auth_tcp'] = 'none'    
default['openstack']['compute']['libvirt']['remove_unused_base_images'] = true    
default['openstack']['compute']['libvirt']['remove_unused_resized_minimum_age_seconds'] = 3600    
default['openstack']['compute']['libvirt']['remove_unused_original_minimum_age_seconds'] = 3600    
default['openstack']['compute']['libvirt']['checksum_base_images'] = false    
# libvirt.max_clients (default: 20)    
default['openstack']['compute']['libvirt']['max_clients'] = 20    
# libvirt.max_workers (default: 20)    
default['openstack']['compute']['libvirt']['max_workers'] = 20    
# libvirt.max_requests (default: 20)    
default['openstack']['compute']['libvirt']['max_requests'] = 20    
# libvirt.max_client_requests (default: 5)    
default['openstack']['compute']['libvirt']['max_client_requests'] = 5    
if node['platform'] == 'suse'    
  default['openstack']['compute']['libvirt']['group'] = 'libvirt'    
else    
  default['openstack']['compute']['libvirt']['group'] = 'libvirtd'    
end    
default['openstack']['compute']['libvirt']['unix_sock_rw_perms'] = '0770'    
default['openstack']['compute']['libvirt']['libvirt_inject_key'] = true    
default['openstack']['compute']['libvirt']['libvirt_inject_password'] = false    
default['openstack']['compute']['libvirt']['libvirt_inject_partition'] = -2    
# A path to a device that will be used as source of entropy on the host. Permitted options are: /dev/random or /dev/hwrng (string value)    
default['openstack']['compute']['libvirt']['rng_dev_path'] = nil    
# VM Images format. Acceptable values are: raw, qcow2, lvm,    
# rbd, default. If default is specified, then use_cow_images    
# flag is used instead of this one. (string value)    
# (The cookbook doesn't set that value, so if you want cow, set qcow2 here.)    
default['openstack']['compute']['libvirt']['images_type'] = 'default'    
# lvm    
default['openstack']['compute']['libvirt']['volume_group'] = nil    
default['openstack']['compute']['libvirt']['sparse_logical_volumes'] = false    
# rbd    
default['openstack']['compute']['libvirt']['rbd']['ceph_conf'] = '/etc/ceph/ceph.conf'    
# use a different backend for volumes, allowed options: rbd    
default['openstack']['compute']['libvirt']['volume_backend'] = nil    
default['openstack']['compute']['libvirt']['rbd']['cinder']['pool'] = 'volumes'    
default['openstack']['compute']['libvirt']['rbd']['glance']['pool'] = 'images'    
default['openstack']['compute']['libvirt']['rbd']['nova']['pool'] = 'instances'    
</code></p>

<p><code>
default['openstack']['compute']['libvirt']['rbd']['cinder']['user'] = 'cinder'    
default['openstack']['compute']['libvirt']['rbd']['cinder']['secret_uuid'] = '00000000-0000-0000-0000-000000000000'    
# live migration    
default['openstack']['compute']['libvirt']['live_migration_bandwidth'] = 0    
default['openstack']['compute']['libvirt']['live_migration_flag'] = 'VIR_MIGRATE_UNDEFINE_SOURCE,VIR_MIGRATE_PEER2PEER,VIR_MIGRATE_LIVE,VIR_MIGRATE_PERSIST_DEST'    
default['openstack']['compute']['libvirt']['block_migration_flag'] = 'VIR_MIGRATE_UNDEFINE_SOURCE, VIR_MIGRATE_PEER2PEER, VIR_MIGRATE_NON_SHARED_INC'    
default['openstack']['compute']['libvirt']['live_migration_uri'] = 'qemu+tcp://%s/system'    
</code></p>

<p>Explicitly set the cpu_mode option under libvirt section
When this option is set, it will override all other logics related to cpu_mode</p>

<p><code>
default['openstack']['compute']['libvirt']['cpu_mode'] = nil    
</code></p>

<p>Sync virtual and real mouse cursors in Windows VMs (boolean value)</p>

<p><code>
default['openstack']['compute']['config']['use_usb_tablet'] = 'true'    
</code></p>

<p><code>
default['openstack']['compute']['config']['availability_zone'] = 'nova'    
default['openstack']['compute']['config']['default_schedule_zone'] = 'nova'    
default['openstack']['compute']['config']['force_raw_images'] = false    
default['openstack']['compute']['config']['allow_same_net_traffic'] = true    
# The maximum number of items returned in a single    
# response from a collection resource    
default['openstack']['compute']['config']['osapi_max_limit'] = 1000    
# Base URL that will be presented to users in links    
# to the OpenStack Compute API    
default['openstack']['compute']['config']['osapi_compute_link_prefix'] = nil    
# Base URL that will be presented to users in links    
# to glance resources    
default['openstack']['compute']['config']['osapi_glance_link_prefix'] = nil    
default['openstack']['compute']['config']['cpu_allocation_ratio'] = 16.0    
default['openstack']['compute']['config']['ram_allocation_ratio'] = 1.5    
default['openstack']['compute']['config']['disk_allocation_ratio'] = 1.0    
default['openstack']['compute']['config']['snapshot_image_format'] = 'qcow2'    
default['openstack']['compute']['config']['allow_resize_to_same_host'] = false    
default['openstack']['compute']['config']['resize_confirm_window'] = 0    
default['openstack']['compute']['config']['reserved_host_disk_mb'] = 0    
default['openstack']['compute']['config']['reserved_host_memory_mb'] = 512    
# `start` will cause nova-compute to error out if a VM is already running, where    
# `resume` checks to see if it is running first.    
default['openstack']['compute']['config']['start_guests_on_host_boot'] = false    
# requires https://review.openstack.org/#/c/8423/    
default['openstack']['compute']['config']['resume_guests_state_on_host_boot'] = true    
</code></p>

<p>force_config_drive can be nil or ‘always’,
if it’s ‘always’, nova will create a config drive regardless of if the user specified –config-drive true in their nova boot call</p>

<p><code>
default['openstack']['compute']['config']['force_config_drive'] = nil    
# Config drive format, should be one of iso9660 or vfat    
default['openstack']['compute']['config']['config_drive_format'] = 'iso9660'    
default['openstack']['compute']['config']['mkisofs_cmd'] = 'genisoimage'    
default['openstack']['compute']['config']['injected_network_template'] = '$pybasedir/nova/virt/interfaces.template'    
default['openstack']['compute']['config']['flat_injected'] = false    
</code></p>

<p>Volume API class (driver)</p>

<p><code>
default['openstack']['compute']['config']['volume_api_class'] = 'nova.volume.cinder.API'    
</code></p>

<p>Cinder options
Location of ca certificates file to use for cinder client requests.</p>

<p><code>
default['openstack']['compute']['block-storage']['cinder_cafile'] = nil    
</code></p>

<p>Allow to perform insecure SSL requests to cinder</p>

<p><code>
default['openstack']['compute']['block-storage']['cinder_insecure'] = false    
</code></p>

<p>Info to match when looking for cinder in the service catalog</p>

<p><code>
default['openstack']['compute']['block-storage']['cinder_catalog_info'] = 'volumev2:cinderv2:publicURL'    
</code></p>

<p>quota settings</p>

<p><code>
default['openstack']['compute']['config']['quota_security_groups'] = 50    
default['openstack']['compute']['config']['quota_security_group_rules'] = 20    
# (StrOpt) default driver to use for quota checks (default: nova.quota.DbQuotaDriver)    
default['openstack']['compute']['config']['quota_driver'] = 'nova.quota.DbQuotaDriver'    
# number of instance cores allowed per project (default: 20)    
default['openstack']['compute']['config']['quota_cores'] = 20    
# number of fixed ips allowed per project (this should be at least the number of instances allowed) (default: -1)    
default['openstack']['compute']['config']['quota_fixed_ips'] = -1    
# number of floating ips allowed per project (default: 10)    
default['openstack']['compute']['config']['quota_floating_ips'] = 10    
# number of bytes allowed per injected file (default: 10240)    
default['openstack']['compute']['config']['quota_injected_file_content_bytes'] = 10240    
# number of bytes allowed per injected file path (default: 255)    
default['openstack']['compute']['config']['quota_injected_file_path_length'] = 255    
# number of injected files allowed (default: 5)    
default['openstack']['compute']['config']['quota_injected_files'] = 5    
# number of instances allowed per project (defailt: 10)    
default['openstack']['compute']['config']['quota_instances'] = 10    
# number of key pairs per user (default: 100)    
default['openstack']['compute']['config']['quota_key_pairs'] = 100    
# number of metadata items allowed per instance (default: 128)    
default['openstack']['compute']['config']['quota_metadata_items'] = 128    
# megabytes of instance ram allowed per project (default: 51200)    
default['openstack']['compute']['config']['quota_ram'] = 51200    
# disk cache modes    
default['openstack']['compute']['config']['disk_cachemodes'] = nil    
# Number of 1 second retries needed in live_migration    
default['openstack']['compute']['config']['live_migration_retry_count'] = 30    
</code></p>

<p><code>
default['openstack']['compute']['ratelimit']['settings'] = {    
  'generic-post-limit' =&gt; { 'verb' =&gt; 'POST', 'uri' =&gt; '*', 'regex' =&gt; '.*', 'limit' =&gt; '10', 'interval' =&gt; 'MINUTE' },    
  'create-servers-limit' =&gt; { 'verb' =&gt; 'POST', 'uri' =&gt; '*/servers', 'regex' =&gt; '^/servers', 'limit' =&gt; '50', 'interval' =&gt; 'DAY' },    
  'generic-put-limit' =&gt; { 'verb' =&gt; 'PUT', 'uri' =&gt; '*', 'regex' =&gt; '.*', 'limit' =&gt; '10', 'interval' =&gt; 'MINUTE' },    
  'changes-since-limit' =&gt; { 'verb' =&gt; 'GET', 'uri' =&gt; '*changes-since*', 'regex' =&gt; '.*changes-since.*', 'limit' =&gt; '3', 'interval' =&gt; 'MINUTE' },    
  'generic-delete-limit' =&gt; { 'verb' =&gt; 'DELETE', 'uri' =&gt; '*', 'regex' =&gt; '.*', 'limit' =&gt; '100', 'interval' =&gt; 'MINUTE' }    
}    
</code></p>

<p>Metering settings</p>

<p><code>
default['openstack']['compute']['metering'] = false    
</code></p>

<p>Notification settings</p>

<p><code>
if node['openstack']['compute']['metering']    
  default['openstack']['compute']['config']['notification_drivers'] = ['nova.openstack.common.notifier.rpc_notifier', 'ceilometer.compute.nova_notifier']    
  default['openstack']['compute']['config']['instance_usage_audit'] = 'True'    
  default['openstack']['compute']['config']['instance_usage_audit_period'] = 'hour'    
  default['openstack']['compute']['config']['notify_on_state_change'] = 'vm_and_task_state'    
  default['openstack']['compute']['config']['notification_topics'] = ['notifications']    
else    
  default['openstack']['compute']['config']['notification_drivers'] = []    
  default['openstack']['compute']['config']['instance_usage_audit'] = 'False'    
  default['openstack']['compute']['config']['instance_usage_audit_period'] = 'month'    
  default['openstack']['compute']['config']['notify_on_state_change'] = ''    
  default['openstack']['compute']['config']['notification_topics'] = ['notifications']    
end    
</code></p>

<p>Monitor settings</p>

<p><code>
default['openstack']['compute']['config']['compute_available_monitors'] = ['nova.compute.monitors.all_monitors']    
default['openstack']['compute']['config']['compute_monitors'] = []    
</code></p>

<p>Keystone settings</p>

<p><code>
default['openstack']['compute']['api']['auth_strategy'] = 'keystone'    
</code></p>

<p><code>
default['openstack']['compute']['api']['auth']['version'] = node['openstack']['api']['auth']['version']    
</code></p>

<p>A list of memcached server(s) for caching</p>

<p><code>
default['openstack']['compute']['api']['auth']['memcached_servers'] = nil    
</code></p>

<p>Whether token data should be authenticated or authenticated and encrypted. Acceptable values are MAC or ENCRYPT.</p>

<p><code>
default['openstack']['compute']['api']['auth']['memcache_security_strategy'] = nil    
</code></p>

<p>This string is used for key derivation.</p>

<p><code>
default['openstack']['compute']['api']['auth']['memcache_secret_key'] = nil    
</code></p>

<p>Hash algorithms to use for hashing PKI tokens.</p>

<p><code>
default['openstack']['compute']['api']['auth']['hash_algorithms'] = 'md5'    
</code></p>

<p>A PEM encoded Certificate Authority to use when verifying HTTPs connections.</p>

<p><code>
default['openstack']['compute']['api']['auth']['cafile'] = nil    
</code></p>

<p>Whether to allow the client to perform insecure SSL (https) requests</p>

<p><code>
default['openstack']['compute']['api']['auth']['insecure'] = false    
</code></p>

<p>Keystone PKI signing directories</p>

<p><code>
default['openstack']['compute']['api']['auth']['cache_dir'] = '/var/cache/nova/api'    
</code></p>

<p>Conductor settings
Perform nova-conductor operations locally (boolean value)</p>

<p><code>
default['openstack']['compute']['conductor']['use_local'] = 'False'    
# nova-conductor will default to number of cpus    
default['openstack']['compute']['conductor']['workers'] = nil    
</code></p>

<p><code>
default['openstack']['compute']['network']['force_dhcp_release'] = true    
</code></p>

<p><code>
case platform_family    
when 'fedora', 'rhel', 'suse' # :pragma-foodcritic: ~FC024 - won't fix this    
  default['openstack']['compute']['platform'] = {    
    'api_ec2_packages' =&gt; ['openstack-nova-api'],    
    'api_ec2_service' =&gt; 'openstack-nova-api',    
    'api_os_compute_packages' =&gt; ['openstack-nova-api'],    
    'api_os_compute_service' =&gt; 'openstack-nova-api',    
    'neutron_python_packages' =&gt; ['python-neutronclient', 'pyparsing'],    
    'memcache_python_packages' =&gt; ['python-memcached'],    
    'compute_api_metadata_packages' =&gt; ['openstack-nova-api'],    
    'compute_api_metadata_service' =&gt; 'openstack-nova-metadata-api',    
    'compute_client_packages' =&gt; ['python-novaclient'],    
    'compute_compute_packages' =&gt; ['openstack-nova-compute'],    
    'qemu_compute_packages' =&gt; [],    
    'kvm_compute_packages' =&gt; [],    
    'compute_compute_service' =&gt; 'openstack-nova-compute',    
    'compute_network_packages' =&gt; ['iptables', 'openstack-nova-network'],    
    'compute_network_service' =&gt; 'openstack-nova-network',    
    'compute_scheduler_packages' =&gt; ['openstack-nova-scheduler'],    
    'compute_scheduler_service' =&gt; 'openstack-nova-scheduler',    
    'compute_conductor_packages' =&gt; ['openstack-nova-conductor'],    
    'compute_conductor_service' =&gt; 'openstack-nova-conductor',    
    'compute_vncproxy_packages' =&gt; ['openstack-nova-novncproxy'],    
    'compute_vncproxy_service' =&gt; 'openstack-nova-novncproxy',    
    'compute_vncproxy_consoleauth_packages' =&gt; ['openstack-nova-console'],    
    'compute_vncproxy_consoleauth_service' =&gt; 'openstack-nova-consoleauth',    
    'libvirt_packages' =&gt; ['libvirt', 'device-mapper', 'python-libguestfs'],    
    'libvirt_service' =&gt; 'libvirtd',    
    'libvirt_ceph_packages' =&gt; ['ceph-common'],    
    'dbus_service' =&gt; 'messagebus',    
    'compute_cert_packages' =&gt; ['openstack-nova-cert'],    
    'compute_cert_service' =&gt; 'openstack-nova-cert',    
    'mysql_service' =&gt; 'mysqld',    
    'common_packages' =&gt; ['openstack-nova-common'],    
    'iscsi_helper' =&gt; 'ietadm',    
    'nfs_packages' =&gt; ['nfs-utils', 'nfs-utils-lib'],    
    'volume_packages' =&gt; ['sysfsutils', 'sg3_utils', 'device-mapper-multipath'],    
    'docker_build_pkgs' =&gt; ['git', 'python-devel', 'gcc'],    
    'package_overrides' =&gt; ''    
  }    
  if platform_family == 'suse'    
    default['openstack']['compute']['platform']['dbus_service'] = 'dbus'    
    default['openstack']['compute']['platform']['neutron_python_packages'] = ['python-neutronclient', 'python-pyparsing']    
    default['openstack']['compute']['platform']['common_packages'] = ['openstack-nova']    
    default['openstack']['compute']['platform']['kvm_packages'] = ['kvm']    
    default['openstack']['compute']['platform']['xen_packages'] = ['kernel-xen', 'xen', 'xen-tools']    
    default['openstack']['compute']['platform']['lxc_packages'] = ['lxc']    
    default['openstack']['compute']['platform']['nfs_packages'] = ['nfs-utils']    
  end    
  # Since the bug (https://bugzilla.redhat.com/show_bug.cgi?id=788485) not released in epel yet    
  # For 'fedora', 'redhat', 'centos', we need set the default value of force_dhcp_release is 'false'    
  default['openstack']['compute']['network']['force_dhcp_release'] = false    
when 'debian'    
  default['openstack']['compute']['platform'] = {    
    'api_ec2_packages' =&gt; ['nova-api-ec2'],    
    'api_ec2_service' =&gt; 'nova-api-ec2',    
    'api_os_compute_packages' =&gt; ['nova-api-os-compute'],    
    'api_os_compute_service' =&gt; 'nova-api-os-compute',    
    'memcache_python_packages' =&gt; ['python-memcache'],    
    'neutron_python_packages' =&gt; ['python-neutronclient', 'python-pyparsing'],    
    'compute_api_metadata_packages' =&gt; ['nova-api-metadata'],    
    'compute_api_metadata_service' =&gt; 'nova-api-metadata',    
    'compute_client_packages' =&gt; ['python-novaclient'],    
    'compute_compute_packages' =&gt; ['nova-compute'],    
    'qemu_compute_packages' =&gt; ['nova-compute-qemu'],    
    'kvm_compute_packages' =&gt; ['nova-compute-kvm'],    
    'compute_compute_service' =&gt; 'nova-compute',    
    'compute_network_packages' =&gt; ['iptables', 'nova-network'],    
    'compute_network_service' =&gt; 'nova-network',    
    'compute_scheduler_packages' =&gt; ['nova-scheduler'],    
    'compute_scheduler_service' =&gt; 'nova-scheduler',    
    'compute_conductor_packages' =&gt; ['nova-conductor'],    
    'compute_conductor_service' =&gt; 'nova-conductor',    
    # Websockify is needed due to https://bugs.launchpad.net/ubuntu/+source/nova/+bug/1076442    
    'compute_vncproxy_packages' =&gt; ['novnc', 'websockify', 'nova-novncproxy'],    
    'compute_vncproxy_service' =&gt; 'nova-novncproxy',    
    'compute_vncproxy_consoleauth_packages' =&gt; ['nova-consoleauth'],    
    'compute_vncproxy_consoleauth_service' =&gt; 'nova-consoleauth',    
    'libvirt_packages' =&gt; ['libvirt-bin', 'python-guestfs'],    
    'libvirt_service' =&gt; 'libvirt-bin',    
    'libvirt_ceph_packages' =&gt; ['ceph-common'],    
    'dbus_service' =&gt; 'dbus',    
    'compute_cert_packages' =&gt; ['nova-cert'],    
    'compute_cert_service' =&gt; 'nova-cert',    
    'mysql_service' =&gt; 'mysql',    
    'common_packages' =&gt; ['nova-common'],    
    'iscsi_helper' =&gt; 'tgtadm',    
    'nfs_packages' =&gt; ['nfs-common'],    
    'volume_packages' =&gt; ['sysfsutils', 'sg3-utils', 'multipath-tools'],    
    'docker_build_pkgs' =&gt; ['git', 'python-dev', 'gcc'],    
    'package_overrides' =&gt; "-o Dpkg::Options::='--force-confold' -o Dpkg::Options::='--force-confdef'"    
  }    
end    
</code></p>

<p>Enable VNC related features (boolean value)</p>

<p><code>
default['openstack']['compute']['vnc']['enabled'] = 'true'    
</code></p>

<p>VNC keymap</p>

<p><code>
default['openstack']['compute']['vnc']['keymap'] = 'en-us'    
</code></p>

<p>plugins</p>

<p><code>
default['openstack']['compute']['plugins'] = nil    
</code></p>

<p>Array of options for <code>nova.conf</code> (e.g. [‘option1=value1’, ‘option2=value2’])</p>

<p><code>
default['openstack']['compute']['misc_nova'] = nil    
# Array of options for `api-paste.ini` (e.g. ['option1=value1', ...])    
default['openstack']['compute']['misc_paste'] = nil    
</code></p>

<p>To disable the EC2 API endpoint, simply remove ‘ec2,’ from the list
of enabled API services.
NOTE: The metadata api service is enabled via including it’s recipe
NOTE: api-metadata.  By default the api-metadata recipe is included in
NOTE: the os-compute-api role which is included in the
NOTE: os-compute-single-controller role.</p>

<p><code>
default['openstack']['compute']['enabled_apis'] = 'ec2,osapi_compute'    
</code></p>

<p>VMware driver</p>

<p><code>
default['openstack']['compute']['vmware']['secret_name'] = 'openstack_vmware_secret_name'    
# URL for connection to VMware ESX/VC host. (string value)    
default['openstack']['compute']['vmware']['host_ip'] = ''    
# Username for connection to VMware ESX/VC host. (string value)    
default['openstack']['compute']['vmware']['host_username'] = ''    
# Name of a VMware Cluster ComputeResource. Used only if compute_driver is vmwareapi.VMwareVCDriver. (multi valued)    
default['openstack']['compute']['vmware']['cluster_name'] = []    
# Regex to match the name of a datastore. (string value)    
default['openstack']['compute']['vmware']['datastore_regex'] = nil    
# The interval used for polling of remote tasks. (floating point value, default 0.5)    
default['openstack']['compute']['vmware']['task_poll_interval'] = 0.5    
# The number of times we retry on failures, e.g., socket error, etc. (integer value, default 10)    
default['openstack']['compute']['vmware']['api_retry_count'] = 10    
# VNC starting port (integer value, default 5900)    
default['openstack']['compute']['vmware']['vnc_port'] = 5900    
# Total number of VNC ports (integer value, default 10000)    
default['openstack']['compute']['vmware']['vnc_port_total'] = 10000    
# Whether to use linked clone (boolean value, default true)    
default['openstack']['compute']['vmware']['use_linked_clone'] = true    
# Physical ethernet adapter name for vlan networking (string value, default vmnic0)    
default['openstack']['compute']['vmware']['vlan_interface'] = 'vmnic0'    
# Optional VIM Service WSDL Location, you must specify this location of the WSDL files when you try to connect vSphere vCenter versions 5.0 and earlier.    
default['openstack']['compute']['vmware']['wsdl_location'] = nil    
# The maximum number of ObjectContent data objects that should be returned in a single result. (integer value, default 100)    
default['openstack']['compute']['vmware']['maximum_objects'] = 100    
# Name of Integration Bridge (string value, default br-int)    
default['openstack']['compute']['vmware']['integration_bridge'] = 'br-int'    
</code></p>

<p>Ironic options</p>

<p><code>
default['openstack']['compute']['bare-metal']['admin_username'] = 'ironic'    
default['openstack']['compute']['bare-metal']['admin_tenant_name'] = 'service'    
</code></p>

<p>Keymgr options</p>

<p><code>
default['openstack']['compute']['keymgr']['api_class'] = 'nova.keymgr.conf_key_mgr.ConfKeyManager'    
default['openstack']['compute']['keymgr']['fixed_key'] = nil    
</code></p>

<p>Boolean to decide whether to use baremetal_scheduler_default_filters or not.</p>

<p><code>
default['openstack']['compute']['scheduler']['use_baremetal_filters'] = false    
</code></p>

<p><code>
default['openstack']['compute']['scheduler']['baremetal_default_filters'] = %w(    
  RetryFilter    
  AvailabilityZoneFilter    
  ComputeFilter    
  ComputeCapabilitiesFilter    
  ImagePropertiesFilter    
  ExactRamFilter    
  ExactDiskFilter    
  ExactCoreFilter)    
</code></p>

<p>For true case, this logic allows the following ironic-related attribtes to be overwritten automatically.</p>

<p><code>
if node['openstack']['compute']['scheduler']['use_baremetal_filters']    
  default['openstack']['compute']['driver'] = 'nova.virt.ironic.IronicDriver'    
  default['openstack']['compute']['manager'] = 'ironic.nova.compute.manager.ClusteredComputeManager'    
  default['openstack']['compute']['scheduler']['scheduler_host_manager'] = 'nova.scheduler.ironic_host_manager.IronicHostManager'    
  default['openstack']['compute']['config']['ram_allocation_ratio'] = 1.0    
  default['openstack']['compute']['config']['reserved_host_memory_mb'] = 0    
end    
</code></p>

<p>Lock the version of RPC messages and allow live upgrading of the services
without interruption caused by version mismatch.
The configuration options allow the specification of RPC version numbers if desired,
but release name alias are also supported.
options e.g.:
default[‘openstack’][‘compute’][‘upgrade_levels’] = {
‘baseapi’ =&gt; ‘kilo’,
‘console’ =&gt; ‘kilo’,
‘consoleauth’ =&gt; ‘kilo’,
‘cert’ =&gt; ‘kilo’,
‘scheduler’ =&gt; ‘kilo’,
‘compute’ =&gt; ‘kilo’,
‘intercell’ =&gt; ‘kilo’,
‘conductor’ =&gt; ‘2.0’,
‘network’ =&gt; ‘3.0’,
‘cells’ =&gt; ‘kilo’
}
choose the needed ones to set</p>

<p><code>
default['openstack']['compute']['upgrade_levels'] = nil    
</code></p>

<p>Docker configurations
Docker compute configuration is supported only in Rhel and Ubuntu
This is to be true to make a compute docker type and use nova docker driver as compute driver</p>

<p><code>
default['openstack']['compute']['docker']['enable']  = false    
# The nova docker driver that will be configured in a docker type compute    
default['openstack']['compute']['docker']['driver'] = 'novadocker.virt.docker.driver.DockerDriver'    
# Additional python packages required for nova docker driver build and installation from git source    
default['openstack']['compute']['docker']['pip_build_pkgs'] = ['setuptools', 'pbr']    
# github repository from which nova-docker source will be downloaded    
default['openstack']['compute']['docker']['github']['repository'] = 'https://github.com/stackforge/nova-docker'    
# github branch from which nova-docker source will be downloaded. Default is master    
default['openstack']['compute']['docker']['github']['branch'] = 'master'    
# Relative path to docker filter files in nova-docker source which will be cloned from git repo    
default['openstack']['compute']['docker']['filter_source_path'] = '/etc/nova/rootwrap.d'    
# Path to docker service sock file    
default['openstack']['compute']['docker']['service_sock'] = '/var/run/docker.sock'    
# Permission level to be assigned to docker service sock file    
default['openstack']['compute']['docker']['service_sock_mode'] = 666    
# Docker group which will be created and added with openstack compute user    
default['openstack']['compute']['docker']['group'] = 'docker'    
</code></p>

<p>Serial console configurations
Enable serial console related features</p>

<p><code>
default['openstack']['compute']['serial_console']['enable'] = 'False'    
# Range of TCP ports to use for serial ports on compute hosts    
default['openstack']['compute']['serial_console']['port_range'] = '10000:20000'    
</code></p>

<hr />

<h2 id="cookbook-openstack-dashboardattributesdefault">cookbook-openstack-dashboard_attributes_default</h2>

<p><a href="#contents">back to top</a></p>

<p>Set to some text value if you want templated config files
to contain a custom banner at the top of the written file</p>

<p><code>
default['openstack']['dashboard']['custom_template_banner'] = '    
# This file autogenerated by Chef    
# Do not edit, changes will be overwritten    
'    
</code></p>

<p><code>
default['openstack']['dashboard']['server_type'] = 'apache2'    
</code></p>

<p><code>
default['openstack']['dashboard']['debug'] = false    
</code></p>

<p>Don’t cache html pages.
NOTE: This setting requires apache 2.4 or greater is used</p>

<p><code>
default['openstack']['dashboard']['cache_html'] = false    
</code></p>

<p>The Keystone role used by default for users logging into the dashboard</p>

<p><code>
default['openstack']['dashboard']['keystone_default_role'] = '_member_'    
</code></p>

<p>This is the name of the Chef role that will install the Keystone Service API</p>

<p><code>
default['openstack']['dashboard']['keystone_service_chef_role'] = 'keystone'    
</code></p>

<p><code>
default['openstack']['dashboard']['server_hostname'] = nil    
default['openstack']['dashboard']['use_ssl'] = true    
default['openstack']['dashboard']['ssl']['cert_url'] = nil    
default['openstack']['dashboard']['ssl']['key_url'] = nil    
# When using a remote certificate and key, the names of the actual installed certificate    
# and key in the file system are determined by the following two attributes.    
# If you want the name of the installed files to match the name of the files from the URL,    
# they need to be manually set below, if not the conventional horizon.* names will be used.    
default['openstack']['dashboard']['ssl']['cert'] = 'horizon.pem'    
default['openstack']['dashboard']['ssl']['key'] = 'horizon.key'    
# Which versions of the SSL/TLS protocol will be accepted in new connections.    
default['openstack']['dashboard']['ssl']['protocol'] = 'All -SSLv2 -SSLv3'    
# Which ciphers to use with the SSL/TLS protocol.    
# Example: 'RSA:HIGH:MEDIUM:!LOW:!kEDH:!aNULL:!ADH:!eNULL:!EXP:!SSLv2:!SEED:!CAMELLIA:!PSK!RC4:!RC4-MD5:!RC4-SHA'    
default['openstack']['dashboard']['ssl']['ciphers'] = nil    
</code></p>

<p>List of hosts/domains the dashboard can serve. This should be changed, a ‘*’
allows everything</p>

<p><code>
default['openstack']['dashboard']['allowed_hosts'] = ['*']    
</code></p>

<p><code>
default['openstack']['dashboard']['swift']['enabled'] = 'False'    
</code></p>

<p><code>
default['openstack']['dashboard']['theme'] = 'default'    
</code></p>

<p><code>
default['openstack']['dashboard']['apache']['sites-path'] = "#{node['apache']['dir']}/openstack-dashboard.conf"    
</code></p>

<p>Allow TRACE method</p>

<p>Set to “extended” to also reflect the request body (only for testing and
diagnostic purposes).</p>

<table>
  <tbody>
    <tr>
      <td>Set to one of:  On</td>
      <td>Off</td>
      <td>extended</td>
    </tr>
  </tbody>
</table>

<p><code>
default['openstack']['dashboard']['traceenable'] = node['apache']['traceenable']    
</code></p>

<p><code>
default['openstack']['dashboard']['secret_key_content'] = nil    
</code></p>

<p><code>
default['openstack']['dashboard']['ssl_no_verify'] = 'True'    
default['openstack']['dashboard']['ssl_cacert'] = nil    
</code></p>

<p><code>
default['openstack']['dashboard']['webroot'] = '/'    
</code></p>

<p>Dashboard specific database packages
Put common ones here and platform specific ones below.</p>

<p><code>
default['openstack']['dashboard']['db_python_packages'] = {    
  db2: [],    
  mysql: [],    
  postgresql: [],    
  sqlite: []    
}    
</code></p>

<p>The hash algorithm to use for authentication tokens. This must match the hash
algorithm that the identity (Keystone) server and the auth_token middleware
are using. Allowed values are the algorithms supported by Python’s hashlib
library.</p>

<p><code>
default['openstack']['dashboard']['hash_algorithm'] = 'md5'    
</code></p>

<p><code>
case node['platform_family']    
when 'rhel'    
  default['openstack']['dashboard']['horizon_user'] = 'apache'    
  default['openstack']['dashboard']['horizon_group'] = 'apache'    
  default['openstack']['dashboard']['secret_key_path'] = '/usr/share/openstack-dashboard/openstack_dashboard/local/.secret_key_store'    
  default['openstack']['dashboard']['ssl']['dir'] = '/etc/pki/tls'    
  default['openstack']['dashboard']['local_settings_path'] = '/etc/openstack-dashboard/local_settings'    
  default['openstack']['dashboard']['django_path'] = '/usr/share/openstack-dashboard'    
  default['openstack']['dashboard']['login_url'] = "#{node['openstack']['dashboard']['webroot']}auth/login/"    
  default['openstack']['dashboard']['logout_url'] = "#{node['openstack']['dashboard']['webroot']}auth/logout/"    
  default['openstack']['dashboard']['login_redirect_url'] = node['openstack']['dashboard']['webroot']    
  default['openstack']['dashboard']['db_python_packages']['db2'] = ['python-ibm-db-django']    
  default['openstack']['dashboard']['platform'] = {    
    'horizon_packages' =&gt; ['openstack-dashboard'],    
    'memcache_python_packages' =&gt; ['python-memcached'],    
    'package_overrides' =&gt; ''    
  }    
  default['openstack']['dashboard']['apache']['sites-path'] = "#{node['apache']['dir']}/sites-available/openstack-dashboard.conf"    
when 'suse'    
  default['openstack']['dashboard']['horizon_user'] = 'wwwrun'    
  default['openstack']['dashboard']['horizon_group'] = 'www'    
  default['openstack']['dashboard']['secret_key_path'] = '/srv/www/openstack-dashboard/openstack_dashboard/local/.secret_key_store'    
  default['openstack']['dashboard']['ssl']['dir'] = '/etc/ssl'    
  default['openstack']['dashboard']['local_settings_path'] = '/srv/www/openstack-dashboard/openstack_dashboard/local/local_settings.py'    
  default['openstack']['dashboard']['django_path'] = '/srv/www/openstack-dashboard'    
  default['openstack']['dashboard']['login_url'] = nil    
  default['openstack']['dashboard']['logout_url'] = nil    
  default['openstack']['dashboard']['login_redirect_url'] = nil    
  default['openstack']['dashboard']['platform'] = {    
    'horizon_packages' =&gt; ['openstack-dashboard'],    
    'memcache_python_packages' =&gt; ['python-python-memcached'],    
    'package_overrides' =&gt; ''    
  }    
  default['openstack']['dashboard']['apache']['sites-path'] = "#{node['apache']['dir']}/conf.d/openstack-dashboard.conf"    
when 'debian'    
  default['openstack']['dashboard']['horizon_user'] = 'horizon'    
  default['openstack']['dashboard']['horizon_group'] = 'horizon'    
  default['openstack']['dashboard']['secret_key_path'] = '/var/lib/openstack-dashboard/secret_key'    
  default['openstack']['dashboard']['ssl']['dir'] = '/etc/ssl'    
  default['openstack']['dashboard']['local_settings_path'] = '/etc/openstack-dashboard/local_settings.py'    
  default['openstack']['dashboard']['django_path'] = '/usr/share/openstack-dashboard'    
  default['openstack']['dashboard']['login_url'] = nil    
  default['openstack']['dashboard']['logout_url'] = nil    
  default['openstack']['dashboard']['login_redirect_url'] = nil    
  default['openstack']['dashboard']['platform'] = {    
    'memcache_python_packages' =&gt; ['python-memcache'],    
    'package_overrides' =&gt; "-o Dpkg::Options::='--force-confold' -o Dpkg::Options::='--force-confdef'"    
  }    
  default['openstack']['dashboard']['platform']['horizon_packages'] = ['node-less', 'openstack-dashboard']    
  default['openstack']['dashboard']['apache']['sites-path'] = "#{node['apache']['dir']}/sites-available/openstack-dashboard.conf"    
end    
</code></p>

<p><code>
default['openstack']['dashboard']['dash_path'] = "#{node['openstack']['dashboard']['django_path']}/openstack_dashboard"    
default['openstack']['dashboard']['static_path'] = "#{node['openstack']['dashboard']['django_path']}/static"    
default['openstack']['dashboard']['stylesheet_path'] = '/usr/share/openstack-dashboard/openstack_dashboard/templates/_stylesheets.html'    
default['openstack']['dashboard']['wsgi_path'] = node['openstack']['dashboard']['dash_path'] + '/wsgi/django.wsgi'    
default['openstack']['dashboard']['wsgi_socket_prefix'] = nil    
default['openstack']['dashboard']['session_backend'] = 'memcached'    
</code></p>

<p><code>
default['openstack']['dashboard']['ssl_offload'] = false    
default['openstack']['dashboard']['plugins'] = nil    
</code></p>

<p><code>
default['openstack']['dashboard']['file_upload_temp_dir'] = nil    
</code></p>

<p><code>
default['openstack']['dashboard']['error_log'] = 'openstack-dashboard-error.log'    
default['openstack']['dashboard']['access_log'] = 'openstack-dashboard-access.log'    
</code></p>

<p><code>
default['openstack']['dashboard']['help_url'] = 'http://docs.openstack.org'    
</code></p>

<p><code>
default['openstack']['dashboard']['csrf_cookie_secure'] = true    
default['openstack']['dashboard']['session_cookie_secure'] = true    
</code></p>

<p><code>
default['openstack']['dashboard']['keystone_multidomain_support'] = false    
default['openstack']['dashboard']['api']['auth']['version'] = node['openstack']['api']['auth']['version']    
</code></p>

<p><code>
case node['openstack']['dashboard']['api']['auth']['version']    
when 'v2.0'    
  default['openstack']['dashboard']['identity_api_version'] =  2.0    
when 'v3.0'    
  default['openstack']['dashboard']['identity_api_version'] = 3    
end    
</code></p>

<p><code>
default['openstack']['dashboard']['volume_api_version'] = 2    
default['openstack']['dashboard']['keystone_default_domain'] = 'Default'    
default['openstack']['dashboard']['console_type'] = 'AUTO'    
</code></p>

<p><code>
default['openstack']['dashboard']['keystone_backend']['name'] = 'native'    
default['openstack']['dashboard']['keystone_backend']['can_edit_user'] = true    
default['openstack']['dashboard']['keystone_backend']['can_edit_group'] = true    
default['openstack']['dashboard']['keystone_backend']['can_edit_project'] = true    
default['openstack']['dashboard']['keystone_backend']['can_edit_domain'] = true    
default['openstack']['dashboard']['keystone_backend']['can_edit_role'] = true    
</code></p>

<p><code>
default['openstack']['dashboard']['log_level']['horizon'] = 'INFO'    
default['openstack']['dashboard']['log_level']['openstack_dashboard'] = 'INFO'    
default['openstack']['dashboard']['log_level']['novaclient'] = 'INFO'    
default['openstack']['dashboard']['log_level']['cinderclient'] = 'INFO'    
default['openstack']['dashboard']['log_level']['keystoneclient'] = 'INFO'    
default['openstack']['dashboard']['log_level']['glanceclient'] = 'INFO'    
default['openstack']['dashboard']['log_level']['neutronclient'] = 'INFO'    
default['openstack']['dashboard']['log_level']['heatclient'] = 'INFO'    
default['openstack']['dashboard']['log_level']['ceilometerclient'] = 'INFO'    
default['openstack']['dashboard']['log_level']['troveclient'] = 'INFO'    
default['openstack']['dashboard']['log_level']['swiftclient'] = 'INFO'    
default['openstack']['dashboard']['log_level']['openstack_auth'] = 'INFO'    
default['openstack']['dashboard']['log_level']['nose.plugins.manager'] = 'INFO'    
default['openstack']['dashboard']['log_level']['django'] = 'INFO'    
</code></p>

<p><code>
default['openstack']['dashboard']['password_autocomplete'] = 'off'    
default['openstack']['dashboard']['simple_ip_management'] = false    
default['openstack']['dashboard']['neutron']['enable_quotas'] = true    
</code></p>

<p>Allow for misc sections to be added to the local_settings template
For example: {
‘CUSTOM_CONFIG_A’ =&gt; {
‘variable1’: ‘value1’,
‘variable2’: ‘value2’
}
‘CUSTOM_CONFIG_B’ =&gt; {
‘variable1’: ‘value1’,
‘variable2’: ‘value2’
}
}
will generate:
CUSTOM_CONFIG_A = {
‘varable1’: ‘value1’,
‘varable2’: ‘value2’,
}
CUSTOM_CONFIG_A = {
‘varable1’: ‘value1’,
‘varable2’: ‘value2’,
}</p>

<p><code>
default['openstack']['dashboard']['misc_local_settings'] = nil    
</code></p>

<hr />

<h2 id="cookbook-openstack-databaseattributesdefault">cookbook-openstack-database_attributes_default</h2>

<p><a href="#contents">back to top</a></p>

<p>Set to some text value if you want templated config files
to contain a custom banner at the top of the written file</p>

<p><code>
default['openstack']['database']['custom_template_banner'] = '    
# This file autogenerated by Chef    
# Do not edit, changes will be overwritten    
'    
</code></p>

<p><code>
default['openstack']['database']['verbose'] = false    
default['openstack']['database']['debug'] = false    
</code></p>

<p><code>
default['openstack']['database']['syslog']['use'] = false    
</code></p>

<p><code>
default['openstack']['database']['user'] = 'trove'    
default['openstack']['database']['group'] = 'trove'    
</code></p>

<p><code>
case platform    
when 'suse'    
  default['openstack']['database']['platform'] = {    
    'api_packages' =&gt; ['openstack-trove-api'],    
    'api_service' =&gt; 'openstack-trove-api',    
    'conductor_packages' =&gt; ['openstack-trove-conductor'],    
    'conductor_service' =&gt; 'openstack-trove-conductor',    
    'taskmanager_packages' =&gt; ['openstack-trove-taskmanager'],    
    'taskmanager_service' =&gt; 'openstack-trove-taskmanager'    
  }    
end    
</code></p>

<p><code>
default['openstack']['database']['service_user'] = 'trove'    
default['openstack']['database']['service_role'] = 'service'    
default['openstack']['database']['service_tenant_name'] = 'service'    
default['openstack']['database']['region'] = node['openstack']['region']    
</code></p>

<p><code>
default['openstack']['database']['volume_support'] = true    
</code></p>

<p>Keystone PKI signing directory</p>

<p><code>
default['openstack']['database']['api']['auth']['cache_dir'] = '/var/cache/trove/api'    
</code></p>

<p><code>
default['openstack']['database']['nova_proxy_user'] = 'admin'    
default['openstack']['database']['nova_proxy_password'] = 'admin'    
default['openstack']['database']['nova_proxy_tenant'] = 'admin'    
</code></p>

<hr />

<h2 id="cookbook-openstack-identityattributesdefault">cookbook-openstack-identity_attributes_default</h2>

<p><a href="#contents">back to top</a></p>

<p>Set to some text value if you want templated config files
to contain a custom banner at the top of the written file</p>

<p><code>
default['openstack']['identity']['custom_template_banner'] = "    
# This file autogenerated by Chef    
# Do not edit, changes will be overwritten    
"    
</code></p>

<p>Adding these as blank
this needs to be here for the initial deep-merge to work</p>

<p><code>
default['credentials']['EC2']['admin']['access'] = ''    
default['credentials']['EC2']['admin']['secret'] = ''    
</code></p>

<p><code>
default['openstack']['identity']['verbose'] = 'False'    
default['openstack']['identity']['debug'] = 'False'    
</code></p>

<p>Keystone service startup delay, in seconds</p>

<p><code>
default['openstack']['identity']['start_delay'] = 10    
</code></p>

<p>Specify a location to retrieve keystone-paste.ini from
which can either be a remote url using http:// or a
local path to a file using file:// which would generally
be a distribution file - if this option is left nil then
the templated version distributed with this cookbook
will be used (keystone-paste.ini.erb)</p>

<p><code>
default['openstack']['identity']['pastefile_url'] = nil    
</code></p>

<p>array of lines to add to templated version of keystone-paste.ini</p>

<p><code>
default['openstack']['identity']['misc_paste'] = []    
</code></p>

<p>This specify the pipeline of the keystone public API,
all Identity public API requests will be processed by the order of the pipeline.
this value will be used in the templated version of keystone-paste.ini
The last item in this pipeline must be public_service or an equivalent
application. It cannot be a filter.</p>

<p><code>
default['openstack']['identity']['pipeline']['public_api'] = 'sizelimit url_normalize request_id build_auth_context token_auth admin_token_auth json_body ec2_extension user_crud_extension public_service'    
# This specify the pipeline of the keystone admin API,    
# all Identity admin API requests will be processed by the order of the pipeline.    
# this value will be used in the templated version of keystone-paste.ini    
# The last item in this pipeline must be admin_service or an equivalent    
# application. It cannot be a filter.    
default['openstack']['identity']['pipeline']['admin_api'] = 'sizelimit url_normalize request_id build_auth_context token_auth admin_token_auth json_body ec2_extension s3_extension crud_extension admin_service'    
# This specify the pipeline of the keystone V3 API,    
# all Identity V3 API requests will be processed by the order of the pipeline.    
# this value will be used in the templated version of keystone-paste.ini    
# The last item in this pipeline must be service_v3 or an equivalent    
# application. It cannot be a filter.    
default['openstack']['identity']['pipeline']['api_v3'] = 'sizelimit url_normalize request_id build_auth_context token_auth admin_token_auth json_body ec2_extension_v3 s3_extension simple_cert_extension revoke_extension federation_extension oauth1_extension endpoint_filter_extension endpoint_policy_extension service_v3'    
</code></p>

<p><code>
default['openstack']['identity']['region'] = node['openstack']['region']    
# Amount of time a token should remain valid in seconds)    
default['openstack']['identity']['token']['expiration'] = '3600'    
default['openstack']['identity']['token']['hash_algorithm'] = 'md5'    
</code></p>

<p>Logging stuff</p>

<p><code>
default['openstack']['identity']['syslog']['use'] = false    
default['openstack']['identity']['syslog']['facility'] = 'LOG_LOCAL2'    
default['openstack']['identity']['syslog']['config_facility'] = 'local2'    
</code></p>

<p>Number of Workers</p>

<p><code>
default['openstack']['identity']['admin_workers'] = nil    
default['openstack']['identity']['public_workers'] = nil    
</code></p>

<p>RPC attributes</p>

<p><code>
default['openstack']['identity']['control_exchange'] = 'openstack'    
default['openstack']['identity']['notification_driver'] = 'messaging'    
default['openstack']['identity']['rpc_thread_pool_size'] = 64    
default['openstack']['identity']['rpc_conn_pool_size'] = 30    
default['openstack']['identity']['rpc_response_timeout'] = 60    
case node['openstack']['mq']['service_type']    
when 'rabbitmq'    
  default['openstack']['identity']['rpc_backend'] = 'rabbit'    
when 'qpid'    
  default['openstack']['identity']['rpc_backend'] = 'qpid'    
end    
</code></p>

<p>This references the domain to use for all Identity API v2
requests (which are not aware of domains). A domain with
this ID will be created for you by keystone-manage db_sync
in migration 008. The domain referenced by this ID cannot be
deleted on the v3 API, to prevent accidentally breaking the
v2 API. There is nothing special about this domain, other
than the fact that it must exist to order to maintain
support for your v2 clients. (string value)</p>

<p><code>
default['openstack']['identity']['identity']['default_domain_id'] = 'default'    
</code></p>

<p>A subset (or all) of domains can have their own identity
driver, each with their own partial configuration file in a
domain configuration directory. Only values specific to the
domain need to be placed in the domain specific
configuration file. This feature is disabled by default; set
to true to enable. (boolean value)</p>

<p><code>
default['openstack']['identity']['identity']['domain_specific_drivers_enabled'] = false    
</code></p>

<p>Path for Keystone to locate the domain specific identity
configuration files if domain_specific_drivers_enabled is
set to true. (string value)</p>

<p><code>
default['openstack']['identity']['identity']['domain_config_dir'] = '/etc/keystone/domains'    
</code></p>

<p><code>
default['openstack']['identity']['admin_user'] = 'admin'    
default['openstack']['identity']['admin_tenant_name'] = 'admin'    
</code></p>

<p><code>
default['openstack']['identity']['users'] = {    
  default['openstack']['identity']['admin_user'] =&gt; {    
    'default_tenant' =&gt; default['openstack']['identity']['admin_tenant_name'],    
    'roles' =&gt; {    
      'admin' =&gt; ['admin'],    
      'service' =&gt; ['admin']    
    }    
  }    
}    
</code></p>

<p>SSL Options
Specify whether to enable SSL for Keystone API endpoint</p>

<p><code>
default['openstack']['identity']['ssl']['enabled'] = false    
# Specify server whether to enforce client certificate requirement    
default['openstack']['identity']['ssl']['cert_required'] = false    
# SSL certificate, keyfile and CA certficate file locations    
default['openstack']['identity']['ssl']['basedir'] = '/etc/keystone/ssl'    
# Path of the cert file for SSL.    
default['openstack']['identity']['ssl']['certfile'] = "#{node['openstack']['identity']['ssl']['basedir']}/certs/sslcert.pem"    
# Path of the keyfile for SSL.    
default['openstack']['identity']['ssl']['keyfile'] = "#{node['openstack']['identity']['ssl']['basedir']}/private/sslkey.pem"    
# Path of the CA cert file for SSL.    
default['openstack']['identity']['ssl']['ca_certs'] = "#{node['openstack']['identity']['ssl']['basedir']}/certs/sslca.pem"    
# Path of the CA cert files for SSL (Apache)    
default['openstack']['identity']['ssl']['ca_certs_path'] = "#{node['openstack']['identity']['ssl']['basedir']}/certs/"    
# Protocol for SSL (Apache)    
default['openstack']['identity']['ssl']['protocol'] = 'All -SSLv2 -SSLv3'    
# Which ciphers to use with the SSL/TLS protocol (Apache)    
# Example: 'RSA:HIGH:MEDIUM:!LOW:!kEDH:!aNULL:!ADH:!eNULL:!EXP:!SSLv2:!SEED:!CAMELLIA:!PSK!RC4:!RC4-MD5:!RC4-SHA'    
default['openstack']['identity']['ssl']['ciphers'] = nil    
</code></p>

<p>Security Assertion Markup Language (SAML)
Default TTL, in seconds, for any generated SAML assertion
created by Keystone. (integer value)</p>

<p><code>
default['openstack']['identity']['saml']['assertion_expiration_time'] = 3600    
</code></p>

<p>Binary to be called for XML signing. Install the appropriate
package, specify absolute path or adjust your PATH
environment variable if the binary cannot be found. (string
value)
xmlsec1_binary=xmlsec1</p>

<p><code>
default['openstack']['identity']['saml']['xmlsec1_binary'] = 'xmlsec1'    
</code></p>

<p>Path of the certfile for SAML signing. For non-production
environments, you may be interested in using <code>keystone-
manage pki_setup</code> to generate self-signed certificates.
Note, the path cannot contain a comma. (string value)
certfile=/etc/keystone/ssl/certs/signing_cert.pem</p>

<p><code>
default['openstack']['identity']['saml']['certfile'] = nil    
</code></p>

<p>Path of the keyfile for SAML signing. Note, the path cannot
contain a comma. (string value)
keyfile=/etc/keystone/ssl/private/signing_key.pem</p>

<p><code>
default['openstack']['identity']['saml']['keyfile'] = nil    
</code></p>

<p>Entity ID value for unique Identity Provider identification.
Usually FQDN is set with a suffix. A value is required to
generate IDP Metadata. For example:
https://keystone.example.com/v3/OS-FEDERATION/saml2/idp
(string value)</p>

<p><code>
default['openstack']['identity']['saml']['idp_entity_id'] = nil    
</code></p>

<p>Identity Provider Single-Sign-On service value, required in
the Identity Provider’s metadata. A value is required to
generate IDP Metadata. For example:
https://keystone.example.com/v3/OS-FEDERATION/saml2/sso
(string value)</p>

<p><code>
default['openstack']['identity']['saml']['idp_sso_endpoint'] = nil    
</code></p>

<p>Language used by the organization. (string value)</p>

<p><code>
default['openstack']['identity']['saml']['idp_lang'] = nil    
</code></p>

<p>Organization name the installation belongs to. (string
value)</p>

<p><code>
default['openstack']['identity']['saml']['idp_organization_name'] = nil    
</code></p>

<p>Organization name to be displayed. (string value)</p>

<p><code>
default['openstack']['identity']['saml']['idp_organization_display_name'] = nil    
</code></p>

<p>URL of the organization. (string value)</p>

<p><code>
default['openstack']['identity']['saml']['idp_organization_url'] = nil    
</code></p>

<p>Company of contact person. (string value)</p>

<p><code>
default['openstack']['identity']['saml']['idp_contact_company'] = nil    
</code></p>

<p>Given name of contact person (string value)</p>

<p><code>
default['openstack']['identity']['saml']['idp_contact_name'] = nil    
</code></p>

<p>Surname of contact person. (string value)</p>

<p><code>
default['openstack']['identity']['saml']['idp_contact_surname'] = nil    
</code></p>

<p>Email address of contact person. (string value)</p>

<p><code>
default['openstack']['identity']['saml']['idp_contact_email'] = nil    
</code></p>

<p>Telephone number of contact person. (string value)</p>

<p><code>
default['openstack']['identity']['saml']['idp_contact_telephone'] = nil    
</code></p>

<p>Contact type. Allowed values are: technical, support,
administrative billing, and other (string value)</p>

<p><code>
default['openstack']['identity']['saml']['idp_contact_type'] = nil    
</code></p>

<p>Path to the Identity Provider Metadata file. This file
should be generated with the keystone-manage
saml_idp_metadata command. (string value)
idp_metadata_path=/etc/keystone/saml2_idp_metadata.xml</p>

<p><code>
default['openstack']['identity']['saml']['idp_metadata_path'] = nil    
</code></p>

<p>PKI signing. Corresponds to the [signing] section of keystone.conf
Note this section is only written if node[‘openstack’][‘auth’][‘strategy’] == ‘pki’</p>

<p><code>
default['openstack']['identity']['signing']['basedir'] = '/etc/keystone/ssl'    
default['openstack']['identity']['signing']['certfile'] = "#{node['openstack']['identity']['signing']['basedir']}/certs/signing_cert.pem"    
default['openstack']['identity']['signing']['keyfile'] = "#{node['openstack']['identity']['signing']['basedir']}/private/signing_key.pem"    
default['openstack']['identity']['signing']['ca_certs'] = "#{node['openstack']['identity']['signing']['basedir']}/certs/ca.pem"    
default['openstack']['identity']['signing']['certfile_url'] = nil    
default['openstack']['identity']['signing']['keyfile_url'] = nil    
default['openstack']['identity']['signing']['ca_certs_url'] = nil    
default['openstack']['identity']['signing']['key_size'] = '2048'    
default['openstack']['identity']['signing']['valid_days'] = '3650'    
default['openstack']['identity']['signing']['ca_password'] = nil    
</code></p>

<p>These switches set the various drivers for the different Keystone components</p>

<p><code>
default['openstack']['identity']['identity']['backend'] = 'sql'    
default['openstack']['identity']['assignment']['backend'] = 'sql'    
default['openstack']['identity']['token']['backend'] = 'sql'    
default['openstack']['identity']['catalog']['backend'] = 'sql'    
default['openstack']['identity']['policy']['backend'] = 'sql'    
</code></p>

<p>The maximum number of entities that will be returned in a
collection, with no limit set by default. This global limit
may be then overridden for a specific driver, by specifying
a list_limit in the appropriate section (identity, assignment,
catalog or policy). (integer value)</p>

<p><code>
default['openstack']['identity']['list_limit'] = nil    
# The maximum number of entities that will be returned in an    
# identity collection. (integer value)    
default['openstack']['identity']['identity']['list_limit'] = nil    
# Maximum number of entities that will be returned in an    
# assignment collection.    
default['openstack']['identity']['assignment']['list_limit'] = nil    
# Maximum number of entities that will be returned in a    
# catalog collection. (integer value)    
default['openstack']['identity']['catalog']['list_limit'] = nil    
# The maximum number of entities that will be returned in an    
# policy collection. (integer value)    
default['openstack']['identity']['policy']['list_limit'] = nil    
</code></p>

<p>LDAP backend general settings</p>

<p><code>
default['openstack']['identity']['ldap']['url'] = 'ldap://localhost'    
default['openstack']['identity']['ldap']['user'] = 'dc=Manager,dc=example,dc=com'    
default['openstack']['identity']['ldap']['password'] = nil    
default['openstack']['identity']['ldap']['suffix'] = 'cn=example,cn=com'    
default['openstack']['identity']['ldap']['use_dumb_member'] = false    
default['openstack']['identity']['ldap']['allow_subtree_delete'] = false    
default['openstack']['identity']['ldap']['dumb_member'] = 'cn=dumb,dc=example,dc=com'    
default['openstack']['identity']['ldap']['page_size'] = 0    
default['openstack']['identity']['ldap']['alias_dereferencing'] = 'default'    
default['openstack']['identity']['ldap']['query_scope'] = 'one'    
default['openstack']['identity']['ldap']['use_tls'] = false    
# If both tls_cacertfile and tls_cacertdir are set, then the cacertfile takes precedence and tls_cacertdir is not used    
default['openstack']['identity']['ldap']['tls_cacertfile'] = nil    
default['openstack']['identity']['ldap']['tls_cacertdir'] = nil    
default['openstack']['identity']['ldap']['tls_req_cert'] = 'demand'    
</code></p>

<p>LDAP backend user related settings</p>

<p><code>
default['openstack']['identity']['ldap']['user_tree_dn'] = nil    
default['openstack']['identity']['ldap']['user_filter'] = nil    
default['openstack']['identity']['ldap']['user_objectclass'] = 'inetOrgPerson'    
default['openstack']['identity']['ldap']['user_id_attribute'] = 'cn'    
default['openstack']['identity']['ldap']['user_name_attribute'] = 'sn'    
default['openstack']['identity']['ldap']['user_mail_attribute'] = 'email'    
default['openstack']['identity']['ldap']['user_pass_attribute'] = 'userPassword'    
default['openstack']['identity']['ldap']['user_enabled_attribute'] = 'enabled'    
default['openstack']['identity']['ldap']['user_enabled_mask'] = 0    
default['openstack']['identity']['ldap']['user_enabled_default'] = 'true'    
default['openstack']['identity']['ldap']['user_attribute_ignore'] = 'tenant_id,tenants'    
default['openstack']['identity']['ldap']['user_allow_create'] = true    
default['openstack']['identity']['ldap']['user_allow_update'] = true    
default['openstack']['identity']['ldap']['user_allow_delete'] = true    
default['openstack']['identity']['ldap']['user_enabled_emulation'] = false    
default['openstack']['identity']['ldap']['user_enabled_emulation_dn'] = nil    
</code></p>

<p>LDAP backend tenant related settings</p>

<p><code>
default['openstack']['identity']['ldap']['project_tree_dn'] = nil    
default['openstack']['identity']['ldap']['project_filter'] = nil    
default['openstack']['identity']['ldap']['project_objectclass'] = 'groupOfNames'    
default['openstack']['identity']['ldap']['project_id_attribute'] = 'cn'    
default['openstack']['identity']['ldap']['project_member_attribute'] = 'member'    
default['openstack']['identity']['ldap']['project_name_attribute'] = 'ou'    
default['openstack']['identity']['ldap']['project_desc_attribute'] = 'description'    
default['openstack']['identity']['ldap']['project_enabled_attribute'] = 'enabled'    
default['openstack']['identity']['ldap']['project_domain_id_attribute'] = 'businessCategory'    
default['openstack']['identity']['ldap']['project_attribute_ignore'] = nil    
default['openstack']['identity']['ldap']['project_allow_create'] = true    
default['openstack']['identity']['ldap']['project_allow_update'] = true    
default['openstack']['identity']['ldap']['project_allow_delete'] = true    
default['openstack']['identity']['ldap']['project_enabled_emulation'] = false    
default['openstack']['identity']['ldap']['project_enabled_emulation_dn'] = nil    
</code></p>

<p>LDAP backend role related settings</p>

<p><code>
default['openstack']['identity']['ldap']['role_tree_dn'] = nil    
default['openstack']['identity']['ldap']['role_filter'] = nil    
default['openstack']['identity']['ldap']['role_objectclass'] = 'organizationalRole'    
default['openstack']['identity']['ldap']['role_id_attribute'] = 'cn'    
default['openstack']['identity']['ldap']['role_name_attribute'] = 'ou'    
default['openstack']['identity']['ldap']['role_member_attribute'] = 'roleOccupant'    
default['openstack']['identity']['ldap']['role_attribute_ignore'] = nil    
default['openstack']['identity']['ldap']['role_allow_create'] = true    
default['openstack']['identity']['ldap']['role_allow_update'] = true    
default['openstack']['identity']['ldap']['role_allow_delete'] = true    
</code></p>

<p>LDAP backend group related settings</p>

<p><code>
default['openstack']['identity']['ldap']['group_tree_dn'] = nil    
default['openstack']['identity']['ldap']['group_filter'] = nil    
default['openstack']['identity']['ldap']['group_objectclass'] = 'groupOfNames'    
default['openstack']['identity']['ldap']['group_id_attribute'] = 'cn'    
default['openstack']['identity']['ldap']['group_name_attribute'] = 'ou'    
default['openstack']['identity']['ldap']['group_member_attribute'] = 'member'    
default['openstack']['identity']['ldap']['group_desc_attribute'] = 'description'    
default['openstack']['identity']['ldap']['group_attribute_ignore'] = nil    
default['openstack']['identity']['ldap']['group_allow_create'] = true    
default['openstack']['identity']['ldap']['group_allow_update'] = true    
default['openstack']['identity']['ldap']['group_allow_delete'] = true    
</code></p>

<p>Token flushing cronjob</p>

<p><code>
default['openstack']['identity']['token_flush_cron']['enabled'] = node['openstack']['identity']['token']['backend'] == 'sql'    
default['openstack']['identity']['token_flush_cron']['log_file'] = '/var/log/keystone/token-flush.log'    
default['openstack']['identity']['token_flush_cron']['hour'] = '*'    
default['openstack']['identity']['token_flush_cron']['minute'] = '0'    
default['openstack']['identity']['token_flush_cron']['day'] = '*'    
default['openstack']['identity']['token_flush_cron']['weekday'] = '*'    
</code></p>

<p>Misc option support
Allow additional strings to be added to keystone.conf
For example:  [’# Comment’, ‘key=value’]</p>

<p><code>
default['openstack']['identity']['misc_keystone'] = []    
</code></p>

<p>platform defaults</p>

<p><code>
case platform_family    
when 'fedora', 'rhel' # :pragma-foodcritic: ~FC024 - won't fix this    
  default['openstack']['identity']['user'] = 'keystone'    
  default['openstack']['identity']['group'] = 'keystone'    
  default['openstack']['identity']['platform'] = {    
    'memcache_python_packages' =&gt; ['python-memcached'],    
    'keystone_packages' =&gt; ['openstack-keystone'],    
    'keystone_client_packages' =&gt; ['python-keystoneclient'],    
    'keystone_service' =&gt; 'openstack-keystone',    
    'keystone_process_name' =&gt; 'keystone-all',    
    'keystone_wsgi_file' =&gt; '/usr/share/keystone/wsgi.py',    
    'package_options' =&gt; ''    
  }    
when 'suse'    
  default['openstack']['identity']['user'] = 'openstack-keystone'    
  default['openstack']['identity']['group'] = 'openstack-keystone'    
  default['openstack']['identity']['platform'] = {    
    'memcache_python_packages' =&gt; ['python-python-memcached'],    
    'keystone_packages' =&gt; ['openstack-keystone'],    
    'keystone_client_packages' =&gt; ['python-keystoneclient'],    
    'keystone_service' =&gt; 'openstack-keystone',    
    'keystone_process_name' =&gt; 'keystone-all',    
    'keystone_wsgi_file' =&gt; '/usr/share/keystone/wsgi.py',    
    'package_options' =&gt; ''    
  }    
when 'debian'    
  default['openstack']['identity']['user'] = 'keystone'    
  default['openstack']['identity']['group'] = 'keystone'    
  default['openstack']['identity']['platform'] = {    
    'memcache_python_packages' =&gt; ['python-memcache'],    
    'keystone_packages' =&gt; ['keystone'],    
    'keystone_client_packages' =&gt; ['python-keystoneclient'],    
    'keystone_service' =&gt; 'keystone',    
    'keystone_process_name' =&gt; 'keystone-all',    
    'keystone_wsgi_file' =&gt; '/usr/share/keystone/wsgi.py',    
    'package_options' =&gt; "-o Dpkg::Options::='--force-confold' -o Dpkg::Options::='--force-confdef'"    
  }    
end    
</code></p>

<hr />

<h2 id="cookbook-openstack-imageattributesdefault">cookbook-openstack-image_attributes_default</h2>

<p><a href="#contents">back to top</a></p>

<p>Set to some text value if you want templated config files
to contain a custom banner at the top of the written file</p>

<p><code>
default['openstack']['image']['custom_template_banner'] = '    
# This file autogenerated by Chef    
# Do not edit, changes will be overwritten    
'    
</code></p>

<p>SSL Options
Enable SSL for glance api and registry bind endpoints.</p>

<p><code>
default['openstack']['image']['ssl']['enabled'] = false    
# Enable SSL for glance api bind endpoint.    
default['openstack']['image']['ssl']['api']['enabled'] = node['openstack']['image']['ssl']['enabled']    
# Enable SSL for glance registry bind endpoint.    
default['openstack']['image']['ssl']['registry']['enabled'] = node['openstack']['image']['ssl']['enabled']    
# Base directory for SSL certficate and key    
default['openstack']['image']['ssl']['basedir'] = '/etc/glance/ssl'    
# Path of the cert file for SSL.    
default['openstack']['image']['ssl']['cert_file'] = "#{node['openstack']['image']['ssl']['basedir']}/certs/sslcert.pem"    
# Path of the keyfile for SSL.    
default['openstack']['image']['ssl']['key_file'] = "#{node['openstack']['image']['ssl']['basedir']}/private/sslkey.pem"    
# Specify server whether SSL certificate is required    
default['openstack']['image']['ssl']['cert_required'] = false    
# Path of the CA cert file for SSL. Only use if client certificate is required    
default['openstack']['image']['ssl']['ca_file'] = "#{node['openstack']['image']['ssl']['basedir']}/certs/sslca.pem"    
</code></p>

<p><code>
default['openstack']['image']['verbose'] = 'False'    
default['openstack']['image']['debug'] = 'False'    
# This is the name of the Chef role that will install the Keystone Service API    
default['openstack']['image']['identity_service_chef_role'] = 'os-identity'    
</code></p>

<p>Gets set in the Image Endpoint when registering with Keystone</p>

<p><code>
default['openstack']['image']['region'] = node['openstack']['region']    
</code></p>

<p>The name of the Chef role that knows about the message queue server
that Glance uses</p>

<p><code>
default['openstack']['image']['rabbit_server_chef_role'] = 'os-ops-messaging'    
</code></p>

<p><code>
default['openstack']['image']['service_tenant_name'] = 'service'    
default['openstack']['image']['service_user'] = 'glance'    
default['openstack']['image']['service_role'] = 'service'    
</code></p>

<p><code>
default['openstack']['image']['notification_driver'] = 'noop'    
</code></p>

<p>RPC attributes
The AMQP exchange to connect to if using RabbitMQ or Qpid</p>

<p><code>
default['openstack']['image']['control_exchange'] = 'openstack'    
# Size of RPC thread pool    
default['openstack']['image']['rpc_thread_pool_size'] = 64    
# Size of RPC connection pool    
default['openstack']['image']['rpc_conn_pool_size'] = 30    
# Seconds to wait for a response from call or multicall    
default['openstack']['image']['rpc_response_timeout'] = 60    
case node['openstack']['mq']['service_type']    
when 'rabbitmq'    
  default['openstack']['image']['rpc_backend'] = 'rabbit'    
when 'qpid'    
  default['openstack']['image']['rpc_backend'] = 'qpid'    
end    
</code></p>

<p>Set the number of api workers</p>

<p><code>
default['openstack']['image']['api']['workers'] = [8, node['cpu']['total'].to_i].min    
</code></p>

<p>Set the number of registry workers</p>

<p><code>
default['openstack']['image']['registry']['workers'] = [8, node['cpu']['total'].to_i].min    
</code></p>

<p>Return the URL that references where the data is stored on the backend.</p>

<p><code>
default['openstack']['image']['api']['show_image_direct_url'] = 'False'    
</code></p>

<p>Supported values for the ‘container_format’ image attribute</p>

<p><code>
default['openstack']['image']['api']['container_formats'] = %w(ami ari aki bare ovf ova docker dockerref)    
</code></p>

<p>Supported values for the ‘disk_format’ image attribute</p>

<p><code>
default['openstack']['image']['api']['disk_formats'] = %w(ami ari aki vhd vmdk raw qcow2 vdi iso)    
</code></p>

<p><code>
default['openstack']['image']['api']['auth']['version'] = node['openstack']['api']['auth']['version']    
default['openstack']['image']['registry']['auth']['version'] = node['openstack']['api']['auth']['version']    
</code></p>

<p>Keystone PKI signing directories
XXX keystoneclient wants these dirs to exist even if it doesn’t use them</p>

<p><code>
default['openstack']['image']['api']['auth']['cache_dir'] = '/var/cache/glance/api'    
default['openstack']['image']['registry']['auth']['cache_dir'] = '/var/cache/glance/registry'    
</code></p>

<p>A list of memcached server(s) to use for caching</p>

<p><code>
default['openstack']['image']['api']['auth']['memcached_servers'] = nil    
default['openstack']['image']['registry']['auth']['memcached_servers'] = nil    
</code></p>

<p>Whether token data should be authenticated or authenticated and encrypted. Acceptable values are MAC or ENCRYPT</p>

<p><code>
default['openstack']['image']['api']['auth']['memcache_security_strategy'] = nil    
default['openstack']['image']['registry']['auth']['memcache_security_strategy'] = nil    
</code></p>

<p>This string is used for key derivation</p>

<p><code>
default['openstack']['image']['api']['auth']['memcache_secret_key'] = nil    
default['openstack']['image']['registry']['auth']['memcache_secret_key'] = nil    
</code></p>

<p>Hash algorithms to use for hashing PKI tokens</p>

<p><code>
default['openstack']['image']['api']['auth']['hash_algorithms'] = 'md5'    
default['openstack']['image']['registry']['auth']['hash_algorithms'] = 'md5'    
</code></p>

<p>A PEM encoded Certificate Authority to use when verifying HTTPs connections</p>

<p><code>
default['openstack']['image']['api']['auth']['cafile'] = nil    
default['openstack']['image']['registry']['auth']['cafile'] = nil    
</code></p>

<p>Verify HTTPS connections</p>

<p><code>
default['openstack']['image']['api']['auth']['insecure'] = false    
default['openstack']['image']['registry']['auth']['insecure'] = false    
</code></p>

<p>Whether to use any of the default caching pipelines from the paste configuration file</p>

<p><code>
default['openstack']['image']['api']['caching'] = false    
default['openstack']['image']['api']['cache_management'] = false    
</code></p>

<p><code>
default['openstack']['image']['api']['default_store'] = 'file'    
# List of which store classes and store class locations are currently known to glance at startup    
default['openstack']['image']['api']['stores'] = ['file', 'http']    
</code></p>

<p><code>
default['openstack']['image']['filesystem_store_datadir'] = '/var/lib/glance/images'    
default['openstack']['image']['filesystem_store_metadata_file'] = nil    
</code></p>

<p>The following two attributes are only available when filesystem_store_metadata_file is specified but
not exist
An opaque string. In order for this module to know that the remote FS is the same one that is mounted
locally it must share information with the nova-compute deployment. Both glance and nova-compute must
be configured with an unqiue matching string. For example: ‘00000000-0000-0000-0000-000000000000’</p>

<p><code>
default['openstack']['image']['filesystem_store_metadata_id'] = nil    
# The location at which the file system is locally mounted. Nova-compute will directly access Glance images    
# from this local filesystem path. For example: '/mount/some_fs/images'    
default['openstack']['image']['filesystem_store_metadata_mountpoint'] = nil    
</code></p>

<p><code>
default['openstack']['image']['api']['swift']['container'] = 'glance'    
default['openstack']['image']['api']['swift']['large_object_size'] = '200'    
default['openstack']['image']['api']['swift']['large_object_chunk_size'] = '200'    
default['openstack']['image']['api']['swift']['enable_snet'] = 'False'    
default['openstack']['image']['api']['swift']['store_region'] = nil    
default['openstack']['image']['api']['cache']['image_cache_max_size'] = '10737418240'    
</code></p>

<p>Info to match when looking for cinder in the service catalog</p>

<p><code>
default['openstack']['image']['api']['block-storage']['cinder_catalog_info'] = 'volumev2:cinderv2:publicURL'    
# Allow to perform insecure SSL requests to cinder (boolean value)    
default['openstack']['image']['api']['block-storage']['cinder_api_insecure'] = false    
# Location of ca certicates file to use for cinder client requests    
default['openstack']['image']['api']['block-storage']['cinder_ca_certificates_file'] = nil    
</code></p>

<p>Directory for the Image Cache</p>

<p><code>
default['openstack']['image']['cache']['dir'] = '/var/lib/glance/image-cache/'    
# Number of seconds until an incomplete image is considered stalled an    
# eligible for reaping    
default['openstack']['image']['cache']['stall_time'] = 86400    
# Number of seconds to leave invalid images around before they are eligible to be reaped    
default['openstack']['image']['cache']['grace_period'] = 3600    
</code></p>

<p>Ceph Options</p>

<p><code>
default['openstack']['image']['api']['rbd']['ceph_conf'] = '/etc/ceph/ceph.conf'    
default['openstack']['image']['api']['rbd']['user'] = 'glance'    
default['openstack']['image']['api']['rbd']['pool'] = 'images'    
default['openstack']['image']['api']['rbd']['chunk_size'] = '8'    
</code></p>

<p>API to use for accessing data. Default value points to sqlalchemy
package.</p>

<p><code>
default['openstack']['image']['data_api'] = 'glance.db.sqlalchemy.api'    
</code></p>

<p>Default Image Locations</p>

<p><code>
default['openstack']['image']['upload_images'] = ['cirros']    
default['openstack']['image']['upload_image']['precise'] = 'http://cloud-images.ubuntu.com/precise/current/precise-server-cloudimg-amd64-disk1.img'    
default['openstack']['image']['upload_image']['oneiric'] = 'http://cloud-images.ubuntu.com/oneiric/current/oneiric-server-cloudimg-amd64-disk1.img'    
default['openstack']['image']['upload_image']['natty'] = 'http://cloud-images.ubuntu.com/natty/current/natty-server-cloudimg-amd64-disk1.img'    
default['openstack']['image']['upload_image']['cirros'] = 'http://download.cirros-cloud.net/0.3.2/cirros-0.3.2-x86_64-disk.img'    
# more images available at https://github.com/rackerjoe/oz-image-build    
default['openstack']['image']['upload_image']['centos'] = 'http://c250663.r63.cf1.rackcdn.com/centos60_x86_64.qcow2'    
# To override image type    
# The following disk format types are supported: qcow vhd vmdk vdi iso raw    
# Bare container format will be used.    
default['openstack']['image']['upload_image_type']['cirros'] = 'qcow'    
</code></p>

<p>logging attribute</p>

<p><code>
default['openstack']['image']['syslog']['use'] = false    
default['openstack']['image']['syslog']['facility'] = 'LOG_LOCAL2'    
default['openstack']['image']['syslog']['config_facility'] = 'local2'    
</code></p>

<p>vmware attributes</p>

<p><code>
default['openstack']['image']['api']['vmware']['secret_name'] = 'openstack_vmware_secret_name'    
default['openstack']['image']['api']['vmware']['vmware_server_host'] = ''    
default['openstack']['image']['api']['vmware']['vmware_server_username'] = ''    
default['openstack']['image']['api']['vmware']['vmware_datacenter_path'] = ''    
default['openstack']['image']['api']['vmware']['vmware_datastore_name'] = ''    
default['openstack']['image']['api']['vmware']['vmware_api_retry_count'] = 10    
default['openstack']['image']['api']['vmware']['vmware_task_poll_interval'] = 5    
default['openstack']['image']['api']['vmware']['vmware_store_image_dir'] = '/openstack_glance'    
default['openstack']['image']['api']['vmware']['vmware_api_insecure'] = false    
</code></p>

<p>cron output redirection</p>

<p><code>
default['openstack']['image']['cron']['redirection'] = '&gt; /dev/null 2&gt;&amp;1'    
</code></p>

<p>platform-specific settings</p>

<p><code>
case platform_family    
when 'fedora', 'rhel' # :pragma-foodcritic: ~FC024 - won't fix this    
  default['openstack']['image']['user'] = 'glance'    
  default['openstack']['image']['group'] = 'glance'    
  default['openstack']['image']['platform'] = {    
    'image_packages' =&gt; %w(openstack-glance cronie python-glanceclient),    
    'image_client_packages' =&gt; ['python-glanceclient'],    
    'ceph_packages' =&gt; ['python-ceph'],    
    'swift_packages' =&gt; ['openstack-swift'],    
    'image_api_service' =&gt; 'openstack-glance-api',    
    'image_registry_service' =&gt; 'openstack-glance-registry',    
    'image_api_process_name' =&gt; 'glance-api',    
    'package_overrides' =&gt; ''    
  }    
when 'suse'    
  default['openstack']['image']['user'] = 'openstack-glance'    
  default['openstack']['image']['group'] = 'openstack-glance'    
  default['openstack']['image']['platform'] = {    
    'image_packages' =&gt; ['openstack-glance', 'python-glanceclient'],    
    'image_client_packages' =&gt; ['python-glanceclient'],    
    'ceph_packages' =&gt; [],    
    'swift_packages' =&gt; ['openstack-swift'],    
    'image_api_service' =&gt; 'openstack-glance-api',    
    'image_registry_service' =&gt; 'openstack-glance-registry',    
    'image_api_process_name' =&gt; 'glance-api',    
    'package_overrides' =&gt; ''    
  }    
when 'debian'    
  default['openstack']['image']['user'] = 'glance'    
  default['openstack']['image']['group'] = 'glance'    
  default['openstack']['image']['platform'] = {    
    'image_packages' =&gt; ['glance'],    
    'image_client_packages' =&gt; ['python-glanceclient'],    
    'ceph_packages' =&gt; ['python-ceph'],    
    'swift_packages' =&gt; ['python-swift'],    
    'image_api_service' =&gt; 'glance-api',    
    'image_registry_service' =&gt; 'glance-registry',    
    'image_registry_process_name' =&gt; 'glance-registry',    
    'package_overrides' =&gt; "-o Dpkg::Options::='--force-confold' -o Dpkg::Options::='--force-confdef'"    
  }    
end    
</code></p>

<hr />

<h2 id="cookbook-openstack-networkattributesdefault">cookbook-openstack-network_attributes_default</h2>

<p><a href="#contents">back to top</a></p>

<p>Set to some text value if you want templated config files
to contain a custom banner at the top of the written file</p>

<p><code>
default['openstack']['network']['custom_template_banner'] = '    
# This file autogenerated by Chef    
# Do not edit, changes will be overwritten    
'    
</code></p>

<p><code>
default['openstack']['network']['verbose'] = 'False'    
default['openstack']['network']['debug'] = 'False'    
default['openstack']['network']['auth_strategy'] = 'keystone'    
</code></p>

<p><code>
default['openstack']['network']['state_path'] = '/var/lib/neutron'    
default['openstack']['network']['lock_path'] = '$state_path/lock'    
</code></p>

<p>Set dbsync command timeout value</p>

<p><code>
default['openstack']['network']['dbsync_timeout'] = 3600    
</code></p>

<p>Specify policy.json remote file to import</p>

<p><code>
default['openstack']['network']['policyfile_url'] = nil    
</code></p>

<p>Gets set in the Network Endpoint when registering with Keystone</p>

<p><code>
default['openstack']['network']['region'] = node['openstack']['region']    
default['openstack']['network']['service_user'] = 'neutron'    
default['openstack']['network']['service_role'] = 'admin'    
default['openstack']['network']['service_name'] = 'neutron'    
default['openstack']['network']['service_type'] = 'network'    
default['openstack']['network']['service_tenant_name'] = 'service'    
default['openstack']['network']['description'] = 'OpenStack Networking service'    
</code></p>

<p><code>
default['openstack']['network']['rabbit_server_chef_role'] = 'rabbitmq-server'    
</code></p>

<p>Number of separate worker processes to spawn.  The default, 0, runs the
worker thread in the current process.  Greater than 0 launches that number of
child processes as workers.  The parent process manages them.</p>

<p><code>
default['openstack']['network']['api_workers'] = 0    
</code></p>

<p>Number of separate RPC worker processes to spawn.  The default, 0, runs the
worker thread in the current process.  Greater than 0 launches that number of
child processes as RPC workers.  The parent process manages them.
This feature is experimental until issues are addressed and testing has been
enabled for various plugins for compatibility.</p>

<p><code>
default['openstack']['network']['rpc_workers'] = 0    
</code></p>

<p>The maximum number of seconds we will wait for an agent to checkin</p>

<p><code>
default['openstack']['network']['api']['agent']['agent_down_time'] = 75    
</code></p>

<p>The default agent reporting interval in seconds</p>

<p><code>
default['openstack']['network']['api']['agent']['agent_report_interval'] = 30    
</code></p>

<p>The agent signing directory for api server</p>

<p><code>
default['openstack']['network']['api']['agent']['signing_dir'] = '/var/lib/neutron/keystone-signing'    
</code></p>

<p>Keystone PKI signing directory.</p>

<p><code>
default['openstack']['network']['api']['auth']['cache_dir'] = '/var/cache/neutron/api'    
</code></p>

<p>The auth api version used to interact with identity service.</p>

<p><code>
default['openstack']['network']['api']['auth']['version'] = node['openstack']['api']['auth']['version']    
</code></p>

<p>A list of memcached server(s) for caching</p>

<p><code>
default['openstack']['network']['api']['auth']['memcached_servers'] = nil    
</code></p>

<p>Whether token data should be authenticated or authenticated and encrypted. Acceptable values are MAC or ENCRYPT</p>

<p><code>
default['openstack']['network']['api']['auth']['memcache_security_strategy'] = nil    
</code></p>

<p>This string is used for key derivation</p>

<p><code>
default['openstack']['network']['api']['auth']['memcache_secret_key'] = nil    
</code></p>

<p>Hash algorithms to use for hashing PKI tokens</p>

<p><code>
default['openstack']['network']['api']['auth']['hash_algorithms'] = 'md5'    
</code></p>

<p>A PEM encoded Certificate Authority to use when verifying HTTPs connections</p>

<p><code>
default['openstack']['network']['api']['auth']['cafile'] = nil    
</code></p>

<p>Whether to allow the client to perform insecure SSL (https) requests</p>

<p><code>
default['openstack']['network']['api']['auth']['insecure'] = false    
</code></p>

<p>logging attribute</p>

<p><code>
default['openstack']['network']['log_dir'] = '/var/log/neutron'    
default['openstack']['network']['syslog']['use'] = false    
</code></p>

<p>The driver for Quota management in Neutron. Possible values:
neutron.quota.ConfDriver
neutron.db.quota_db.DbQuotaDriver (default)</p>

<p>Note: set this to the DbDriver if you want to be able to update
quotas for networks/subnets/security groups</p>

<p><code>
default['openstack']['network']['quota']['driver'] = 'neutron.db.quota_db.DbQuotaDriver'    
</code></p>

<p>default quotas will be used when no more specific tenant entry exists
when using the DBDriver - override them below to adjust the default
quotas
resource name(s) that are supported in quota features</p>

<p><code>
default['openstack']['network']['quota']['items'] = 'network,subnet,port'    
</code></p>

<p>default number of resource allowed per tenant, minus for unlimited
however if more specific setting exists for a quota resource (all known
quota resources are specified below) those numbers will be used instead
so unless new resources are introduces, this has no effect</p>

<p><code>
default['openstack']['network']['quota']['default'] = -1    
</code></p>

<p>number of networks allowed per tenant, and minus means unlimited</p>

<p><code>
default['openstack']['network']['quota']['network'] = 10    
</code></p>

<p>number of subnets allowed per tenant, and minus means unlimited</p>

<p><code>
default['openstack']['network']['quota']['subnet'] = 10    
</code></p>

<p>number of ports allowed per tenant, and minus means unlimited</p>

<p><code>
default['openstack']['network']['quota']['port'] = 50    
</code></p>

<p>number of security groups allowed per tenant, and minus means unlimited</p>

<p><code>
default['openstack']['network']['quota']['security_group'] = 10    
</code></p>

<p>number of security group rules allowed per tenant, and minus means unlimited</p>

<p><code>
default['openstack']['network']['quota']['security_group_rule'] = 100    
</code></p>

<p>Number of routers allowed per tenant. A negative value means unlimited.</p>

<p><code>
default['openstack']['network']['quota']['router'] = 10    
</code></p>

<p>Number of floating IPs allowed per tenant. A negative value means unlimited.</p>

<p><code>
default['openstack']['network']['quota']['floatingip'] = 50    
</code></p>

<p>(ListOpt) Specify service providers (drivers) for advanced services like loadbalancer, VPN, Firewall.
Must be in form:
service_provider=<service_type>:<name>:<driver>[:default]
List of allowed service type include LOADBALANCER, FIREWALL, VPN
Combination of <service type=""> and <name> must be unique; <driver> must also be unique
this is multiline option, example for default provider:
service_provider=LOADBALANCER:name:lbaas_plugin_driver_path:default
example of non-default provider:
service_provider=FIREWALL:name2:firewall_driver_path
--- Reference implementations ---</driver></name></service></driver></name></service_type></p>

<p><code>
default['openstack']['network']['service_provider'] = []    
</code></p>

<p>The core plugin to use for neutron</p>

<p><code>
default['openstack']['network']['core_plugin'] = 'neutron.plugins.ml2.plugin.Ml2Plugin'    
</code></p>

<p>additional service plugins to use for neutron
e.g. neutron.plugins.services.agent_loadbalancer.plugin.LoadBalancerPlugin
for the loadbalancer reference implementation</p>

<p><code>
default['openstack']['network']['service_plugins'] = []    
</code></p>

<p>The bridging interface driver.
This is used by the L3, DHCP and LBaaS agents.
Options are:</p>

<ul>
  <li>neutron.agent.linux.interface.OVSInterfaceDriver</li>
  <li>neutron.agent.linux.interface.BridgeInterfaceDriver</li>
</ul>

<p><code>
default['openstack']['network']['interface_driver'] = 'neutron.agent.linux.interface.OVSInterfaceDriver'    
</code></p>

<p>Maps the above core plugin driver to a simple name
This is used in the neutron_plugin_package package name and common recipe case statements</p>

<p><code>
default['openstack']['network']['core_plugin_map'] = {    
  'ovsneutronpluginv2' =&gt; 'openvswitch',    
  'linuxbridgepluginv2' =&gt; 'linuxbridge',    
  'ml2plugin' =&gt; 'ml2'    
}    
</code></p>

<p>This is used by SUSE to setup the sysconfig neutron initfile</p>

<p><code>
default['openstack']['network']['plugin_conf_map'] = {    
  'ovsneutronpluginv2' =&gt; 'openvswitch/ovs_neutron_plugin.ini',    
  'linuxbridgepluginv2' =&gt; 'linuxbridge/linuxbridge_conf.ini',    
  'ml2plugin' =&gt; 'ml2/ml2_conf.ini'    
}    
</code></p>

<p>The agent can use other DHCP drivers.  Dnsmasq is the simplest and requires
no additional setup of the DHCP server.</p>

<p><code>
default['openstack']['network']['dhcp_driver'] = 'neutron.agent.linux.dhcp.Dnsmasq'    
</code></p>

<p>Use namespaces and optionally allow overlapping IPs. You
must enable namespaces to use overlapping ips.  Also,
you must have kernel build with CONFIG_NET_NS=y and
iproute2 package that supports namespaces.</p>

<p><code>
default['openstack']['network']['use_namespaces'] = 'True'    
default['openstack']['network']['allow_overlapping_ips'] = 'False'    
</code></p>

<p>VPN agent configuration, default is false
Must enable namespaces to set enable_vpn true</p>

<p><code>
default['openstack']['network']['enable_vpn'] = false    
</code></p>

<p>use neutron root wrap</p>

<p><code>
default['openstack']['network']['use_rootwrap'] = true    
# rootwrap.conf    
default['openstack']['network']['rootwrap']['filters_path'] = '/etc/neutron/rootwrap.d,/usr/share/neutron/rootwrap'    
default['openstack']['network']['rootwrap']['exec_dirs'] = '/sbin,/usr/sbin,/bin,/usr/bin'    
default['openstack']['network']['rootwrap']['use_syslog'] = false    
default['openstack']['network']['rootwrap']['syslog_log_facility'] = 'syslog'    
default['openstack']['network']['rootwrap']['syslog_log_level'] = 'ERROR'    
</code></p>

<p>DHCP lease duration</p>

<p><code>
default['openstack']['network']['dhcp_lease_duration'] = 86400    
</code></p>

<p>Driver or drivers to handle sending notifications and control exchange</p>

<p><code>
default['openstack']['network']['notification_driver'] = 'neutron.openstack.common.notifier.rpc_notifier'    
default['openstack']['network']['control_exchange'] =  node['openstack']['mq']['network']['control_exchange']    
</code></p>

<p>Common rpc definitions</p>

<p><code>
default['openstack']['network']['rpc_thread_pool_size'] = 64    
default['openstack']['network']['rpc_conn_pool_size'] = 30    
default['openstack']['network']['rpc_response_timeout'] = 60    
</code></p>

<p>======== Neutron Nova interactions ==========
Name of the plugin to load</p>

<p><code>
default['openstack']['network']['nova']['auth_plugin'] = 'v2password'    
</code></p>

<p>CA file for novaclient to verify server certificates</p>

<p><code>
default['openstack']['network']['nova']['cafile'] = nil    
</code></p>

<p>Boolean to control ignoring SSL errors on the nova url</p>

<p><code>
default['openstack']['network']['nova']['insecure'] = false    
</code></p>

<p>Send notification to nova when port status is active.</p>

<p><code>
default['openstack']['network']['nova']['notify_nova_on_port_status_changes'] = 'True'    
</code></p>

<p>Send notifications to nova when port data (fixed_ips/floatingips) change
so nova can update it’s cache.</p>

<p><code>
default['openstack']['network']['nova']['notify_nova_on_port_data_changes'] = 'True'    
</code></p>

<p>Name of nova region to use. Useful if keystone manages more than one region</p>

<p><code>
default['openstack']['network']['nova']['region_name'] = node['openstack']['region']    
</code></p>

<p>Username for connection to nova in admin context</p>

<p><code>
default['openstack']['network']['nova']['admin_username'] = 'nova'    
</code></p>

<p>User’s domain ID for authentication.</p>

<p><code>
default['openstack']['network']['nova']['user_domain_id'] = 'default'    
</code></p>

<p>Version for connection to nova
TODO: (MRV) Need to allow for this in Common.</p>

<p><code>
default['openstack']['network']['nova']['url_version'] = '/v2'    
</code></p>

<p>The uuid of the nova tenant
Nil will cause the name below to be used.</p>

<p><code>
default['openstack']['network']['nova']['admin_tenant_id'] = nil    
</code></p>

<p>The name of the nova tenant
defined here based upon Compute cookbook attribute:
default[‘openstack’][‘compute’][‘service_tenant_name’] = ‘service’
Since this cookbook does not depend upon Compute, can’t directly
reference that here. Deprecated for Liberty.</p>

<p><code>
default['openstack']['network']['nova']['admin_tenant_name'] = 'service'    
</code></p>

<p>Project name for project scoping. Use this instead of deprecated ‘admin_tenant_name’,
which is still used until Liberty.</p>

<p><code>
default['openstack']['network']['nova']['project_name'] = node['openstack']['network']['nova']['admin_tenant_name']    
</code></p>

<p>Project’s domain ID for project.</p>

<p><code>
default['openstack']['network']['nova']['project_domain_id'] = 'default'    
</code></p>

<p>Number of seconds between sending events to nova if there are any events to send</p>

<p><code>
default['openstack']['network']['nova']['send_events_interval'] = 2    
</code></p>

<p>============================= DHCP Agent Configuration ===================
The scheduler class to use for scheduling to DHCP agents</p>

<p><code>
default['openstack']['network']['dhcp']['scheduler'] = 'neutron.scheduler.dhcp_agent_scheduler.ChanceScheduler'    
</code></p>

<p>Override the default mtu setting given to virtual machines
to 1454 to allow for tunnel and other encapsulation overhead.  You
can adjust this from 1454 to 1500 if you do not want any lowering
of the default guest MTU.</p>

<p><code>
default['openstack']['network']['dhcp']['dhcp-option'] = '26,1454'    
</code></p>

<p>Number of seconds between sync of DHCP agent with Neutron API server</p>

<p><code>
default['openstack']['network']['dhcp']['resync_interval'] = 5    
</code></p>

<p>OVS based plugins(Ryu, NEC, NVP, BigSwitch/Floodlight) that use OVS
as OpenFlow switch and check port status</p>

<p><code>
default['openstack']['network']['dhcp']['ovs_use_veth'] = 'False'    
</code></p>

<p>The DHCP server can assist with providing metadata support on isolated
networks. Setting this value to True will cause the DHCP server to append
specific host routes to the DHCP request.  The metadata service will only
be activated when the subnet gateway_ip is None.  The guest instance must
be configured to request host routes via DHCP (Option 121).</p>

<p><code>
default['openstack']['network']['dhcp']['enable_isolated_metadata'] = 'False'    
</code></p>

<p>Allows for serving metadata requests coming from a dedicated metadata
access network whose cidr is 169.254.169.254/16 (or larger prefix), and
is connected to a Neutron router from which the VMs send metadata
request. In this case DHCP Option 121 will not be injected in VMs, as
they will be able to reach 169.254.169.254 through a router.
This option requires enable_isolated_metadata = True</p>

<p><code>
default['openstack']['network']['dhcp']['enable_metadata_network'] = 'False'    
</code></p>

<p>the version of dnsmasq for centos 6.5 is two revs behind where the dhcp-agent needs
to run properly. This is a version that allows and starts the dhcp-agent correctly.</p>

<p><code>
default['openstack']['network']['dhcp']['dnsmasq_rpm_version'] = '2.65-1.el6.rfx.x86_64'    
default['openstack']['network']['dhcp']['dnsmasq_rpm_source'] = "http://pkgs.repoforge.org/dnsmasq/dnsmasq-#{node['openstack']['network']['dhcp']['dnsmasq_rpm_version']}.rpm"    
</code></p>

<p>The package architecture that will be built which should match the
archecture of the server this cookbook will run on which will be
amd64 or i386</p>

<p><code>
default['openstack']['network']['dhcp']['dnsmasq_architecture'] = 'amd64'    
</code></p>

<p>The debian package version that the above tarball will produce</p>

<p><code>
default['openstack']['network']['dhcp']['dnsmasq_dpkgversion'] = '2.65-1'    
</code></p>

<p>Limit number of leases to prevent a denial-of-service.</p>

<p><code>
default['openstack']['network']['dhcp']['dnsmasq_lease_max'] = 16777216    
</code></p>

<p>Upstream resolver to use
This will be used by dnsmasq to resolve recursively
but will not be used if the tenant specifies a dns
server in their subnet</p>

<p>Defaults are spread out across multiple, presumably
reliable, upstream providers</p>

<p>8.8.8.8 is Google
209.244.0.3 is Level3</p>

<p>May be a comma separated list of servers</p>

<p><code>
default['openstack']['network']['dhcp']['upstream_dns_servers'] = ['8.8.8.8', '209.244.0.3']    
</code></p>

<p>Set the default domain in dnsmasq</p>

<p><code>
default['openstack']['network']['dhcp']['default_domain'] = 'openstacklocal'    
</code></p>

<p>If True, namespaces will be deleted when a dhcp server is disabled.</p>

<p><code>
default['openstack']['network']['dhcp']['dhcp_delete_namespaces'] = 'False'    
</code></p>

<p>Set the default num of dhcp agents for each network.</p>

<p><code>
default['openstack']['network']['dhcp']['dhcp_agents_per_network'] = 1    
</code></p>

<p>============================= L3 Agent Configuration =====================
For DVR(Disributed Virtual Router) is still not stable and rubost,
so it make sense to set DVR disabled by default. User can set this
attribute ture(bool) or ‘ture’(bool) to enable DVR if they what
they are doing. Set this ‘auto’, cookbook will do a simple check
to decide whether or not to enable DVR, default is enabled with OVS.</p>

<p><code>
default['openstack']['network']['l3']['router_distributed'] = 'False'    
</code></p>

<p>The scheduler class to use for scheduling routers to L3 agents</p>

<p><code>
default['openstack']['network']['l3']['scheduler'] = 'neutron.scheduler.l3_agent_scheduler.ChanceScheduler'    
</code></p>

<p>If use_namespaces is set as False then the agent can only configure one router.
This is done by setting the specific router_id.</p>

<p><code>
default['openstack']['network']['l3']['router_id'] = nil    
</code></p>

<p>Each L3 agent can be associated with at most one external network.  This
value should be set to the UUID of that external network.  If empty,
the agent will enforce that only a single external networks exists and
use that external network id</p>

<p><code>
default['openstack']['network']['l3']['gateway_external_network_id'] = nil    
# If this name is specified and the ID above is nil, it will be looked up.    
default['openstack']['network']['l3']['gateway_external_network_name'] = nil    
</code></p>

<p>Indicates that this L3 agent should also handle routers that do not have
an external network gateway configured.  This option should be True only
for a single agent in a Neutron deployment, and may be False for all agents
if all routers must have an external network gateway</p>

<p><code>
default['openstack']['network']['l3']['handle_internal_only_routers'] = 'True'    
</code></p>

<p>Name of bridge used for external network traffic. This should be set to
empty value for the linux bridge</p>

<p><code>
default['openstack']['network']['l3']['external_network_bridge'] = 'br-ex'    
</code></p>

<p>Interface to use for external bridge.</p>

<p><code>
default['openstack']['network']['l3']['external_network_bridge_interface'] = 'eth1'    
</code></p>

<p>TCP Port used by Neutron metadata server</p>

<p><code>
default['openstack']['network']['l3']['metadata_port'] = 9697    
</code></p>

<p>Send this many gratuitous ARPs for HA setup. Set it below or equal to 0
to disable this feature.</p>

<p><code>
default['openstack']['network']['l3']['send_arp_for_ha'] = 3    
</code></p>

<p>seconds between re-sync routers’ data if needed</p>

<p><code>
default['openstack']['network']['l3']['periodic_interval'] = 40    
</code></p>

<p>seconds to start to sync routers’ data after
starting agent</p>

<p><code>
default['openstack']['network']['l3']['periodic_fuzzy_delay'] = 5    
</code></p>

<p>If True, namespaces will be deleted when a router is destroyed</p>

<p><code>
default['openstack']['network']['l3']['router_delete_namespaces'] = 'False'    
</code></p>

<p>Set the default value of ha parameter for virtual router.</p>

<p><code>
default['openstack']['network']['l3']['ha']['l3_ha'] = 'False'    
</code></p>

<p>Set the default maximum number of l3 agents for each ha router.</p>

<p><code>
default['openstack']['network']['l3']['ha']['max_l3_agents_per_router'] = 3    
</code></p>

<p>Set the default advertisement interval in seconds</p>

<p><code>
default['openstack']['network']['l3']['ha']['ha_vrrp_advert_int'] = 2    
</code></p>

<p>============================= VPN Agent Configuration ====================
VPN device drivers which vpn agent will use
vpn_device_driver_packages in platform-specific settings is used to get driver dependencies installed, default is openswan
vpn_device_driver_services in platform-specific settings is used to enable services required by vpn drivers, default is ipsec
default_config_area in platform-specific settings is used to set the area where default StrongSwan configuration files are located</p>

<p><code>
default['openstack']['network']['vpn']['vpn_device_driver'] = ['neutron_vpnaas.services.vpn.device_drivers.ipsec.OpenSwanDriver']    
</code></p>

<p>Status check interval for ipsec vpn</p>

<p><code>
default['openstack']['network']['vpn']['ipsec_status_check_interval'] = 60    
</code></p>

<p>Custom the vpnaas config file path</p>

<p><code>
default['openstack']['network']['vpn']['config_file'] = '/etc/neutron/vpn_agent.ini'    
</code></p>

<p>============================= Metadata Agent Configuration ===============
The name of the secret databag containing the metadata secret</p>

<p><code>
default['openstack']['network']['metadata']['secret_name'] = 'neutron_metadata_secret'    
</code></p>

<p>This attribute is used to designate the number of the separate
neutron-metadata-agent processes to spawn. If it is not specified explicitly,
the default value shall be half of the CPU cores.</p>

<p><code>
default['openstack']['network']['metadata']['metadata_workers'] = nil    
</code></p>

<p>============================= LBaaS Agent Configuration ==================
node[‘openstack’][‘network’][‘neutron_loadbalancer’] is deprecated.  Use
node[‘openstack’][‘network’][‘service_plugins’] for the loadbalancer plugin.
See that attribute for details.</p>

<p><code>
default['openstack']['network']['lbaas']['device_driver'] = 'neutron_lbaas.services.loadbalancer.drivers.haproxy.namespace_driver.HaproxyNSDriver'    
</code></p>

<p>Number of seconds between sync of LBaaS agent with Neutron API server</p>

<p><code>
default['openstack']['network']['lbaas']['periodic_interval'] = 10    
</code></p>

<p>Set to True to enable lbaas</p>

<p><code>
default['openstack']['network']['lbaas']['enabled'] = 'False'    
</code></p>

<p>Custom the lbaas config file path</p>

<p><code>
default['openstack']['network']['lbaas']['config_file'] = '/etc/neutron/lbaas_agent.ini'    
</code></p>

<p>Set lbaas plugin
Supported types are: ‘ovs’ (ovs based plugins(OVS, Ryu, NEC, NVP, BigSwitch/Floodlight))
and ‘linuxbridge’.
The lbaas plugin type can also be used for other drivers using
node[‘openstack’][‘network’][‘lbaas’][‘custom_interface_driver’] attribute.
Set this attribute to ‘other’ in order to load a custom driver</p>

<p><code>
default['openstack']['network']['lbaas_plugin'] = 'ovs'    
</code></p>

<p>Custom plugin to support new interface drivers.</p>

<p><code>
default['openstack']['network']['lbaas']['custom_interface_driver'] = nil    
</code></p>

<p>Using veth pairs for OVS based plugins.</p>

<p><code>
default['openstack']['network']['lbaas']['ovs_use_veth'] = 'False'    
</code></p>

<p>============================= FWaaS Configuration ==================
Set to True to enable firewall service</p>

<p><code>
default['openstack']['network']['fwaas']['enabled'] = 'False'    
</code></p>

<p>Firewall service driver with linux iptables</p>

<p><code>
default['openstack']['network']['fwaas']['driver'] = 'neutron_fwaas.services.firewall.drivers.linux.iptables_fwaas.IptablesFwaasDriver'    
</code></p>

<p>Custom the fwaas config file path</p>

<p><code>
default['openstack']['network']['fwaas']['config_file'] = '/etc/neutron/fwaas_driver.ini'    
</code></p>

<p>============================= OVS Plugin Configuration ===================
Type of network to allocate for tenant networks. The default value ‘local’ is
useful only for single-box testing and provides no connectivity between hosts.
You MUST either change this to ‘vlan’ and configure network_vlan_ranges below
or change this to ‘gre’ and configure tunnel_id_ranges below in order for tenant
networks to provide connectivity between hosts. Set to ‘none’ to disable creation
of tenant networks.</p>

<p><code>
default['openstack']['network']['openvswitch']['tenant_network_type'] = 'local'    
</code></p>

<p>Comma-separated list of <physical_network>[:<vlan_min>:<vlan_max>] tuples enumerating
ranges of VLAN IDs on named physical networks that are available for allocation.
All physical networks listed are available for flat and VLAN provider network
creation. Specified ranges of VLAN IDs are available for tenant network
allocation if tenant_network_type is 'vlan'. If empty, only gre and local
networks may be created</vlan_max></vlan_min></physical_network></p>

<p>Example: network_vlan_ranges = physnet1:1000:2999</p>

<p><code>
default['openstack']['network']['openvswitch']['network_vlan_ranges'] = nil    
</code></p>

<p>Set to True in the server and the agents to enable support
for GRE or VXLAN networks. Requires kernel support for OVS patch ports and
GRE or VXLAN tunneling.</p>

<p>WARNING: This option will be deprecated in the Icehouse release, at which
point setting tunnel_type below will be required to enable
tunneling.</p>

<p><code>
default['openstack']['network']['openvswitch']['enable_tunneling'] = 'False'    
</code></p>

<p>The type of tunnel network, if any, supported by the plugin. If
this is set, it will cause tunneling to be enabled. If this is not set and
the option enable_tunneling is set, this will default to ‘gre’.
‘gre’ or ‘vxlan’</p>

<p><code>
default['openstack']['network']['openvswitch']['tunnel_type'] = ''    
</code></p>

<p>Comma-separated list of <tun_min>:<tun_max> tuples
enumerating ranges of GRE tunnel IDs that are available for tenant
network allocation if tenant_network_type is 'gre'.</tun_max></tun_min></p>

<p>Example: tunnel_id_ranges = 1:1000</p>

<p><code>
default['openstack']['network']['openvswitch']['tunnel_id_ranges'] = nil    
</code></p>

<p>Do not change this parameter unless you have a good reason to.
This is the name of the OVS integration bridge. There is one per hypervisor.
The integration bridge acts as a virtual ‘patch bay’. All VM VIFs are
attached to this bridge and then ‘patched’ according to their network
connectivity</p>

<p><code>
default['openstack']['network']['openvswitch']['integration_bridge'] = 'br-int'    
</code></p>

<p>Only used for the agent if tunnel_id_ranges (above) is not empty for
the server.  In most cases, the default value should be fine</p>

<p><code>
default['openstack']['network']['openvswitch']['tunnel_bridge'] = 'br-tun'    
</code></p>

<p>Peer patch port in integration bridge for tunnel bridge (nil uses default)</p>

<p><code>
default['openstack']['network']['openvswitch']['int_peer_patch_port'] = nil    
</code></p>

<p>Peer patch port in tunnel bridge for integration bridge (nil uses default)</p>

<p><code>
default['openstack']['network']['openvswitch']['tun_peer_patch_port'] = nil    
</code></p>

<p>Comma-separated list of <physical_network>:<bridge> tuples
mapping physical network names to the agent's node-specific OVS
bridge names to be used for flat and VLAN networks. The length of
bridge names should be no more than 11. Each bridge must
exist, and should have a physical network interface configured as a
port. All physical networks listed in network_vlan_ranges on the
server should have mappings to appropriate bridges on each agent.</bridge></physical_network></p>

<p>Example: bridge_mappings = physnet1:br-eth1</p>

<p><code>
default['openstack']['network']['openvswitch']['bridge_mappings'] = nil    
</code></p>

<p>Create OVS data network bridge for the physical network and configure it
with the specified port.  If nil or empty string is specified, the data
network bridge will not be created.
Format:  <data network="" bridge="" name="">:<external interface=""></external></data></p>

<p>Example: bridge_mapping_interface = br-eth1:eth1</p>

<p><code>
default['openstack']['network']['openvswitch']['bridge_mapping_interface'] = nil    
</code></p>

<p>Agent’s polling interval in seconds</p>

<p><code>
default['openstack']['network']['openvswitch']['polling_interval'] = 2    
</code></p>

<p>The types of tenant network tunnels supported by the openvswitch agent.
Setting this will enable tunneling support in the agent. This can be set to
either ‘gre’ or ‘vxlan’. If this is unset, it will default to [] and
disable tunneling in the agent. When running the agent with the OVS
plugin, this value must be the same as “tunnel_type” in the “[ovs]” section.
When running the agent with ML2, you can specify as many values here as
your compute hosts support.</p>

<p><code>
default['openstack']['network']['openvswitch']['tunnel_types'] = nil    
</code></p>

<p>Agent’s MTU size of veth interfaces
With openvswitch vlan, default of veth_mtu = 1500 is 4 bytes short and you end up
with either no traffic or abysmal network performance.  Need the 4 extra bytes for
the vlan id.  In that case set the value to 1504.</p>

<p><code>
default['openstack']['network']['openvswitch']['veth_mtu'] = 1500    
</code></p>

<p>Firewall driver for realizing neutron security group function</p>

<p><code>
default['openstack']['network']['openvswitch']['fw_driver'] = 'neutron.agent.linux.iptables_firewall.OVSHybridIptablesFirewallDriver'    
</code></p>

<p>Controls if neutron security group is enabled or not.
It should be false when you use nova security group.</p>

<p><code>
default['openstack']['network']['openvswitch']['enable_security_group'] = 'True'    
</code></p>

<p>The newest version of OVS which comes with 12.04 Precise is 1.4.0
Which is legacy. Should we compile a newer version from source?
If so, set [‘openstack’][‘network’][‘openvswitch’][‘use_source_version’]
to true, and configure the packages, versions, checksums, etc. you wish
to use</p>

<p><code>
default['openstack']['network']['openvswitch']['use_source_version'] = false    
</code></p>

<p>Url of the OVS source tarball</p>

<p><code>
default['openstack']['network']['openvswitch']['openvswitch_url'] = 'http://git.openvswitch.org/cgi-bin/gitweb.cgi?p=openvswitch;a=snapshot;h=88dbaa9dc554d0ace1867bf23144788bd6f700bb;sf=tgz'    
</code></p>

<p>Filename the above URL actually downloads.</p>

<p><code>
default['openstack']['network']['openvswitch']['openvswitch_filename'] = 'openvswitch-88dbaa9.tar.gz'    
</code></p>

<p>What is the base filename (essentially, the above without the .tar.gz)</p>

<p><code>
default['openstack']['network']['openvswitch']['openvswitch_base_filename'] = 'openvswitch-88dbaa9'    
</code></p>

<p>Checksum of the file for verification</p>

<p><code>
default['openstack']['network']['openvswitch']['openvswitch_checksum'] = '22df718eb81fcfe93228e9bba8575e50'    
</code></p>

<p>What version of the package does this install</p>

<p><code>
default['openstack']['network']['openvswitch']['openvswitch_dpkgversion'] = '1.10.2-1'    
</code></p>

<p>What arch are we building for</p>

<p><code>
default['openstack']['network']['openvswitch']['openvswitch_architecture'] = 'amd64'    
</code></p>

<p>============================= LinuxBridge Plugin Configuration ===========
Type of network to allocate for tenant networks. The
default value ‘local’ is useful only for single-box testing and
provides no connectivity between hosts. You MUST change this to
‘vlan’ and configure network_vlan_ranges below in order for tenant
networks to provide connectivity between hosts. Set to ‘none’ to
disable creation of tenant networks.</p>

<p><code>
default['openstack']['network']['linuxbridge']['tenant_network_type'] = 'local'    
</code></p>

<p>Comma-separated list of <physical_network>[:<vlan_min>:<vlan_max>] tuples enumerating
ranges of VLAN IDs on named physical networks that are available for allocation.
All physical networks listed are available for flat and VLAN provider network
creation. Specified ranges of VLAN IDs are available for tenant network
allocation if tenant_network_type is 'vlan'. If empty, only gre and local
networks may be created.</vlan_max></vlan_min></physical_network></p>

<p>Example: network_vlan_ranges = physnet1:1000:2999</p>

<p><code>
default['openstack']['network']['linuxbridge']['network_vlan_ranges'] = ''    
</code></p>

<p>(ListOpt) Comma-separated list of</p>
<physical_network>:<physical_interface> tuples mapping physical
network names to the agent's node-specific physical network
interfaces to be used for flat and VLAN networks. All physical
networks listed in network_vlan_ranges on the server should have
mappings to appropriate interfaces on each agent.

Example: physical_interface_mappings = physnet1:eth1

```
default['openstack']['network']['linuxbridge']['physical_interface_mappings'] = ''    
```

(BoolOpt) enable VXLAN on the agent
VXLAN support can be enabled when agent is managed by ml2 plugin using
linuxbridge mechanism driver. Useless if set while using linuxbridge plugin.

```
default['openstack']['network']['linuxbridge']['enable_vxlan'] = false    
```

(IntOpt) use specific TTL for vxlan interface protocol packets

```
default['openstack']['network']['linuxbridge']['ttl'] = ''    
```

(IntOpt) use specific TOS for vxlan interface protocol packets

```
default['openstack']['network']['linuxbridge']['tos'] = ''    
```

(StrOpt) multicast group to use for broadcast emulation.
This group must be the same on all the agents.

```
default['openstack']['network']['linuxbridge']['vxlan_group'] = '224.0.0.1'    
```

(BoolOpt) Flag to enable l2population extension. This option should be used
in conjunction with ml2 plugin l2population mechanism driver (in that case,
both linuxbridge and l2population mechanism drivers should be loaded).
It enables plugin to populate VXLAN forwarding table, in order to limit
the use of broadcast emulation (multicast will be turned off if kernel and
iproute2 supports unicast flooding - requires 3.11 kernel and iproute2 3.10)

```
default['openstack']['network']['linuxbridge']['l2_population'] = false    
```

Agent's polling interval in seconds

```
default['openstack']['network']['linuxbridge']['polling_interval'] = 2    
```

(BoolOpt) Enable server RPC compatibility with old (pre-havana)
agents.

rpc_support_old_agents = False
Example: rpc_support_old_agents = True

```
default['openstack']['network']['linuxbridge']['rpc_support_old_agents'] = false    
```

Firewall driver for realizing neutron security group function
firewall_driver = neutron.agent.firewall.NoopFirewallDriver
Example: firewall_driver = neutron.agent.linux.iptables_firewall.IptablesFirewallDriver

```
default['openstack']['network']['linuxbridge']['firewall_driver'] = 'neutron.agent.firewall.NoopFirewallDriver'    
```

Controls if neutron security group is enabled or not.
It should be false when you use nova security group.

```
default['openstack']['network']['linuxbridge']['enable_security_group'] = 'True'    
```

============================= BigSwitch Plugin Configuration =============
Not really sure what this is...

```
default['openstack']['network']['bigswitch']['servers'] = 'localhost:8080'    
```

============================= Brocade Plugin Configuration ===============
username = <mgmt admin="" username="">

```
default['openstack']['network']['brocade']['switch_username'] = 'admin'    
```

password = <mgmt admin="" password="">

```
default['openstack']['network']['brocade']['switch_password'] = 'admin'    
```

address  = <switch mgmt="" ip="" address="">

```
default['openstack']['network']['brocade']['switch_address'] = '127.0.0.1'    
```

ostype   = NOS

```
default['openstack']['network']['brocade']['switch_ostype'] = 'NOS'    
```

physical_interface = <physical network="" name="">

Example:
physical_interface = physnet1

```
default['openstack']['network']['brocade']['physical_interface'] = 'physnet1'    
```

(ListOpt) Comma-separated list of
<physical_network>[:<vlan_min>:<vlan_max>] tuples enumerating ranges
of VLAN IDs on named physical networks that are available for
allocation. All physical networks listed are available for flat and
VLAN provider network creation.

Default: network_vlan_ranges =
Example: network_vlan_ranges = physnet1:1000:2999

```
default['openstack']['network']['brocade']['network_vlan_ranges'] = ''    
```

(ListOpt) Comma-separated list of
<physical_network>:<physical_interface> tuples mapping physical
network names to the agent's node-specific physical network
interfaces to be used for flat and VLAN networks. All physical
networks listed in network_vlan_ranges on the server should have
mappings to appropriate interfaces on each agent.

Example: physical_interface_mappings = physnet1:eth1

```
default['openstack']['network']['brocade']['physical_interface_mappings'] = ''    
```

============================= Cisco Plugin Configuration =================
The module and class name path for the nexus plugin

```
default['openstack']['network']['cisco']['nexus_plugin'] = 'neutron.plugins.cisco.nexus.cisco_nexus_plugin_v2.NexusPlugin'    
```

The module and class name path for the vswitch plugin

```
default['openstack']['network']['cisco']['vswitch_plugin'] = 'neutron.plugins.openvswitch.ovs_neutron_plugin.OVSNeutronPluginV2'    
```

Start of the tenant VLAN range

```
default['openstack']['network']['cisco']['vlan_start'] = 100    
```

End of the tenant VLAN range

```
default['openstack']['network']['cisco']['vlan_end'] = 3000    
```

Prefix for tenant VLANs

```
default['openstack']['network']['cisco']['vlan_name_prefix'] = 'q-'    
```

Maximum number of ports

```
default['openstack']['network']['cisco']['max_ports'] = 100    
# Max number of port profiles    
default['openstack']['network']['cisco']['max_port_profiles'] = 65568    
```

Maximum number of networks

```
default['openstack']['network']['cisco']['max_networks'] = 65568    
```

Module and class path for switch model

```
default['openstack']['network']['cisco']['model_class'] = 'neutron.plugins.cisco.models.virt_phy_sw_v2.VirtualPhysicalSwitchModelV2'    
```

Module and class path for VLAN network manager

```
default['openstack']['network']['cisco']['manager_class'] = 'neutron.plugins.cisco.segmentation.l2network_vlan_mgr_v2.L2NetworkVLANMgr'    
```

Module and class path for the Nexus driver

```
default['openstack']['network']['cisco']['nexus_driver'] = 'neutron.plugins.cisco.tests.unit.v2.nexus.fake_nexus_driver.CiscoNEXUSFakeDriver'    
```

For each Nexus switch, add a hash to the
node['openstack']['network']['cisco']['nexus_switches'] Hash,
using the switch's IP address as the outer Hash key with each
hash containing this information:

- ssh_port=<ssh port="">
- username=<credential username="">
- password=<credential password="">
- hosts = [ (<hostname>,<port>), ... ]

Example:

node['openstack']['network']['cisco']['nexus_switches']['1.1.1.1']['ssh_port'] = 22
node['openstack']['network']['cisco']['nexus_switches']['1.1.1.1']['username'] = 'admin'
node['openstack']['network']['cisco']['nexus_switches']['1.1.1.1']['password'] = 'mySecretPassword'
node['openstack']['network']['cisco']['nexus_switches']['1.1.1.1']['hosts'] = [ [ 'compute1', '1/1' ],
[ 'compute2', '1/2' ]]


will write the following to the Cisco plugin config INI file:
[NEXUS_SWITCH:1.1.1.1]
compute1=1/1
compute2=1/2
ssh_port=22
username=admin
password=mySecretPassword


```
default['openstack']['network']['cisco']['nexus_switches'] = {}    
```

============================= Hyper-V Plugin Configuration ===============
Type of network to allocate for tenant networks. The
default value 'local' is useful only for single-box testing and
provides no connectivity between hosts. You MUST change this to
'vlan' and configure network_vlan_ranges below in order for tenant
networks to provide connectivity between hosts. Set to 'none' to
disable creation of tenant networks.

```
default['openstack']['network']['hyperv']['tenant_network_type'] = 'local'    
```

Comma-separated list of <physical_network>[:<vlan_min>:<vlan_max>] tuples enumerating
ranges of VLAN IDs on named physical networks that are available for allocation.
All physical networks listed are available for flat and VLAN provider network
creation. Specified ranges of VLAN IDs are available for tenant network
allocation if tenant_network_type is 'vlan'. If empty, only gre and local
networks may be created.

Example: network_vlan_ranges = physnet1:1000:2999

```
default['openstack']['network']['hyperv']['network_vlan_ranges'] = ''    
```

Agent's polling interval in seconds

```
default['openstack']['network']['hyperv']['polling_interval'] = 2    
```

(ListOpt) Comma separated list of <physical_network>:<vswitch>
where the physical networks can be expressed with wildcards,
e.g.: .'*:external'.
The referred external virtual switches need to be already present on
the Hyper-V server.
If a given physical network name will not match any value in the list
the plugin will look for a virtual switch with the same name.

Default: physical_network_vswitch_mappings = *:external
Example: physical_network_vswitch_mappings = net1:external1,net2:external2

```
default['openstack']['network']['hyperv']['physical_network_vswitch_mappings'] = '*:external'    
```

(StrOpt) Private virtual switch name used for local networking.

Default: local_network_vswitch = private
Example: local_network_vswitch = custom_vswitch

```
default['openstack']['network']['hyperv']['local_network_vswitch'] = 'private'    
```

Firewall driver for realizing neutron security group function

```
default['openstack']['network']['hyperv']['firewall_driver'] = 'neutron.plugins.hyperv.agent.security_groups_driver.HyperVSecurityGroupsDriver'    
```

============================= Metaplugin Plugin Configuration ============
This is list of flavor:neutron_plugins
extension method is used in the order of this list

```
default['openstack']['network']['metaplugin']['plugin_list'] = 'openvswitch:neutron.plugins.openvswitch.ovs_neutron_plugin.OVSNeutronPluginV2,linuxbridge:neutron.plugins.linuxbridge.lb_neutron_plugin.LinuxBridgePluginV2'    
default['openstack']['network']['metaplugin']['l3_plugin_list'] = 'openvswitch:neutron.plugins.openvswitch.ovs_neutron_plugin.OVSNeutronPluginV2,linuxbridge:neutron.plugins.linuxbridge.lb_neutron_plugin.LinuxBridgePluginV2'    
```

Default 'flavor' for L2 and L3

```
default['openstack']['network']['metaplugin']['default_flavor'] = 'openvswitch'    
default['openstack']['network']['metaplugin']['default_l3_flavor'] = 'openvswitch'    
```

============================= Midonet Plugin Configuration ===============
MidoNet API server URI

```
default['openstack']['network']['midonet']['midonet_uri'] = 'http://localhost:8080/midonet-api'    
```

MidoNet admin username

```
default['openstack']['network']['midonet']['username'] = 'admin'    
```

MidoNet admin password

```
default['openstack']['network']['midonet']['password'] = 'passw0rd'    
```

ID of the project that MidoNet admin user belongs to

```
default['openstack']['network']['midonet']['project_id'] = '77777777-7777-7777-7777-777777777777'    
```

Virtual provider router ID

```
default['openstack']['network']['midonet']['provider_router_id'] = '00112233-0011-0011-0011-001122334455'    
```

Virtual metadata router ID

```
default['openstack']['network']['midonet']['metadata_router_id'] = 'ffeeddcc-ffee-ffee-ffee-ffeeddccbbaa'    
```

============================= NEC Plugin Configuration ===================
Do not change this parameter unless you have a good reason to.
This is the name of the OVS integration bridge. There is one per hypervisor.
The integration bridge acts as a virtual 'patch port'. All VM VIFs are
attached to this bridge and then 'patched' according to their network
connectivity.

```
default['openstack']['network']['nec']['integration_bridge'] = 'br-int'    
```

Agent's polling interval in seconds

```
default['openstack']['network']['nec']['polling_interval'] = 2    
```

Firewall driver for realizing neutron security group function

```
default['openstack']['network']['nec']['firewall_driver'] = 'neutron.agent.linux.iptables_firewall.OVSHybridIptablesFirewallDriver'    
```

Specify OpenFlow Controller Host, Port and Driver to connect.

```
default['openstack']['network']['nec']['ofc_host'] = '127.0.0.1'    
default['openstack']['network']['nec']['ofc_port'] = 8888    
```

Drivers are in neutron/plugins/nec/drivers/ .

```
default['openstack']['network']['nec']['ofc_driver'] = 'trema'    
```

PacketFilter is available when it's enabled in this configuration
and supported by the driver.

```
default['openstack']['network']['nec']['ofc_enable_packet_filter'] = 'true'    
```

============================= Nicira Plugin Configuration ================
User name for NVP controller

```
default['openstack']['network']['nicira']['nvp_user'] = 'admin'    
```

Password for NVP controller

```
default['openstack']['network']['nicira']['nvp_password'] = 'admin'    
```

Total time limit for a cluster request
(including retries across different controllers)

```
default['openstack']['network']['nicira']['req_timeout'] = 30    
```

Time before aborting a request on an unresponsive controller

```
default['openstack']['network']['nicira']['http_timeout'] = 10    
```

Maximum number of times a particular request should be retried

```
default['openstack']['network']['nicira']['retries'] = 2    
```

Maximum number of times a redirect response should be followed

```
default['openstack']['network']['nicira']['redirects'] = 2    
```

Comma-separated list of NVP controller endpoints (<ip>:<port>). When port
is omitted, 443 is assumed. This option MUST be specified, e.g.:

```
default['openstack']['network']['nicira']['nvp_controllers'] = 'xx.yy.zz.ww:443, aa.bb.cc.dd, ee.ff.gg.hh.ee:80'    
```

UUID of the pre-existing default NVP Transport zone to be used for creating
tunneled isolated 'Neutron' networks. This option MUST be specified, e.g.:

```
default['openstack']['network']['nicira']['default_tz_uuid'] = '1e8e52cf-fa7f-46b0-a14a-f99835a9cb53'    
```

(Optional) UUID of the cluster in NVP.  It can be retrieved from NVP management
console 'admin' section.

```
default['openstack']['network']['nicira']['nvp_cluster_uuid'] = '615be8e4-82e9-4fd2-b4b3-fd141e51a5a7'    
```

(Optional) UUID for the default l3 gateway service to use with this cluster.
To be specified if planning to use logical routers with external gateways.

```
default['openstack']['network']['nicira']['default_l3_gw_service_uuid'] = ''    
```

(Optional) UUID for the default l2 gateway service to use with this cluster.
To be specified for providing a predefined gateway tenant for connecting their networks.

```
default['openstack']['network']['nicira']['default_l2_gw_service_uuid'] = ''    
```

Name of the default interface name to be used on network-gateway.  This value
will be used for any device associated with a network gateway for which an
interface name was not specified

```
default['openstack']['network']['nicira']['default_iface_name'] = 'breth0'    
```

number of network gateways allowed per tenant, -1 means unlimited

```
default['openstack']['network']['nicira']['quota_network_gateway'] = 5    
```

Maximum number of ports for each bridged logical switch

```
default['openstack']['network']['nicira']['max_lp_per_bridged_ls'] = 64    
```

Maximum number of ports for each overlay (stt, gre) logical switch

```
default['openstack']['network']['nicira']['max_lp_per_overlay_ls'] = 256    
```

Number of connects to each controller node.

```
default['openstack']['network']['nicira']['concurrent_connections'] = 3    
```

Acceptable values for 'metadata_mode' are:
- 'access_network': this enables a dedicated connection to the metadata
proxy for metadata server access via Neutron router.
- 'dhcp_host_route': this enables host route injection via the dhcp agent.
This option is only useful if running on a host that does not support
namespaces otherwise access_network should be used.

```
default['openstack']['network']['nicira']['metadata_mode'] = 'access_network'    
```

============================= PLUMGrid Plugin Configuration ==============
This line should be pointing to the NOS server,
for the PLUMgrid platform. In other deployments,
this is known as controller

```
default['openstack']['network']['plumgrid']['nos_server'] = '127.0.0.1'    
default['openstack']['network']['plumgrid']['nos_server_port'] = '<nos-port>'    
```

Authentification parameters for the NOS server.
These are the admin credentials to manage and control
the NOS server.

```
default['openstack']['network']['plumgrid']['username'] = '<nos-admin-username>'    
default['openstack']['network']['plumgrid']['password'] = '<nos-admin-password>'    
default['openstack']['network']['plumgrid']['servertimeout'] = 5    
```

Name of the network topology to be deployed by NOS

```
default['openstack']['network']['plumgrid']['topologyname'] = '<nos-topology-name>'    
```

============================= Ryu Plugin Configuration ===================
Do not change this parameter unless you have a good reason to.
This is the name of the OVS integration bridge. There is one per hypervisor.
The integration bridge acts as a virtual 'patch port'. All VM VIFs are
attached to this bridge and then 'patched' according to their network
connectivity.

```
default['openstack']['network']['ryu']['integration_bridge'] = 'br-int'    
```

openflow_rest_api = <host ip="" address="" of="" ofp="" rest="" api="" service="">:&lt;port: 8080&gt;

```
default['openstack']['network']['ryu']['openflow_rest_api'] = '127.0.0.1:8080'    
```

tunnel key range: 0 &lt; tunnel_key_min &lt; tunnel_key_max
VLAN: 12bits, GRE, VXLAN: 24bits

```
default['openstack']['network']['ryu']['tunnel_key_min'] = 1    
default['openstack']['network']['ryu']['tunnel_key_max'] = '0xffffff'    
```

tunnel_ip = <ip address="" for="" tunneling="">
tunnel_interface = interface for tunneling
when tunnel_ip is NOT specified, ip address is read
from this interface

```
default['openstack']['network']['ryu']['tunnel_ip'] = ''    
default['openstack']['network']['ryu']['tunnel_interface'] = 'eth0'    
```

ovsdb_port = port number on which ovsdb is listening
ryu-agent uses this parameter to setup ovsdb.
ovs-vsctl set-manager ptcp:<ovsdb_port>
See set-manager section of man ovs-vsctl for details.
currently ptcp is only supported.
ovsdb_ip = <host ip="" address="" on="" which="" ovsdb="" is="" listening="">
ovsdb_interface = interface for ovsdb
when ovsdb_addr NOT specifiied, ip address is gotten
from this interface

```
default['openstack']['network']['ryu']['ovsdb_port'] = 6634    
default['openstack']['network']['ryu']['ovsdb_ip'] = ''    
default['openstack']['network']['ryu']['ovsdb_interface'] = 'eth0'    
```

Firewall driver for realizing neutron security group function

```
default['openstack']['network']['ryu']['firewall_driver'] = 'neutron.agent.linux.iptables_firewall.OVSHybridIptablesFirewallDriver'    
```

Agent's polling interval in seconds

```
default['openstack']['network']['ryu']['polling_interval'] = 2    
```

============================= ML2 Plugin Configuration ===================
(ListOpt) List of network type driver entrypoints to be loaded from
the neutron.ml2.type_drivers namespace.

type_drivers = local,flat,vlan,gre,vxlan
Example: type_drivers = flat,vlan,gre,vxlan

```
default['openstack']['network']['ml2']['type_drivers'] = 'local,flat,vlan,gre,vxlan'    
```

(ListOpt) Ordered list of network_types to allocate as tenant
networks. The default value 'local' is useful for single-box testing
but provides no connectivity between hosts.

tenant_network_types = local
Example: tenant_network_types = vlan,gre,vxlan

```
default['openstack']['network']['ml2']['tenant_network_types'] = 'local'    
```

(ListOpt) Ordered list of networking mechanism driver entrypoints
to be loaded from the neutron.ml2.mechanism_drivers namespace.
mechanism_drivers =
Example: mechanism_drivers = arista
Example: mechanism_drivers = cisco,logger

```
default['openstack']['network']['ml2']['mechanism_drivers'] = 'openvswitch'    
```

(ListOpt) List of physical_network names with which flat networks
can be created. Use * to allow flat networks with arbitrary
physical_network names.

flat_networks =
Example:flat_networks = physnet1,physnet2
Example:flat_networks = *

```
default['openstack']['network']['ml2']['flat_networks'] = ''    
```

(ListOpt) List of <physical_network>[:<vlan_min>:<vlan_max>] tuples
specifying physical_network names usable for VLAN provider and
tenant networks, as well as ranges of VLAN tags on each
physical_network available for allocation as tenant networks.

network_vlan_ranges =
Example: network_vlan_ranges = physnet1:1000:2999,physnet2

```
default['openstack']['network']['ml2']['network_vlan_ranges'] = ''    
```

(ListOpt) Comma-separated list of <tun_min>:<tun_max> tuples enumerating
ranges of GRE tunnel IDs that are available for tenant network allocation

```
default['openstack']['network']['ml2']['tunnel_id_ranges'] = ''    
```

(ListOpt) Comma-separated list of <vni_min>:<vni_max> tuples enumerating
ranges of VXLAN VNI IDs that are available for tenant network allocation.

```
default['openstack']['network']['ml2']['vni_ranges'] = ''    
```

(StrOpt) Multicast group for the VXLAN interface. When configured, will
enable sending all broadcast traffic to this multicast group. When left
unconfigured, will disable multicast VXLAN mode.

vxlan_group =
Example: vxlan_group = 239.1.1.1

```
default['openstack']['network']['ml2']['vxlan_group'] = ''    
```

Controls if neutron security group is enabled or not.
It should be false when you use nova security group.

```
default['openstack']['network']['ml2']['enable_security_group'] = 'True'    
```

Use ipset to speed-up the iptables security groups. Enabling ipset support
requires that ipset is installed on L2 agent node.

```
default['openstack']['network']['ml2']['enable_ipset'] = 'True'    
```

Misc option support
Allow additional strings to be added to neutron.conf
For example:  ['# Comment', 'key=value']

```
default['openstack']['network']['misc_neutron'] = []    
```

platform-specific settings

```
case platform_family    
when 'fedora', 'rhel' # :pragma-foodcritic: ~FC024 - won't fix this    
  default['openstack']['network']['platform'] = {    
    'user' =&gt; 'neutron',    
    'group' =&gt; 'neutron',    
    'nova_network_packages' =&gt; ['openstack-nova-network'],    
    'neutron_packages' =&gt; ['openstack-neutron', 'openstack-neutron-ml2', 'iproute'],    
    'neutron_client_packages' =&gt; ['python-neutronclient'],    
    'neutron_dhcp_packages' =&gt; ['openstack-neutron', 'iproute'],    
    'neutron_l3_packages' =&gt; ['openstack-neutron', 'iproute', 'radvd', 'openstack-neutron-fwaas', 'keepalived'],    
    'neutron_vpn_packages' =&gt; ['openstack-neutron-vpnaas', 'iproute'],    
    'vpn_device_driver_packages' =&gt; ['openswan'],    
    'default_config_area' =&gt; '/usr/share/strongswan/templates/config/strongswan.d',    
    'neutron_lb_packages' =&gt; ['openstack-neutron-lbaas', 'haproxy', 'iproute'],    
    'neutron_openvswitch_packages' =&gt; ['openvswitch'],    
    'neutron_openvswitch_agent_packages' =&gt; ['openstack-neutron-openvswitch', 'iproute'],    
    'neutron_linuxbridge_agent_packages' =&gt; ['openstack-neutron-linuxbridge', 'iproute'],    
    'neutron_metadata_agent_packages' =&gt; [],    
    'neutron_plugin_package' =&gt; 'openstack-neutron-%plugin%',    
    'neutron_server_packages' =&gt; [],    
    'neutron_dhcp_agent_service' =&gt; 'neutron-dhcp-agent',    
    'neutron_l3_agent_service' =&gt; 'neutron-l3-agent',    
    'neutron_vpn_agent_service' =&gt; 'neutron-vpn-agent',    
    'vpn_device_driver_services' =&gt; ['ipsec'],    
    'neutron_lb_agent_service' =&gt; 'neutron-lbaas-agent',    
    'neutron_metadata_agent_service' =&gt; 'neutron-metadata-agent',    
    'neutron_openvswitch_service' =&gt; 'openvswitch',    
    'neutron_openvswitch_agent_service' =&gt; 'neutron-openvswitch-agent',    
    'neutron_linuxbridge_agent_service' =&gt; 'neutron-linuxbridge-agent',    
    'neutron_server_service' =&gt; 'neutron-server',    
    'package_overrides' =&gt; ''    
  }    
when 'suse'    
  default['openstack']['network']['platform'] = {    
    'user' =&gt; 'openstack-neutron',    
    'group' =&gt; 'openstack-neutron',    
    'nova_network_packages' =&gt; ['openstack-nova-network'],    
    'neutron_packages' =&gt; ['openstack-neutron'],    
    'neutron_client_packages' =&gt; ['python-neutronclient'],    
    'neutron_dhcp_packages' =&gt; ['openstack-neutron-dhcp-agent'],    
    'neutron_l3_packages' =&gt; ['openstack-neutron-l3-agent', 'radvd', 'keepalived'],    
    'neutron_vpn_packages' =&gt; ['openstack-neutron-vpn-agent'],    
    'vpn_device_driver_packages' =&gt; ['openswan'],    
    'default_config_area' =&gt; '/etc/strongswan.d',    
    'neutron_lb_packages' =&gt; ['openstack-neutron-lbaas-agent'],    
    # plugins are installed by the main openstack-neutron package on SUSE    
    'neutron_plugin_package' =&gt; '',    
    'neutron_metadata_agent_packages' =&gt; ['openstack-neutron-metadata-agent'],    
    'neutron_openvswitch_packages' =&gt; ['openvswitch-switch'],    
    'neutron_openvswitch_agent_packages' =&gt; ['openstack-neutron-openvswitch-agent'],    
    'neutron_linuxbridge_agent_packages' =&gt; ['openstack-neutron-linuxbridge-agent'],    
    'neutron_metadata_agent_packages' =&gt; ['openstack-neutron-metadata-agent'],    
    'neutron_server_packages' =&gt; [],    
    'neutron_dhcp_agent_service' =&gt; 'openstack-neutron-dhcp-agent',    
    'neutron_l3_agent_service' =&gt; 'openstack-neutron-l3-agent',    
    'neutron_vpn_agent_service' =&gt; 'openstack-neutron-vpn-agent',    
    'vpn_device_driver_services' =&gt; ['ipsec'],    
    'neutron_lb_agent_service' =&gt; 'openstack-neutron-lbaas-agent',    
    'neutron_metadata_agent_service' =&gt; 'openstack-neutron-metadata-agent',    
    'neutron_openvswitch_service' =&gt; 'openvswitch-switch',    
    'neutron_openvswitch_agent_service' =&gt; 'openstack-neutron-openvswitch-agent',    
    'neutron_linuxbridge_agent_service' =&gt; 'openstack-neutron-linuxbridge-agent',    
    'neutron_server_service' =&gt; 'openstack-neutron',    
    'package_overrides' =&gt; ''    
  }    
when 'debian'    
  default['openstack']['network']['platform'] = {    
    'user' =&gt; 'neutron',    
    'group' =&gt; 'neutron',    
    'nova_network_packages' =&gt; ['nova-network'],    
    'neutron_packages' =&gt; ['neutron-common', 'python-pyparsing', 'python-cliff'],    
    'neutron_client_packages' =&gt; ['python-neutronclient', 'python-pyparsing'],    
    'neutron_dhcp_packages' =&gt; ['neutron-dhcp-agent'],    
    'neutron_l3_packages' =&gt; ['neutron-l3-agent', 'radvd', 'python-neutron-fwaas', 'keepalived'],    
    'neutron_vpn_packages' =&gt; ['python-neutron-vpnaas', 'neutron-vpn-agent'],    
    'vpn_device_driver_packages' =&gt; ['openswan'],    
    'default_config_area' =&gt; '/etc/strongswan.d',    
    'neutron_lb_packages' =&gt; ['python-neutron-lbaas', 'neutron-lbaas-agent', 'haproxy'],    
    'neutron_openvswitch_packages' =&gt; ['openvswitch-switch', 'openvswitch-datapath-dkms', 'bridge-utils'],    
    'neutron_openvswitch_build_packages' =&gt; %w(build-essential pkg-config fakeroot libssl-dev openssl debhelper autoconf dkms python-all python-qt4 python-zopeinterface python-twisted-conch),    
    'neutron_openvswitch_agent_packages' =&gt; ['neutron-plugin-openvswitch', 'neutron-plugin-openvswitch-agent'],    
    'neutron_linuxbridge_agent_packages' =&gt; ['neutron-plugin-linuxbridge', 'neutron-plugin-linuxbridge-agent'],    
    'neutron_metadata_agent_packages' =&gt; ['neutron-metadata-agent'],    
    'neutron_plugin_package' =&gt; 'neutron-plugin-%plugin%',    
    'neutron_server_packages' =&gt; ['neutron-server'],    
    'neutron_dhcp_agent_service' =&gt; 'neutron-dhcp-agent',    
    'neutron_l3_agent_service' =&gt; 'neutron-l3-agent',    
    'neutron_vpn_agent_service' =&gt; 'neutron-vpn-agent',    
    'vpn_device_driver_services' =&gt; ['ipsec'],    
    'neutron_lb_agent_service' =&gt; 'neutron-lbaas-agent',    
    'neutron_metadata_agent_service' =&gt; 'neutron-metadata-agent',    
    'neutron_openvswitch_service' =&gt; 'openvswitch-switch',    
    'neutron_openvswitch_agent_service' =&gt; 'neutron-plugin-openvswitch-agent',    
    'neutron_linuxbridge_agent_service' =&gt; 'neutron-plugin-linuxbridge-agent',    
    'neutron_server_service' =&gt; 'neutron-server',    
    'package_overrides' =&gt; "-o Dpkg::Options::='--force-confold' -o Dpkg::Options::='--force-confdef'"    
  }    
end    
```



***

## cookbook-openstack-object-storage_attributes_default

[back to top](#contents)


```
default['openstack']['object-storage']['service_tenant_name'] = 'service'    
default['openstack']['object-storage']['service_user'] = 'swift'    
default['openstack']['object-storage']['service_role'] = 'service'    
```

Default swift user

```
default['openstack']['object-storage']['user'] = 'swift'    
# Default swift group    
default['openstack']['object-storage']['group'] = 'swift'    
# Default region    
default['openstack']['object-storage']['region'] = node['openstack']['region']    
```

Set to some text value if you want templated config files
to contain a custom banner at the top of the written file

```
default['openstack']['object-storage']['custom_template_banner'] = "    
# This file autogenerated by Chef    
# Do not edit, changes will be overwritten    
"    
```

--------------------
node/ring settings
--------------------

```
default['openstack']['object-storage']['state'] = {}    
# Hour to run swift_auditor on storage nodes    
default['openstack']['object-storage']['audit_hour'] = '5'    
#  Eval-able expression that lists    
#   candidate disk nodes for disk probing.  The result should be a hash    
#   with keys being the device name (without the leading "/dev/") and a    
#   hash block of any extra info associated with the device.  For    
#   example: { "sdc" =&gt; { "model": "Hitachi 7K3000" }}.  Largely,    
#   though, if you are going to make a list of valid devices, you    
#   probably know all the valid devices, and don't need to pass any    
#   metadata about them, so { "sdc" =&gt; {}} is probably enough.  Example    
#   expression: Hash[('a'..'f').to_a.collect{|x| [ "sd{x}", {} ]}]    
default['openstack']['object-storage']['disk_enum_expr'] = 'node[:block_device]'    
# Flag to rebuild rings    
default['openstack']['object-storage']['auto_rebuild_rings'] = false    
# ip for git builder    
default['openstack']['object-storage']['git_builder_ip'] = '127.0.0.1'    
# How many server changes require before a rebalance is done    
default['openstack']['object-storage']['wait_for'] = 1    
```

swift_hash_path_suffix and swift_hash_path_prefix are used as part of the
the hashing algorithm when determining data placement in the cluster.
These values should remain secret and MUST NOT change
once a cluster has been deployed.
Deprecated in juno, use swift_hash_path_prefix

```
default['openstack']['object-storage']['swift_hash'] = nil    
# A value of nil will get the hash from the get_password library method in common    
default['openstack']['object-storage']['swift_hash_path_prefix'] = node['openstack']['object-storage']['swift_hash']    
default['openstack']['object-storage']['swift_hash_path_suffix'] = nil    
```

The swift-constraints section sets the basic constraints on data
saved in the swift cluster. These constraints are automatically
published by the proxy server in responses to /info requests.
max_file_size is the largest "normal" object that can be saved in
the cluster. This is also the limit on the size of each segment of
a "large" object when using the large object manifest support.
This value is set in bytes. Setting it to lower than 1MiB will cause
some tests to fail. It is STRONGLY recommended to leave this value at
the default (5 * 2**30 + 2).

```
default['openstack']['object-storage']['max_file_size'] = 5368709122    
# max_meta_name_length is the max number of bytes in the utf8 encoding    
# of the name portion of a metadata header.    
default['openstack']['object-storage']['max_meta_name_length'] = 128    
# max_meta_value_length is the max number of bytes in the utf8 encoding    
# of a metadata value    
default['openstack']['object-storage']['max_meta_value_length'] = 256    
# max_meta_count is the max number of metadata keys that can be stored    
# on a single account, container, or object    
default['openstack']['object-storage']['max_meta_count'] = 90    
# max_meta_overall_size is the max number of bytes in the utf8 encoding    
# of the metadata (keys + values)    
default['openstack']['object-storage']['max_meta_overall_size'] = 4096    
# max_header_size is the max number of bytes in the utf8 encoding of each    
# header. Using 8192 as default because eventlet use 8192 as max size of    
# header line. This value may need to be increased when using identity    
# v3 API tokens including more than 7 catalog entries.    
# See also include_service_catalog in proxy-server.conf-sample    
# (documented in overview_auth.rst)    
default['openstack']['object-storage']['max_header_size'] = 8192    
# max_object_name_length is the max number of bytes in the utf8 encoding    
# of an object name    
default['openstack']['object-storage']['max_object_name_length'] = 1024    
# container_listing_limit is the default (and max) number of items    
# returned for a container listing request    
default['openstack']['object-storage']['container_listing_limit'] = 10000    
# account_listing_limit is the default (and max) number of items returned    
# for an account listing request    
default['openstack']['object-storage']['account_listing_limit'] = 10000    
# max_account_name_length is the max number of bytes in the utf8 encoding    
# of an account name    
default['openstack']['object-storage']['max_account_name_length'] = 256    
# max_container_name_length is the max number of bytes in the utf8 encoding    
# of a container name    
default['openstack']['object-storage']['max_container_name_length'] = 256    
```

Use the openstack-common cookbook databags with the
following keys:
secret tokens
"swift_hash_path_prefix"
"swift_hash_path_suffix"
"swift_authkey"
"dispersion_auth_key"
"dispersion_auth_user"
The follow swift specific databag support is DEPRECATED.
we support an optional secret databag where we will retrieve the
following attributes overriding any default attributes here

{
"swift_hash": "107c0568ea84"
"swift_authkey": "keW4all"
"dispersion_auth_user": "test:test",
"dispersion_auth_key": "test"
}

```
default['openstack']['object-storage']['swift_secret_databag_name'] = nil    
```

--------------------
roles
--------------------

```
default['openstack']['object-storage']['setup_chef_role']             = 'os-object-storage-setup'    
default['openstack']['object-storage']['management_server_chef_role'] = 'os-object-storage-management'    
default['openstack']['object-storage']['proxy_server_chef_role']      = 'os-object-storage-proxy'    
default['openstack']['object-storage']['object_server_chef_role']     = 'os-object-storage-object'    
default['openstack']['object-storage']['account_server_chef_role']    = 'os-object-storage-account'    
default['openstack']['object-storage']['container_server_chef_role']  = 'os-object-storage-container'    
```

--------------------
authentication
--------------------
Authenitcation mode, either keystone or swauth

```
default['openstack']['object-storage']['authmode']              = 'keystone'    
default['openstack']['object-storage']['authkey']               = nil    
default['openstack']['object-storage']['swift_url']             = 'http://127.0.0.1:8080/v1/'    
default['openstack']['object-storage']['swauth_url']            = 'http://127.0.0.1:8080/v1/'    
default['openstack']['object-storage']['auth_url']              = 'http://127.0.0.1:8080/auth/v1.0'    
# Keystone version    
default['openstack']['object-storage']['api']['auth']['version'] = node['openstack']['api']['auth']['version']    
# Keystone PKI signing directory    
default['openstack']['object-storage']['api']['auth']['cache_dir'] = '/var/cache/swift/api'    
```

---------------------
dispersion settings
---------------------

```
default['openstack']['object-storage']['dispersion']['auth_user'] = nil    
default['openstack']['object-storage']['dispersion']['auth_key'] = nil    
```

settings for the swift ring - these default settings are
a safe setting for testing but part_power should be set to
26 in production to allow a swift cluster with 50,000 spindles

```
default['openstack']['object-storage']['ring']['part_power'] = 18    
# The minimum number of hours before swift is allowed to migrate a partition    
default['openstack']['object-storage']['ring']['min_part_hours'] = 1    
# How many replicas swift should retain    
default['openstack']['object-storage']['ring']['replicas'] = 3    
# Zone, will look like "z1" on swift-ring-builder command line    
default['openstack']['object-storage']['ring']['zone'] = '1'    
# Region, will look like "r1" on swift-ring-builder command line    
default['openstack']['object-storage']['ring']['region'] = '1'    
```

------------------
statistics
------------------
Current statsd cookbook is not supported on rhel platforms

```
default['openstack']['object-storage']['statistics']['enabled'] = platform_family?('debian')    
default['openstack']['object-storage']['statistics']['sample_rate'] = 1    
```

there are two ways to discover your graphite server ip for
statsd to periodically publish to.  You can directly set
the ip below, or leave it set to nil and supply chef with
the role name of your graphite server and the interface
name to retrieve the appropriate internal ip address from

if no servers with the role below can be found then
127.0.0.1 will be used

```
default['openstack']['object-storage']['statistics']['graphing_ip']  = nil    
default['openstack']['object-storage']['statistics']['graphing_role'] = 'graphite-role'    
default['openstack']['object-storage']['statistics']['graphing_interface'] = 'eth0'    
```

how frequently to run chef instantiated /usr/local/bin/swift_statsd_publish.py
which publishes dispersion and recon statistics (in minutes)

```
default['openstack']['object-storage']['statistics']['report_frequency'] = 15    
```

enable or disable specific portions of generated report

```
default['openstack']['object-storage']['statistics']['enable_dispersion_report'] = true    
default['openstack']['object-storage']['statistics']['enable_recon_report'] = true    
default['openstack']['object-storage']['statistics']['enable_disk_report'] = true    
```

settings for statsd which should be configured to use the local
statsd daemon that chef will install if statistics are enabled

```
default['openstack']['object-storage']['statistics']['statsd_host'] = '127.0.0.1'    
default['openstack']['object-storage']['statistics']['statsd_port'] = '8125'    
default['openstack']['object-storage']['statistics']['statsd_prefix'] = 'openstack.swift'    
```

paths to the recon cache files

```
default['openstack']['object-storage']['statistics']['recon_account_cache'] = '/var/cache/swift/account.recon'    
default['openstack']['object-storage']['statistics']['recon_container_cache'] = '/var/cache/swift/container.recon'    
default['openstack']['object-storage']['statistics']['recon_object_cache'] = '/var/cache/swift/object.recon'    
```

------------------
network settings
------------------
the cidr configuration items are unimportant for a single server
configuration, but in a multi-server setup, the cidr should match
the interface appropriate to that service as they are used to
resolve the appropriate addresses to use for internode
communication
Deprecated in Juno, use Common attributes instead
proxy servers

```
default['openstack']['object-storage']['network']['proxy-bind-ip']            = nil    
default['openstack']['object-storage']['network']['proxy-bind-port']          = nil    
default['openstack']['object-storage']['network']['proxy-cidr']               = '127.0.0.0/8'    
```

account servers

```
default['openstack']['object-storage']['network']['account-bind-ip']          = '0.0.0.0'    
default['openstack']['object-storage']['network']['account-bind-port']        = '6002'    
```

container servers

```
default['openstack']['object-storage']['network']['container-bind-ip']        = '0.0.0.0'    
default['openstack']['object-storage']['network']['container-bind-port']      = '6001'    
```

object servers

```
default['openstack']['object-storage']['network']['object-bind-ip']           = '0.0.0.0'    
default['openstack']['object-storage']['network']['object-bind-port']         = '6000'    
default['openstack']['object-storage']['network']['object-cidr']              = '127.0.0.0/8'    
```

------------------
sysctl
------------------
set sysctl properties for time waits

```
default['openstack']['sysctl']['net.ipv4.tcp_tw_recycle'] = 1    
default['openstack']['sysctl']['net.ipv4.tcp_tw_reuse'] = 1    
default['openstack']['sysctl']['net.ipv4.tcp_syncookies'] = 0    
```

N.B. conntrack_max may also need to be adjusted if
server is running a stateful firewall
------------------
disk search
------------------
disk_test_filter is an array of predicates to test against disks to
determine if a disk should be formatted and configured for swift.
Each predicate is evaluated in turn, and a false from the predicate
will result in the disk not being considered as a candidate for
formatting.
Each rule gets evaluated with "candidate" set to the device name
without the leading "/dev/") and info set to the node hash value.

```
default['openstack']['object-storage']['disk_test_filter'] = [    
  'candidate =~ /(sd|hd|xvd|vd)(?!a$)[a-z]+/',    
  "File.exist?('/dev/' + candidate)",    
  "not system('/sbin/parted /dev/' + candidate + ' -s print | grep linux-swap')",    
  "not info.has_key?('removable') or info['removable'] == 0.to_s"]    
```

-------------------
template overrides
-------------------
account-server
Use an integer to override the number of pre-forked processes that will
accept connections.  Zero means no fork. Should default to the number of
effective cpu cores in the system.  It's worth noting that individual
workers will # use many eventlet co-routines to service multiple concurrent
requests.

```
default['openstack']['object-storage']['account-server']['workers'] = 'auto'    
```

Maximum number of clients one worker can process simultaneously (it will
actually accept(2) N + 1). Setting this to one (1) will only handle one request
at a time, without accepting another request concurrently.  The default is 1024.

```
default['openstack']['object-storage']['account-server']['max_clients'] = 1024    
```

Parent directory or where devices are mounted. Default is /srv/node

```
default['openstack']['object-storage']['account-server']['devices'] = '/srv/node'    
```

Whether or not check if the devices are mounted to prevent accidentally writing to
the root device. The default is set to true.

```
default['openstack']['object-storage']['account-server']['mount_check'] = true    
```

proxy-server
Use an integer to override the number of pre-forked processes that will
accept connections.  Zero means no fork. Should default to the number of
effective cpu cores in the system.  It's worth noting that individual
workers will # use many eventlet co-routines to service multiple concurrent
requests.

```
default['openstack']['object-storage']['proxy-server']['workers'] = 'auto'    
```

Maximum number of clients one worker can process simultaneously (it will
actually accept(2) N + 1). Setting this to one (1) will only handle one request
at a time, without accepting another request concurrently.  The default is 1024.

```
default['openstack']['object-storage']['proxy-server']['max_clients'] = 1024    
```

Request timeout to external services. The default is 10 seconds.

```
default['openstack']['object-storage']['proxy-server']['node_timeout'] = 10    
```

enable or disable formpost

```
default['openstack']['object-storage']['formpost']['enabled'] = false    
```

enable or disable tempurl

```
default['openstack']['object-storage']['tempurl']['enabled'] = false    
```

The headers to remove from incoming requests. Simply a whitespace delimited
list of header names and names can optionally end with '*' to indicate a
prefix match. incoming_allow_headers is a list of exceptions to these
removals.

```
default['openstack']['object-storage']['tempurl']['incoming_remove_headers'] = 'x-timestamp'    
```

The headers allowed as exceptions to incoming_remove_headers. Simply a
whitespace delimited list of header names and names can optionally end with
'*' to indicate a prefix match.

```
default['openstack']['object-storage']['tempurl']['incoming_allow_headers'] = ''    
```

The headers to remove from outgoing responses. Simply a whitespace delimited
list of header names and names can optionally end with '*' to indicate a
prefix match. outgoing_allow_headers is a list of exceptions to these
removals.

```
default['openstack']['object-storage']['tempurl']['outgoing_remove_headers'] = 'x-object-meta-*'    
```

The headers allowed as exceptions to outgoing_remove_headers. Simply a
whitespace delimited list of header names and names can optionally end with
'*' to indicate a prefix match.

```
default['openstack']['object-storage']['tempurl']['outgoing_allow_headers'] = 'x-object-meta-public-*'    
```

enable or disable domain_remap

```
default['openstack']['object-storage']['domain_remap']['enabled'] = false    
```

enable domain log name

```
default['openstack']['object-storage']['domain_remap']['log_name'] = 'domain_remap'    
```

domain remap log facilty

```
default['openstack']['object-storage']['domain_remap']['log_facility'] = 'LOG_LOCAL0'    
```

domain remap log level

```
default['openstack']['object-storage']['domain_remap']['log_level'] = 'INFO'    
```

domain remap log headers

```
default['openstack']['object-storage']['domain_remap']['log_headers'] = 'False'    
```

domain remap reseller domain

```
default['openstack']['object-storage']['domain_remap']['storage_domain'] = 'example.com'    
```

domain remap root path

```
default['openstack']['object-storage']['domain_remap']['path_root'] = 'v1'    
```

domain remap reseller prefixes

```
default['openstack']['object-storage']['domain_remap']['reseller_prefixes'] = 'AUTH'    
```

whether or not to enable staticweb in the swift proxy

```
default['openstack']['object-storage']['staticweb']['enabled'] = false    
```

Seconds to cache container x-container-meta-web-* header values.

```
default['openstack']['object-storage']['staticweb']['cache_timeout'] = 300    
```

staticweb logging options

```
default['openstack']['object-storage']['staticweb']['log_facility'] = 'LOG_LOCAL0'    
default['openstack']['object-storage']['staticweb']['log_level'] = 'INFO'    
default['openstack']['object-storage']['staticweb']['access_log_name'] = 'staticweb'    
default['openstack']['object-storage']['staticweb']['access_log_facility'] = 'LOG_LOCAL0'    
default['openstack']['object-storage']['staticweb']['access_log_level'] = 'INFO'    
default['openstack']['object-storage']['staticweb']['log_headers'] = 'False'    
```

container-server
Use an integer to override the number of pre-forked processes that will
accept connections.  Zero means no fork. Should default to the number of
effective cpu cores in the system.  It's worth noting that individual
workers will # use many eventlet co-routines to service multiple concurrent
requests.

```
default['openstack']['object-storage']['container-server']['workers'] = 'auto'    
```

Maximum number of clients one worker can process simultaneously (it will
actually accept(2) N + 1). Setting this to one (1) will only handle one request
at a time, without accepting another request concurrently.  The default is 1024.

```
default['openstack']['object-storage']['container-server']['max_clients'] = 1024    
```

Parent directory or where devices are mounted. Default is /srv/node

```
default['openstack']['object-storage']['container-server']['devices'] = '/srv/node'    
```

Whether or not check if the devices are mounted to prevent accidentally writing to
the root device. The default is set to true.

```
default['openstack']['object-storage']['container-server']['mount_check'] = true    
```

Override this with an allowed list of your various swift clusters if you wish
to enable container sync for your end-users between clusters.  This should
be an array of fqdn hostnames for the cluster end-points that your end-users
would access in the format of ['host1', 'host2', 'host3']

```
default['openstack']['object-storage']['container-server']['allowed_sync_hosts'] = []    
```

container-sync logging settings

```
default['openstack']['object-storage']['container-server']['container-sync']['log_name'] = 'container-sync'    
default['openstack']['object-storage']['container-server']['container-sync']['log_facility'] = 'LOG_LOCAL0'    
default['openstack']['object-storage']['container-server']['container-sync']['log_level'] = 'INFO'    
```

If you need to use an HTTP Proxy, set it here; defaults to no proxy.

```
default['openstack']['object-storage']['container-server']['container-sync']['sync_proxy'] = nil    
```

Will sync, at most, each container once per interval (in seconds)

```
default['openstack']['object-storage']['container-server']['container-sync']['interval'] = 300    
```

Maximum amount of time to spend syncing each container per pass (in seconds)

```
default['openstack']['object-storage']['container-server']['container-sync']['container_time'] = 60    
```

object-server
Use an integer to override the number of pre-forked processes that will
accept connections.  Zero means no fork. Should default to the number of
effective cpu cores in the system.  It's worth noting that individual
workers will # use many eventlet co-routines to service multiple concurrent
requests.

```
default['openstack']['object-storage']['object-server']['workers'] = 'auto'    
```

Maximum number of clients one worker can process simultaneously (it will
actually accept(2) N + 1). Setting this to one (1) will only handle one request
at a time, without accepting another request concurrently.  The default is 1024.

```
default['openstack']['object-storage']['object-server']['max_clients'] = 1024    
```

Parent directory or where devices are mounted. Default is /srv/node

```
default['openstack']['object-storage']['object-server']['devices'] = '/srv/node'    
```

Whether or not check if the devices are mounted to prevent accidentally writing to
the root device. The default is set to true.

```
default['openstack']['object-storage']['object-server']['mount_check'] = true    
```

Time in seconds to wait between replication passes. The default is 30.

```
default['openstack']['object-storage']['object-server']['replicator']['run_pause'] = 30    
```

Time elapsed in seconds before an object can be reclaimed. The default is
604800 seconds.

```
default['openstack']['object-storage']['object-server']['replicator']['reclaim_age'] = 604800    
```

------------------
swauth source
-----------------
Versions of swauth in Ubuntu Cloud Archive PPA can be outdated. This
allows us to chose to install directly from a tagged branch of
gholt's repository.
values:  package, git

```
default['openstack']['object-storage']['swauth_source'] = 'package'    
default['openstack']['object-storage']['swauth_repository'] = 'https://github.com/gholt/swauth.git'    
default['openstack']['object-storage']['swauth_version'] = '1.0.8'    
```

------------------
packages
------------------
Leveling between distros

```
case platform_family    
when 'rhel'    
  default['openstack']['object-storage']['platform'] = {    
    'disk_format' =&gt; 'ext4',    
    'proxy_packages' =&gt; %w(openstack-swift-proxy sudo cronie python-memcached),    
    'object_packages' =&gt; ['openstack-swift-object', 'sudo', 'cronie'],    
    'container_packages' =&gt; ['openstack-swift-container', 'sudo', 'cronie'],    
    'account_packages' =&gt; ['openstack-swift-account', 'sudo', 'cronie'],    
    'swift_packages' =&gt; ['openstack-swift', 'sudo', 'cronie'],    
    'swift_client_packages' =&gt; ['python-swiftclient'],    
    'swauth_packages' =&gt; ['openstack-swauth', 'sudo', 'cronie'],    
    'rsync_packages' =&gt; ['rsync'],    
    'git_packages' =&gt; ['xinetd', 'git', 'git-daemon'],    
    'service_prefix' =&gt; 'openstack-',    
    'service_suffix' =&gt; '',    
    'git_dir' =&gt; '/var/lib/git',    
    'git_service' =&gt; 'git',    
    'override_options' =&gt; '',    
    'swift_statsd_publish' =&gt; '/usr/bin/swift-statsd-publish.py'    
  }    
when 'debian'    
  default['openstack']['object-storage']['platform'] = {    
    'disk_format' =&gt; 'xfs',    
    'proxy_packages' =&gt; ['swift-proxy', 'python-memcache'],    
    'object_packages' =&gt; ['swift-object'],    
    'container_packages' =&gt; ['swift-container'],    
    'account_packages' =&gt; ['swift-account', 'python-swiftclient'],    
    'swift_packages' =&gt; ['swift'],    
    'swift_client_packages' =&gt; ['python-swiftclient'],    
    'swauth_packages' =&gt; ['swauth'],    
    'rsync_packages' =&gt; ['rsync'],    
    'git_packages' =&gt; ['git-daemon-sysvinit'],    
    'service_prefix' =&gt; '',    
    'service_suffix' =&gt; '',    
    'git_dir' =&gt; '/var/cache/git',    
    'git_service' =&gt; 'git-daemon',    
    'override_options' =&gt; "-o Dpkg::Options:='--force-confold' -o Dpkg::Option:='--force-confdef'",    
    'swift_statsd_publish' =&gt; '/usr/local/bin/swift-statsd-publish.py'    
  }    
end    
```



***

## cookbook-openstack-ops-database_attributes_default

[back to top](#contents)

Set to some text value if you want templated config files
to contain a custom banner at the top of the written file

```
default['openstack']['db']['custom_template_banner'] = '    
# This file autogenerated by Chef    
# Do not edit, changes will be overwritten    
'    
```



***

## cookbook-openstack-ops-database_attributes_mysql

[back to top](#contents)

MySql attributes that we use the mysql cookbook defaults:
Data directory

```
default['openstack']['mysql']['data_dir'] = nil    
```

MySql attributes that we select defaults for:
Version, support 5.5 and above

```
default['openstack']['mysql']['version'] = '5.5'    
# Service name    
default['openstack']['mysql']['service_name'] = 'default'    
# Storage engine, base OpenStack requires the InnoDB flavor    
default['openstack']['mysql']['default-storage-engine'] = 'InnoDB'    
# InnoDB lock mode for generating auto-increment values    
default['openstack']['mysql']['innodb_autoinc_lock_mode'] = '1'    
# InnoDB give each table its own file    
default['openstack']['mysql']['innodb_file_per_table'] = 'OFF'    
# InnoDB thread concurrency    
default['openstack']['mysql']['innodb_thread_concurrency'] = '0'    
# InnoDB commit concurrency    
default['openstack']['mysql']['innodb_commit_concurrency'] = '0'    
# InnoDB number of read io threads    
default['openstack']['mysql']['innodb_read_io_threads'] = '4'    
# InnoDB number of commit transactions to flush log    
default['openstack']['mysql']['innodb_flush_log_at_trx_commit'] = '1'    
# InnoDB memory buffer for caching table data and indexes    
default['openstack']['mysql']['innodb_buffer_pool_size'] = '134217728'    
# InnoDB size of each log file in a log group    
default['openstack']['mysql']['innodb_log_file_size'] = '5242880'    
# InnoDB size of buffer for logs    
default['openstack']['mysql']['innodb_log_buffer_size'] = '8388608'    
# Skip name resolution    
default['openstack']['mysql']['skip-name-resolve'] = false    
# Character set    
default['openstack']['mysql']['character-set-server'] = 'latin1'    
# Memory allocated for caching query results    
default['openstack']['mysql']['query_cache_size'] = '0'    
# Maximum number of connections    
default['openstack']['mysql']['max_connections'] = '151'    
```



***

## cookbook-openstack-ops-messaging_attributes_default

[back to top](#contents)


```
default['openstack']['mq']['cluster'] = false    
```

Allow cluster_disk_nodes to be optionally set based upon a node role search.
If set to false, mq cluster nodes can be added on-the-fly using the cluster command.
see https://www.rabbitmq.com/clustering.html

```
default['openstack']['mq']['search_for_cluster_disk_nodes'] = true    
```


```
if platform_family?('debian', 'suse')    
  override['rabbitmq']['use_distro_version'] = true    
end    
```



***

## cookbook-openstack-orchestration_attributes_default

[back to top](#contents)

Set to some text value if you want templated config files
to contain a custom banner at the top of the written file

```
default['openstack']['orchestration']['custom_template_banner'] = '    
# This file autogenerated by Chef    
# Do not edit, changes will be overwritten    
'    
```


```
default['openstack']['orchestration']['verbose'] = 'False'    
default['openstack']['orchestration']['debug'] = 'False'    
default['openstack']['orchestration']['log_dir'] = '/var/log/heat'    
# This is the name of the Chef role that will install the Keystone Service API    
default['openstack']['orchestration']['identity_service_chef_role'] = 'os-identity'    
```

Number of heat-engine processes to fork and run.

```
default['openstack']['orchestration']['num_engine_workers'] = nil    
# Number of workers for Heat api service.    
default['openstack']['orchestration']['api']['workers'] = 0    
# Number of workers for Heat api cfn service.    
default['openstack']['orchestration']['api_cfn']['workers'] = 0    
# Number of workers for Heat api cloudwatch service.    
default['openstack']['orchestration']['api_cloudwatch']['workers'] = 0    
```

Gets set in the Heat Endpoint when registering with Keystone

```
default['openstack']['orchestration']['region'] = node['openstack']['region']    
```

The name of the Chef role that knows about the message queue server
that Heat uses

```
default['openstack']['orchestration']['rabbit_server_chef_role'] = 'os-ops-messaging'    
```


```
default['openstack']['orchestration']['service_tenant_name'] = 'service'    
default['openstack']['orchestration']['service_user'] = 'heat'    
default['openstack']['orchestration']['service_role'] = 'service'    
```


```
default['openstack']['orchestration']['api']['auth']['version'] = node['openstack']['api']['auth']['version']    
```

A PEM encoded Certificate Authority to use for clients when verifying HTTPs connections.

```
default['openstack']['orchestration']['clients']['ca_file'] = nil    
# Cert file to use for clients when verifying HTTPs connections.    
default['openstack']['orchestration']['clients']['cert_file'] = nil    
# Private key file to use for clients when verifying HTTPs connections.    
default['openstack']['orchestration']['clients']['key_file'] = nil    
# Whether to allow insecure SSL (https) requests when calling clients.    
default['openstack']['orchestration']['clients']['insecure'] = false    
```

A PEM encoded Certificate Authority to use for clients_ceilometer when verifying HTTPs connections.

```
default['openstack']['orchestration']['clients_ceilometer']['ca_file'] = node['openstack']['orchestration']['clients']['ca_file']    
# Cert file to use for clients_ceilometer when verifying HTTPs connections.    
default['openstack']['orchestration']['clients_ceilometer']['cert_file'] = node['openstack']['orchestration']['clients']['cert_file']    
# Private key file to use for clients_ceilometer when verifying HTTPs connections.    
default['openstack']['orchestration']['clients_ceilometer']['key_file'] = node['openstack']['orchestration']['clients']['key_file']    
# Whether to allow insecure SSL (https) requests when calling clients_ceilometer.    
default['openstack']['orchestration']['clients_ceilometer']['insecure'] = node['openstack']['orchestration']['clients']['insecure']    
```

A PEM encoded Certificate Authority to use for clients_cinder when verifying HTTPs connections.

```
default['openstack']['orchestration']['clients_cinder']['ca_file'] = node['openstack']['orchestration']['clients']['ca_file']    
# Cert file to use for clients_cinder when verifying HTTPs connections.    
default['openstack']['orchestration']['clients_cinder']['cert_file'] = node['openstack']['orchestration']['clients']['cert_file']    
# Private key file to use for clients_cinder when verifying HTTPs connections.    
default['openstack']['orchestration']['clients_cinder']['key_file'] = node['openstack']['orchestration']['clients']['key_file']    
# Whether to allow insecure SSL (https) requests when calling clients_cinder.    
default['openstack']['orchestration']['clients_cinder']['insecure'] = node['openstack']['orchestration']['clients']['insecure']    
```

A PEM encoded Certificate Authority to use for clients_glance when verifying HTTPs connections.

```
default['openstack']['orchestration']['clients_glance']['ca_file'] = node['openstack']['orchestration']['clients']['ca_file']    
# Cert file to use for clients_glance when verifying HTTPs connections.    
default['openstack']['orchestration']['clients_glance']['cert_file'] = node['openstack']['orchestration']['clients']['cert_file']    
# Private key file to use for clients_glance when verifying HTTPs connections.    
default['openstack']['orchestration']['clients_glance']['key_file'] = node['openstack']['orchestration']['clients']['key_file']    
# Whether to allow insecure SSL (https) requests when calling clients_glance.    
default['openstack']['orchestration']['clients_glance']['insecure'] = node['openstack']['orchestration']['clients']['insecure']    
```

A PEM encoded Certificate Authority to use for clients_heat when verifying HTTPs connections.

```
default['openstack']['orchestration']['clients_heat']['ca_file'] = node['openstack']['orchestration']['clients']['ca_file']    
# Cert file to use for clients_heat when verifying HTTPs connections.    
default['openstack']['orchestration']['clients_heat']['cert_file'] = node['openstack']['orchestration']['clients']['cert_file']    
# Private key file to use for clients_heat when verifying HTTPs connections.    
default['openstack']['orchestration']['clients_heat']['key_file'] = node['openstack']['orchestration']['clients']['key_file']    
# Whether to allow insecure SSL (https) requests when calling clients_heat.    
default['openstack']['orchestration']['clients_heat']['insecure'] = node['openstack']['orchestration']['clients']['insecure']    
```

A PEM encoded Certificate Authority to use for clients_keystone when verifying HTTPs connections.

```
default['openstack']['orchestration']['clients_keystone']['ca_file'] = node['openstack']['orchestration']['clients']['ca_file']    
# Cert file to use for clients_keystone when verifying HTTPs connections.    
default['openstack']['orchestration']['clients_keystone']['cert_file'] = node['openstack']['orchestration']['clients']['cert_file']    
# Private key file to use for clients_keystone when verifying HTTPs connections.    
default['openstack']['orchestration']['clients_keystone']['key_file'] = node['openstack']['orchestration']['clients']['key_file']    
# Whether to allow insecure SSL (https) requests when calling clients_keystone.    
default['openstack']['orchestration']['clients_keystone']['insecure'] = node['openstack']['orchestration']['clients']['insecure']    
```

A PEM encoded Certificate Authority to use for clients_neutron when verifying HTTPs connections.

```
default['openstack']['orchestration']['clients_neutron']['ca_file'] = node['openstack']['orchestration']['clients']['ca_file']    
# Cert file to use for clients_neutron when verifying HTTPs connections.    
default['openstack']['orchestration']['clients_neutron']['cert_file'] = node['openstack']['orchestration']['clients']['cert_file']    
# Private key file to use for clients_neutron when verifying HTTPs connections.    
default['openstack']['orchestration']['clients_neutron']['key_file'] = node['openstack']['orchestration']['clients']['key_file']    
# Whether to allow insecure SSL (https) requests when calling clients_neutron.    
default['openstack']['orchestration']['clients_neutron']['insecure'] = node['openstack']['orchestration']['clients']['insecure']    
```

A PEM encoded Certificate Authority to use for clients_nova when verifying HTTPs connections.

```
default['openstack']['orchestration']['clients_nova']['ca_file'] = node['openstack']['orchestration']['clients']['ca_file']    
# Cert file to use for clients_nova when verifying HTTPs connections.    
default['openstack']['orchestration']['clients_nova']['cert_file'] = node['openstack']['orchestration']['clients']['cert_file']    
# Private key file to use for clients_nova when verifying HTTPs connections.    
default['openstack']['orchestration']['clients_nova']['key_file'] = node['openstack']['orchestration']['clients']['key_file']    
# Whether to allow insecure SSL (https) requests when calling clients_nova.    
default['openstack']['orchestration']['clients_nova']['insecure'] = node['openstack']['orchestration']['clients']['insecure']    
```

A list of memcached server(s) for caching

```
default['openstack']['orchestration']['api']['auth']['memcached_servers'] = nil    
```

Whether token data should be authenticated or authenticated and encrypted. Acceptable values are MAC or ENCRYPT

```
default['openstack']['orchestration']['api']['auth']['memcache_security_strategy'] = nil    
```

This string is used for key derivation

```
default['openstack']['orchestration']['api']['auth']['memcache_secret_key'] = nil    
```

Hash algorithms to use for hashing PKI tokens

```
default['openstack']['orchestration']['api']['auth']['hash_algorithms'] = 'md5'    
```

A PEM encoded Certificate Authority to use when verifying HTTPs connections

```
default['openstack']['orchestration']['api']['auth']['cafile'] = nil    
```

Whether to allow the client to perform insecure SSL (https) requests

```
default['openstack']['orchestration']['api']['auth']['insecure'] = false    
```

Keystone role for heat template-defined users. (string value)

```
default['openstack']['orchestration']['heat_stack_user_role'] = nil    
```

Keystone domain id which contains heat template-defined users.
If this option is set, stack_user_domain_name option
will be ignored. (string value)

```
default['openstack']['orchestration']['stack_user_domain_id'] = nil    
```

Keystone domain name which contains heat template-defined users. (string value)

```
default['openstack']['orchestration']['stack_user_domain_name'] = nil    
```

Keystone username, a user with roles sufficient to manage
users and projects in the stack_user_domain. (string value)

```
default['openstack']['orchestration']['stack_domain_admin'] = nil    
```

Select deferred auth method, stored password or trusts.

```
default['openstack']['orchestration']['deferred_auth_method'] = 'trusts'    
```

If true, will passing stack information to scheduler hints when creating instances.

```
default['openstack']['orchestration']['stack_scheduler_hints'] = false    
```

If set, heat API service will bind to the address on this interface,
otherwise it will bind to the API endpoint's host.

```
default['openstack']['orchestration']['api']['bind_interface'] = nil    
```

If set, heat api-cfn service will bind to the address on this interface,
otherwise it will bind to the API endpoint's host.

```
default['openstack']['orchestration']['api-cfn']['bind_interface'] = nil    
```

If set, heat api-cloudwatch service will bind to the address on this interface,
otherwise it will bind to the API endpoint's host.

```
default['openstack']['orchestration']['api-cloudwatch']['bind_interface'] = nil    
```

Keystone PKI signing directory. Only written to the filter:authtoken section
of the api-paste.ini when node['openstack']['auth']['strategy'] == 'pki'

```
default['openstack']['orchestration']['api']['auth']['cache_dir'] = '/var/cache/heat'    
```

logging attribute

```
default['openstack']['orchestration']['syslog']['use'] = false    
default['openstack']['orchestration']['syslog']['facility'] = 'LOG_LOCAL2'    
default['openstack']['orchestration']['syslog']['config_facility'] = 'local2'    
```

Common rpc definitions

```
default['openstack']['orchestration']['rpc_thread_pool_size'] = 64    
default['openstack']['orchestration']['rpc_conn_pool_size'] = 30    
default['openstack']['orchestration']['rpc_response_timeout'] = 60    
```

Notification definitions

```
default['openstack']['orchestration']['notification_driver'] = 'heat.openstack.common.notifier.rpc_notifier'    
default['openstack']['orchestration']['default_notification_level'] = 'INFO'    
default['openstack']['orchestration']['default_publisher_id'] = ''    
default['openstack']['orchestration']['list_notifier_drivers'] = 'heat.openstack.common.notifier.no_op_notifier'    
default['openstack']['orchestration']['notification_topics'] = 'notifications'    
```

Array of options for `heat.conf` (e.g. ['option1=value1', 'option2=value2'])

```
default['openstack']['orchestration']['misc_heat'] = nil    
```

platform-specific settings

```
case platform_family    
when 'fedora', 'rhel' # :pragma-foodcritic: ~FC024 - won't fix this    
  default['openstack']['orchestration']['user'] = 'heat'    
  default['openstack']['orchestration']['group'] = 'heat'    
  default['openstack']['orchestration']['platform'] = {    
    'heat_common_packages' =&gt; ['openstack-heat'],    
    'heat_client_packages' =&gt; ['python-heatclient'],    
    'heat_api_packages' =&gt; ['python-heatclient'],    
    'heat_api_service' =&gt; 'openstack-heat-api',    
    'heat_api_cfn_packages' =&gt; ['python-heatclient'],    
    'heat_api_cfn_service' =&gt; 'openstack-heat-api-cfn',    
    'heat_api_cloudwatch_packages' =&gt; ['python-heatclient'],    
    'heat_api_cloudwatch_service' =&gt; 'openstack-heat-api-cloudwatch',    
    'heat_engine_packages' =&gt; [],    
    'heat_engine_service' =&gt; 'openstack-heat-engine',    
    'heat_api_process_name' =&gt; 'heat-api',    
    'package_overrides' =&gt; ''    
  }    
when 'debian'    
  default['openstack']['orchestration']['user'] = 'heat'    
  default['openstack']['orchestration']['group'] = 'heat'    
  default['openstack']['orchestration']['platform'] = {    
    'heat_common_packages' =&gt; ['heat-common'],    
    'heat_client_packages' =&gt; ['python-heatclient'],    
    'heat_api_packages' =&gt; ['heat-api', 'python-heatclient'],    
    'heat_api_service' =&gt; 'heat-api',    
    'heat_api_cfn_packages' =&gt; ['heat-api-cfn', 'python-heatclient'],    
    'heat_api_cfn_service' =&gt; 'heat-api-cfn',    
    'heat_api_cloudwatch_packages' =&gt; ['heat-api-cloudwatch', 'python-heatclient'],    
    'heat_api_cloudwatch_service' =&gt; 'heat-api-cloudwatch',    
    'heat_engine_packages' =&gt; ['heat-engine'],    
    'heat_engine_service' =&gt; 'heat-engine',    
    'package_overrides' =&gt; "-o Dpkg::Options::='--force-confold' -o Dpkg::Options::='--force-confdef'"    
  }    
end    
```



***

## cookbook-openstack-telemetry_attributes_default

[back to top](#contents)

The name of the Chef role that knows about the message queue server
that Nova uses

```
default['openstack']['telemetry']['rabbit_server_chef_role'] = 'os-ops-messaging'    
```


```
default['openstack']['telemetry']['conf_dir'] = '/etc/ceilometer'    
default['openstack']['telemetry']['conf'] = ::File.join(node['openstack']['telemetry']['conf_dir'], 'ceilometer.conf')    
default['openstack']['telemetry']['periodic_interval'] = 600    
default['openstack']['telemetry']['syslog']['use'] = false    
default['openstack']['telemetry']['verbose'] = 'true'    
default['openstack']['telemetry']['debug'] = 'false'    
```


```
default['openstack']['telemetry']['api']['auth']['cache_dir'] = '/var/cache/ceilometer/api'    
```


```
default['openstack']['telemetry']['api']['auth']['version'] = node['openstack']['api']['auth']['version']    
```

A list of memcached server(s) to use for caching

```
default['openstack']['telemetry']['api']['auth']['memcached_servers'] = nil    
```

Whether token data should be authenticated or authenticated and encrypted. Acceptable values are MAC or ENCRYPT

```
default['openstack']['telemetry']['api']['auth']['memcache_security_strategy'] = nil    
```

This string is used for key derivation

```
default['openstack']['telemetry']['api']['auth']['memcache_secret_key'] = nil    
```

Hash algorithms to use for hashing PKI tokens

```
default['openstack']['telemetry']['api']['auth']['hash_algorithms'] = 'md5'    
```

A PEM encoded Certificate Authority to use when verifying HTTPs connections

```
default['openstack']['telemetry']['api']['auth']['cafile'] = nil    
```

Verify HTTPS connections

```
default['openstack']['telemetry']['api']['auth']['insecure'] = false    
```


```
default['openstack']['telemetry']['user'] = 'ceilometer'    
default['openstack']['telemetry']['group'] = 'ceilometer'    
```


```
default['openstack']['telemetry']['region'] = node['openstack']['region']    
default['openstack']['telemetry']['service_user'] = 'ceilometer'    
default['openstack']['telemetry']['service_tenant_name'] = 'service'    
default['openstack']['telemetry']['service_role'] = 'admin'    
```

A PEM encoded Certificate Authority to use when verifying HTTPs connections (for service polling authentication)

```
default['openstack']['telemetry']['service-credentials']['cafile'] = nil    
```

Verify HTTPS connections (for service polling authentication)

```
default['openstack']['telemetry']['service-credentials']['insecure'] = false    
```


```
default['openstack']['telemetry']['sample_source'] = 'openstack'    
```


```
default['openstack']['telemetry']['dbsync_timeout'] = 3600    
```


```
case node['openstack']['compute']['driver']    
when 'libvirt.LibvirtDriver'    
  default['openstack']['telemetry']['hypervisor_inspector'] = 'libvirt'    
when 'vmwareapi.VMwareESXDriver', 'vmwareapi.VMwareVCDriver'    
  default['openstack']['telemetry']['hypervisor_inspector'] = 'vsphere'    
else    
  default['openstack']['telemetry']['hypervisor_inspector'] = nil    
end    
```


```
case platform_family    
when 'suse' # :pragma-foodcritic: ~FC024 - won't fix this    
  default['openstack']['telemetry']['platform'] = {    
    'common_packages' =&gt; ['openstack-ceilometer'],    
    'agent_central_packages' =&gt; ['openstack-ceilometer-agent-central'],    
    'agent_central_service' =&gt; 'openstack-ceilometer-agent-central',    
    'agent_compute_packages' =&gt; ['openstack-ceilometer-agent-compute'],    
    'agent_compute_service' =&gt; 'openstack-ceilometer-agent-compute',    
    'agent_notification_packages' =&gt; ['openstack-ceilometer-agent-notification'],    
    'agent_notification_service' =&gt; 'openstack-ceilometer-agent-notification',    
    'alarm_evaluator_packages' =&gt; ['openstack-ceilometer-alarm-evaluator'],    
    'alarm_evaluator_service' =&gt; 'openstack-ceilometer-alarm-evaluator',    
    'alarm_notifier_packages' =&gt; ['openstack-ceilometer-alarm-notifier'],    
    'alarm_notifier_service' =&gt; 'openstack-ceilometer-alarm-notifier',    
    'api_packages' =&gt; ['openstack-ceilometer-api'],    
    'api_service' =&gt; 'openstack-ceilometer-api',    
    'client_packages' =&gt; ['python-ceilometerclient'],    
    'collector_packages' =&gt; ['openstack-ceilometer-collector'],    
    'collector_service' =&gt; 'openstack-ceilometer-collector',    
    'package_overrides' =&gt; ''    
  }    
```


```
when 'fedora', 'rhel'    
  default['openstack']['telemetry']['platform'] = {    
    'common_packages' =&gt; ['openstack-ceilometer-common'],    
    'agent_central_packages' =&gt; ['openstack-ceilometer-central'],    
    'agent_central_service' =&gt; 'openstack-ceilometer-central',    
    'agent_compute_packages' =&gt; ['openstack-ceilometer-compute'],    
    'agent_compute_service' =&gt; 'openstack-ceilometer-compute',    
    'agent_notification_packages' =&gt; ['openstack-ceilometer-collector'],    
    'agent_notification_service' =&gt; 'openstack-ceilometer-notification',    
    'alarm_evaluator_packages' =&gt; ['openstack-ceilometer-alarm'],    
    'alarm_evaluator_service' =&gt; 'openstack-ceilometer-alarm-evaluator',    
    'alarm_notifier_packages' =&gt; ['openstack-ceilometer-alarm'],    
    'alarm_notifier_service' =&gt; 'openstack-ceilometer-alarm-notifier',    
    'api_packages' =&gt; ['openstack-ceilometer-api'],    
    'api_service' =&gt; 'openstack-ceilometer-api',    
    'client_packages' =&gt; ['python-ceilometerclient'],    
    'collector_packages' =&gt; ['openstack-ceilometer-collector'],    
    'collector_service' =&gt; 'openstack-ceilometer-collector',    
    'package_overrides' =&gt; ''    
  }    
```


```
when 'debian'    
  default['openstack']['telemetry']['platform'] = {    
    'common_packages' =&gt; ['ceilometer-common'],    
    'agent_central_packages' =&gt; ['ceilometer-agent-central'],    
    'agent_central_service' =&gt; 'ceilometer-agent-central',    
    'agent_compute_packages' =&gt; ['ceilometer-agent-compute'],    
    'agent_compute_service' =&gt; 'ceilometer-agent-compute',    
    'agent_notification_packages' =&gt; ['ceilometer-agent-notification'],    
    'agent_notification_service' =&gt; 'ceilometer-agent-notification',    
    'alarm_evaluator_packages' =&gt; ['ceilometer-alarm-evaluator'],    
    'alarm_evaluator_service' =&gt; 'ceilometer-alarm-evaluator',    
    'alarm_notifier_packages' =&gt; ['ceilometer-alarm-notifier'],    
    'alarm_notifier_service' =&gt; 'ceilometer-alarm-notifier',    
    'api_packages' =&gt; ['ceilometer-api'],    
    'api_service' =&gt; 'ceilometer-api',    
    'client_packages' =&gt; ['python-ceilometerclient'],    
    'collector_packages' =&gt; ['ceilometer-collector', 'python-mysqldb'],    
    'collector_service' =&gt; 'ceilometer-collector',    
    'package_overrides' =&gt; "-o Dpkg::Options::='--force-confold' -o Dpkg::Options::='--force-confdef'"    
  }    
end    
```

The time to live value for samples which is specified in seconds, override to -1 if no data expiry is required

```
default['openstack']['telemetry']['database']['time_to_live'] = 1800    
```

Decide whether to store events in notification service or not

```
default['openstack']['telemetry']['notification']['store_events'] = false    
```

</vni_max></vni_min></tun_max></tun_min></vlan_max></vlan_min></physical_network></host></ovsdb_port></ip></host></nos-topology-name></nos-admin-password></nos-admin-username></nos-port></port></ip></vswitch></physical_network></vlan_max></vlan_min></physical_network></port></hostname></credential></credential></ssh></physical_interface></physical_network></vlan_max></vlan_min></physical_network></physical></switch></mgmt></mgmt></physical_interface></physical_network>
    
  </div>

</div>

      </div>
    </div>

    <footer class="site-footer">

  <div class="wrapper">

    <h2 class="footer-heading">Cookbook OpenStack Documentation</h2>

    <div class="footer-col-wrapper">
      <div class="footer-col  footer-col-1">
        <ul class="contact-list">
          <li>Cookbook OpenStack Documentation</li>
          <li><a href="mailto:vanderwl@us.ibm.com">vanderwl@us.ibm.com</a></li>
        </ul>
      </div>

      <div class="footer-col  footer-col-2">
        <ul class="social-media-list">
          
          <li>
            <a href="https://github.com/kramvan1">
              <span class="icon  icon--github">
                <svg viewBox="0 0 16 16">
                  <path fill="#828282" d="M7.999,0.431c-4.285,0-7.76,3.474-7.76,7.761 c0,3.428,2.223,6.337,5.307,7.363c0.388,0.071,0.53-0.168,0.53-0.374c0-0.184-0.007-0.672-0.01-1.32 c-2.159,0.469-2.614-1.04-2.614-1.04c-0.353-0.896-0.862-1.135-0.862-1.135c-0.705-0.481,0.053-0.472,0.053-0.472 c0.779,0.055,1.189,0.8,1.189,0.8c0.692,1.186,1.816,0.843,2.258,0.645c0.071-0.502,0.271-0.843,0.493-1.037 C4.86,11.425,3.049,10.76,3.049,7.786c0-0.847,0.302-1.54,0.799-2.082C3.768,5.507,3.501,4.718,3.924,3.65 c0,0,0.652-0.209,2.134,0.796C6.677,4.273,7.34,4.187,8,4.184c0.659,0.003,1.323,0.089,1.943,0.261 c1.482-1.004,2.132-0.796,2.132-0.796c0.423,1.068,0.157,1.857,0.077,2.054c0.497,0.542,0.798,1.235,0.798,2.082 c0,2.981-1.814,3.637-3.543,3.829c0.279,0.24,0.527,0.713,0.527,1.437c0,1.037-0.01,1.874-0.01,2.129 c0,0.208,0.14,0.449,0.534,0.373c3.081-1.028,5.302-3.935,5.302-7.362C15.76,3.906,12.285,0.431,7.999,0.431z"/>
                </svg>
              </span>

              <span class="username">kramvan1</span>
            </a>
          </li>
          

          
          <li>
            <a href="https://twitter.com/MarkRVanderwiel">
              <span class="icon  icon--twitter">
                <svg viewBox="0 0 16 16">
                  <path fill="#828282" d="M15.969,3.058c-0.586,0.26-1.217,0.436-1.878,0.515c0.675-0.405,1.194-1.045,1.438-1.809
                  c-0.632,0.375-1.332,0.647-2.076,0.793c-0.596-0.636-1.446-1.033-2.387-1.033c-1.806,0-3.27,1.464-3.27,3.27 c0,0.256,0.029,0.506,0.085,0.745C5.163,5.404,2.753,4.102,1.14,2.124C0.859,2.607,0.698,3.168,0.698,3.767 c0,1.134,0.577,2.135,1.455,2.722C1.616,6.472,1.112,6.325,0.671,6.08c0,0.014,0,0.027,0,0.041c0,1.584,1.127,2.906,2.623,3.206 C3.02,9.402,2.731,9.442,2.433,9.442c-0.211,0-0.416-0.021-0.615-0.059c0.416,1.299,1.624,2.245,3.055,2.271 c-1.119,0.877-2.529,1.4-4.061,1.4c-0.264,0-0.524-0.015-0.78-0.046c1.447,0.928,3.166,1.469,5.013,1.469 c6.015,0,9.304-4.983,9.304-9.304c0-0.142-0.003-0.283-0.009-0.423C14.976,4.29,15.531,3.714,15.969,3.058z"/>
                </svg>
              </span>

              <span class="username">MarkRVanderwiel</span>
            </a>
          </li>
          
        </ul>
      </div>

      <div class="footer-col  footer-col-3">
        <p class="text">Documentation for OpenStack cookbooks generated from the source ReadMe and attribute files.
</p>
      </div>
    </div>

  </div>

</footer>


  </body>

</html>
